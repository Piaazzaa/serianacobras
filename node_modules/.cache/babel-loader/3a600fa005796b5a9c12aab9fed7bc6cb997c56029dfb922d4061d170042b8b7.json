{"ast":null,"code":"// packages/ag-grid-react/src/agGridReact.tsx\nimport React20, { Component } from \"react\";\n\n// packages/ag-grid-react/src/reactUi/agGridReactUi.tsx\nimport React19, { forwardRef as forwardRef3, useCallback as useCallback15, useContext as useContext15, useEffect as useEffect10, useImperativeHandle as useImperativeHandle3, useMemo as useMemo13, useRef as useRef16, useState as useState16 } from \"react\";\nimport { BaseComponentWrapper, GridCoreCreator, VanillaFrameworkOverrides, _combineAttributesAndGridOptions, _getGridOption, _getGridRegisteredModules, _isClientSideRowModel, _isServerSideRowModel, _observeResize as _observeResize2, _processOnChange, _warn as _warn2 } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/cellRenderer/groupCellRenderer.tsx\nimport React3, { forwardRef, useCallback, useContext, useImperativeHandle, useLayoutEffect, useMemo, useRef, useState } from \"react\";\nimport { _toString } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/beansContext.tsx\nimport React from \"react\";\nvar BeansContext = React.createContext({});\nvar RenderModeContext = React.createContext(\"default\");\n\n// packages/ag-grid-react/src/reactUi/jsComp.tsx\nvar showJsComp = (compDetails, context, eParent, ref) => {\n  const doNothing = !compDetails || compDetails.componentFromFramework || context.isDestroyed();\n  if (doNothing) {\n    return;\n  }\n  const promise = compDetails.newAgStackInstance();\n  let comp;\n  let compGui;\n  let destroyed = false;\n  promise.then(c => {\n    if (destroyed) {\n      context.destroyBean(c);\n      return;\n    }\n    comp = c;\n    compGui = comp.getGui();\n    eParent.appendChild(compGui);\n    setRef(ref, comp);\n  });\n  return () => {\n    destroyed = true;\n    if (!comp) {\n      return;\n    }\n    compGui?.parentElement?.removeChild(compGui);\n    context.destroyBean(comp);\n    if (ref) {\n      setRef(ref, void 0);\n    }\n  };\n};\nvar setRef = (ref, value) => {\n  if (!ref) {\n    return;\n  }\n  if (ref instanceof Function) {\n    const refCallback = ref;\n    refCallback(value);\n  } else {\n    const refObj = ref;\n    refObj.current = value;\n  }\n};\n\n// packages/ag-grid-react/src/reactUi/utils.tsx\nimport React2 from \"react\";\nimport ReactDOM from \"react-dom\";\nvar classesList = (...list) => {\n  const filtered = list.filter(s => s != null && s !== \"\");\n  return filtered.join(\" \");\n};\nvar CssClasses = class _CssClasses {\n  constructor(...initialClasses) {\n    this.classesMap = {};\n    initialClasses.forEach(className => {\n      this.classesMap[className] = true;\n    });\n  }\n  setClass(className, on) {\n    const nothingHasChanged = !!this.classesMap[className] == on;\n    if (nothingHasChanged) {\n      return this;\n    }\n    const res = new _CssClasses();\n    res.classesMap = {\n      ...this.classesMap\n    };\n    res.classesMap[className] = on;\n    return res;\n  }\n  toString() {\n    const res = Object.keys(this.classesMap).filter(key => this.classesMap[key]).join(\" \");\n    return res;\n  }\n};\nvar isComponentStateless = Component2 => {\n  const hasSymbol = () => typeof Symbol === \"function\" && Symbol.for;\n  const getMemoType = () => hasSymbol() ? Symbol.for(\"react.memo\") : 60115;\n  return typeof Component2 === \"function\" && !(Component2.prototype && Component2.prototype.isReactComponent) || typeof Component2 === \"object\" && Component2.$$typeof === getMemoType();\n};\nvar reactVersion = React2.version?.split(\".\")[0];\nvar isReactVersion17Minus = reactVersion === \"16\" || reactVersion === \"17\";\nfunction isReact19() {\n  return reactVersion === \"19\";\n}\nvar disableFlushSync = false;\nfunction runWithoutFlushSync(func) {\n  if (!disableFlushSync) {\n    setTimeout(() => disableFlushSync = false, 0);\n  }\n  disableFlushSync = true;\n  return func();\n}\nvar agFlushSync = (useFlushSync, fn) => {\n  if (!isReactVersion17Minus && useFlushSync && !disableFlushSync) {\n    ReactDOM.flushSync(fn);\n  } else {\n    fn();\n  }\n};\nvar agStartTransition = fn => {\n  if (!isReactVersion17Minus) {\n    React2.startTransition(fn);\n  } else {\n    fn();\n  }\n};\nfunction agUseSyncExternalStore(subscribe, getSnapshot, defaultSnapshot) {\n  if (React2.useSyncExternalStore) {\n    return React2.useSyncExternalStore(subscribe, getSnapshot);\n  } else {\n    return defaultSnapshot;\n  }\n}\nfunction getNextValueIfDifferent(prev, next, maintainOrder) {\n  if (next == null || prev == null) {\n    return next;\n  }\n  if (prev === next || next.length === 0 && prev.length === 0) {\n    return prev;\n  }\n  if (maintainOrder || prev.length === 0 && next.length > 0 || prev.length > 0 && next.length === 0) {\n    return next;\n  }\n  const oldValues = [];\n  const newValues = [];\n  const prevMap = /* @__PURE__ */new Map();\n  const nextMap = /* @__PURE__ */new Map();\n  for (let i = 0; i < next.length; i++) {\n    const c = next[i];\n    nextMap.set(c.instanceId, c);\n  }\n  for (let i = 0; i < prev.length; i++) {\n    const c = prev[i];\n    prevMap.set(c.instanceId, c);\n    if (nextMap.has(c.instanceId)) {\n      oldValues.push(c);\n    }\n  }\n  for (let i = 0; i < next.length; i++) {\n    const c = next[i];\n    const instanceId = c.instanceId;\n    if (!prevMap.has(instanceId)) {\n      newValues.push(c);\n    }\n  }\n  if (oldValues.length === prev.length && newValues.length === 0) {\n    return prev;\n  }\n  if (oldValues.length === 0 && newValues.length === next.length) {\n    return next;\n  }\n  if (oldValues.length === 0) {\n    return newValues;\n  }\n  if (newValues.length === 0) {\n    return oldValues;\n  }\n  return [...oldValues, ...newValues];\n}\n\n// packages/ag-grid-react/src/reactUi/cellRenderer/groupCellRenderer.tsx\nvar GroupCellRenderer = forwardRef((props, ref) => {\n  const {\n    registry,\n    context\n  } = useContext(BeansContext);\n  const eGui = useRef(null);\n  const eValueRef = useRef(null);\n  const eCheckboxRef = useRef(null);\n  const eExpandedRef = useRef(null);\n  const eContractedRef = useRef(null);\n  const ctrlRef = useRef();\n  const [innerCompDetails, setInnerCompDetails] = useState();\n  const [childCount, setChildCount] = useState();\n  const [value, setValue] = useState();\n  const [cssClasses, setCssClasses] = useState(() => new CssClasses());\n  const [expandedCssClasses, setExpandedCssClasses] = useState(() => new CssClasses(\"ag-hidden\"));\n  const [contractedCssClasses, setContractedCssClasses] = useState(() => new CssClasses(\"ag-hidden\"));\n  const [checkboxCssClasses, setCheckboxCssClasses] = useState(() => new CssClasses(\"ag-invisible\"));\n  useImperativeHandle(ref, () => {\n    return {\n      // force new instance when grid tries to refresh\n      refresh() {\n        return false;\n      }\n    };\n  });\n  useLayoutEffect(() => {\n    return showJsComp(innerCompDetails, context, eValueRef.current);\n  }, [innerCompDetails]);\n  const setRef2 = useCallback(eRef => {\n    eGui.current = eRef;\n    if (!eRef || context.isDestroyed()) {\n      ctrlRef.current = context.destroyBean(ctrlRef.current);\n      return;\n    }\n    const compProxy = {\n      setInnerRenderer: (details, valueToDisplay) => {\n        setInnerCompDetails(details);\n        setValue(valueToDisplay);\n      },\n      setChildCount: count => setChildCount(count),\n      toggleCss: (name, on) => setCssClasses(prev => prev.setClass(name, on)),\n      setContractedDisplayed: displayed => setContractedCssClasses(prev => prev.setClass(\"ag-hidden\", !displayed)),\n      setExpandedDisplayed: displayed => setExpandedCssClasses(prev => prev.setClass(\"ag-hidden\", !displayed)),\n      setCheckboxVisible: visible => setCheckboxCssClasses(prev => prev.setClass(\"ag-invisible\", !visible)),\n      setCheckboxSpacing: add => setCheckboxCssClasses(prev => prev.setClass(\"ag-group-checkbox-spacing\", add))\n    };\n    const groupCellRendererCtrl = registry.createDynamicBean(\"groupCellRendererCtrl\", true);\n    if (groupCellRendererCtrl) {\n      ctrlRef.current = context.createBean(groupCellRendererCtrl);\n      ctrlRef.current.init(compProxy, eRef, eCheckboxRef.current, eExpandedRef.current, eContractedRef.current, GroupCellRenderer, props);\n    }\n  }, []);\n  const className = useMemo(() => `ag-cell-wrapper ${cssClasses.toString()}`, [cssClasses]);\n  const expandedClassName = useMemo(() => `ag-group-expanded ${expandedCssClasses.toString()}`, [expandedCssClasses]);\n  const contractedClassName = useMemo(() => `ag-group-contracted ${contractedCssClasses.toString()}`, [contractedCssClasses]);\n  const checkboxClassName = useMemo(() => `ag-group-checkbox ${checkboxCssClasses.toString()}`, [checkboxCssClasses]);\n  const useFwRenderer = innerCompDetails?.componentFromFramework;\n  const FwRenderer = useFwRenderer ? innerCompDetails.componentClass : void 0;\n  const useValue = innerCompDetails == null && value != null;\n  const escapedValue = _toString(value);\n  return /* @__PURE__ */React3.createElement(\"span\", {\n    className,\n    ref: setRef2,\n    ...(!props.colDef ? {\n      role: ctrlRef.current?.getCellAriaRole()\n    } : {})\n  }, /* @__PURE__ */React3.createElement(\"span\", {\n    className: expandedClassName,\n    ref: eExpandedRef\n  }), /* @__PURE__ */React3.createElement(\"span\", {\n    className: contractedClassName,\n    ref: eContractedRef\n  }), /* @__PURE__ */React3.createElement(\"span\", {\n    className: checkboxClassName,\n    ref: eCheckboxRef\n  }), /* @__PURE__ */React3.createElement(\"span\", {\n    className: \"ag-group-value\",\n    ref: eValueRef\n  }, useValue ? escapedValue : useFwRenderer ? /* @__PURE__ */React3.createElement(FwRenderer, {\n    ...innerCompDetails.params\n  }) : null), /* @__PURE__ */React3.createElement(\"span\", {\n    className: \"ag-group-child-count\"\n  }, childCount));\n});\nvar groupCellRenderer_default = GroupCellRenderer;\n\n// packages/ag-grid-react/src/shared/customComp/customComponentWrapper.ts\nimport { AgPromise as AgPromise2 } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/customComp/customWrapperComp.tsx\nimport React4, { memo, useEffect, useState as useState2 } from \"react\";\n\n// packages/ag-grid-react/src/shared/customComp/customContext.ts\nimport { createContext } from \"react\";\nvar CustomContext = createContext({\n  setMethods: () => {}\n});\n\n// packages/ag-grid-react/src/reactUi/customComp/customWrapperComp.tsx\nvar CustomWrapperComp = params => {\n  const {\n    initialProps,\n    addUpdateCallback,\n    CustomComponentClass,\n    setMethods\n  } = params;\n  const [{\n    key,\n    ...props\n  }, setProps] = useState2(initialProps);\n  useEffect(() => {\n    addUpdateCallback(newProps => setProps(newProps));\n  }, []);\n  return /* @__PURE__ */React4.createElement(CustomContext.Provider, {\n    value: {\n      setMethods\n    }\n  }, /* @__PURE__ */React4.createElement(CustomComponentClass, {\n    key,\n    ...props\n  }));\n};\nvar customWrapperComp_default = memo(CustomWrapperComp);\n\n// packages/ag-grid-react/src/shared/reactComponent.ts\nimport { createElement } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { AgPromise } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/shared/keyGenerator.ts\nvar counter = 0;\nfunction generateNewKey() {\n  return `agPortalKey_${++counter}`;\n}\n\n// packages/ag-grid-react/src/shared/reactComponent.ts\nvar ReactComponent = class {\n  constructor(reactComponent, portalManager, componentType, suppressFallbackMethods) {\n    this.portal = null;\n    this.oldPortal = null;\n    this.reactComponent = reactComponent;\n    this.portalManager = portalManager;\n    this.componentType = componentType;\n    this.suppressFallbackMethods = !!suppressFallbackMethods;\n    this.statelessComponent = this.isStateless(this.reactComponent);\n    this.key = generateNewKey();\n    this.portalKey = generateNewKey();\n    this.instanceCreated = this.isStatelessComponent() ? AgPromise.resolve(false) : new AgPromise(resolve => {\n      this.resolveInstanceCreated = resolve;\n    });\n  }\n  getGui() {\n    return this.eParentElement;\n  }\n  /** `getGui()` returns the parent element. This returns the actual root element. */\n  getRootElement() {\n    const firstChild = this.eParentElement.firstChild;\n    return firstChild;\n  }\n  destroy() {\n    if (this.componentInstance && typeof this.componentInstance.destroy == \"function\") {\n      this.componentInstance.destroy();\n    }\n    const portal = this.portal;\n    if (portal) {\n      this.portalManager.destroyPortal(portal);\n    }\n  }\n  createParentElement(params) {\n    const componentWrappingElement = this.portalManager.getComponentWrappingElement();\n    const eParentElement = document.createElement(componentWrappingElement || \"div\");\n    eParentElement.classList.add(\"ag-react-container\");\n    params.reactContainer = eParentElement;\n    return eParentElement;\n  }\n  statelessComponentRendered() {\n    return this.eParentElement.childElementCount > 0 || this.eParentElement.childNodes.length > 0;\n  }\n  getFrameworkComponentInstance() {\n    return this.componentInstance;\n  }\n  isStatelessComponent() {\n    return this.statelessComponent;\n  }\n  getReactComponentName() {\n    return this.reactComponent.name;\n  }\n  getMemoType() {\n    return this.hasSymbol() ? Symbol.for(\"react.memo\") : 60115;\n  }\n  hasSymbol() {\n    return typeof Symbol === \"function\" && Symbol.for;\n  }\n  isStateless(Component2) {\n    return typeof Component2 === \"function\" && !(Component2.prototype && Component2.prototype.isReactComponent) || typeof Component2 === \"object\" && Component2.$$typeof === this.getMemoType();\n  }\n  hasMethod(name) {\n    const frameworkComponentInstance = this.getFrameworkComponentInstance();\n    return !!frameworkComponentInstance && frameworkComponentInstance[name] != null || this.fallbackMethodAvailable(name);\n  }\n  callMethod(name, args) {\n    const frameworkComponentInstance = this.getFrameworkComponentInstance();\n    if (this.isStatelessComponent()) {\n      return this.fallbackMethod(name, !!args && args[0] ? args[0] : {});\n    } else if (!frameworkComponentInstance) {\n      setTimeout(() => this.callMethod(name, args));\n      return;\n    }\n    const method = frameworkComponentInstance[name];\n    if (method) {\n      return method.apply(frameworkComponentInstance, args);\n    }\n    if (this.fallbackMethodAvailable(name)) {\n      return this.fallbackMethod(name, !!args && args[0] ? args[0] : {});\n    }\n  }\n  addMethod(name, callback) {\n    this[name] = callback;\n  }\n  init(params) {\n    this.eParentElement = this.createParentElement(params);\n    this.createOrUpdatePortal(params);\n    return new AgPromise(resolve => this.createReactComponent(resolve));\n  }\n  createOrUpdatePortal(params) {\n    if (!this.isStatelessComponent()) {\n      this.ref = element => {\n        this.componentInstance = element;\n        this.resolveInstanceCreated?.(true);\n        this.resolveInstanceCreated = void 0;\n      };\n      params.ref = this.ref;\n    }\n    this.reactElement = this.createElement(this.reactComponent, {\n      ...params,\n      key: this.key\n    });\n    this.portal = createPortal(this.reactElement, this.eParentElement, this.portalKey\n    // fixed deltaRowModeRefreshCompRenderer\n    );\n  }\n  createElement(reactComponent, props) {\n    return createElement(reactComponent, props);\n  }\n  createReactComponent(resolve) {\n    this.portalManager.mountReactPortal(this.portal, this, resolve);\n  }\n  rendered() {\n    return this.isStatelessComponent() && this.statelessComponentRendered() || !!(!this.isStatelessComponent() && this.getFrameworkComponentInstance());\n  }\n  /*\n   * fallback methods - these will be invoked if a corresponding instance method is not present\n   * for example if refresh is called and is not available on the component instance, then refreshComponent on this\n   * class will be invoked instead\n   *\n   * Currently only refresh is supported\n   */\n  refreshComponent(args) {\n    this.oldPortal = this.portal;\n    this.createOrUpdatePortal(args);\n    this.portalManager.updateReactPortal(this.oldPortal, this.portal);\n  }\n  fallbackMethod(name, params) {\n    const method = this[`${name}Component`];\n    if (!this.suppressFallbackMethods && !!method) {\n      return method.bind(this)(params);\n    }\n  }\n  fallbackMethodAvailable(name) {\n    if (this.suppressFallbackMethods) {\n      return false;\n    }\n    const method = this[`${name}Component`];\n    return !!method;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/customComponentWrapper.ts\nfunction addOptionalMethods(optionalMethodNames, providedMethods, component) {\n  optionalMethodNames.forEach(methodName => {\n    const providedMethod = providedMethods[methodName];\n    if (providedMethod) {\n      component[methodName] = providedMethod;\n    }\n  });\n}\nvar CustomComponentWrapper = class extends ReactComponent {\n  constructor() {\n    super(...arguments);\n    this.awaitUpdateCallback = new AgPromise2(resolve => {\n      this.resolveUpdateCallback = resolve;\n    });\n    this.wrapperComponent = customWrapperComp_default;\n  }\n  init(params) {\n    this.sourceParams = params;\n    return super.init(this.getProps());\n  }\n  addMethod() {}\n  getInstance() {\n    return this.instanceCreated.then(() => this.componentInstance);\n  }\n  getFrameworkComponentInstance() {\n    return this;\n  }\n  createElement(reactComponent, props) {\n    return super.createElement(this.wrapperComponent, {\n      initialProps: props,\n      CustomComponentClass: reactComponent,\n      setMethods: methods => this.setMethods(methods),\n      addUpdateCallback: callback => {\n        this.updateCallback = () => {\n          callback(this.getProps());\n          return new AgPromise2(resolve => {\n            setTimeout(() => {\n              resolve();\n            });\n          });\n        };\n        this.resolveUpdateCallback();\n      }\n    });\n  }\n  setMethods(methods) {\n    this.providedMethods = methods;\n    addOptionalMethods(this.getOptionalMethods(), this.providedMethods, this);\n  }\n  getOptionalMethods() {\n    return [];\n  }\n  getProps() {\n    return {\n      ...this.sourceParams,\n      key: this.key,\n      ref: this.ref\n    };\n  }\n  refreshProps() {\n    if (this.updateCallback) {\n      return this.updateCallback();\n    }\n    return new AgPromise2(resolve => this.awaitUpdateCallback.then(() => {\n      this.updateCallback().then(() => resolve());\n    }));\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/cellRendererComponentWrapper.ts\nvar CellRendererComponentWrapper = class extends CustomComponentWrapper {\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n    return true;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/dateComponentWrapper.ts\nvar DateComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.date = null;\n    this.onDateChange = date => this.updateDate(date);\n  }\n  getDate() {\n    return this.date;\n  }\n  setDate(date) {\n    this.date = date;\n    this.refreshProps();\n  }\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n  }\n  getOptionalMethods() {\n    return [\"afterGuiAttached\", \"setInputPlaceholder\", \"setInputAriaLabel\", \"setDisabled\"];\n  }\n  updateDate(date) {\n    this.setDate(date);\n    this.sourceParams.onDateChanged();\n  }\n  getProps() {\n    const props = super.getProps();\n    props.date = this.date;\n    props.onDateChange = this.onDateChange;\n    delete props.onDateChanged;\n    return props;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/dragAndDropImageComponentWrapper.ts\nvar DragAndDropImageComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.label = \"\";\n    this.icon = null;\n    this.shake = false;\n  }\n  setIcon(iconName, shake) {\n    this.icon = iconName;\n    this.shake = shake;\n    this.refreshProps();\n  }\n  setLabel(label) {\n    this.label = label;\n    this.refreshProps();\n  }\n  getProps() {\n    const props = super.getProps();\n    const {\n      label,\n      icon,\n      shake\n    } = this;\n    props.label = label;\n    props.icon = icon;\n    props.shake = shake;\n    return props;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/filterComponentWrapper.ts\nimport { AgPromise as AgPromise3 } from \"ag-grid-community\";\nvar FilterComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.model = null;\n    this.onModelChange = model => this.updateModel(model);\n    this.onUiChange = () => this.sourceParams.filterModifiedCallback();\n    this.expectingNewMethods = true;\n    this.hasBeenActive = false;\n    this.awaitSetMethodsCallback = new AgPromise3(resolve => {\n      this.resolveSetMethodsCallback = resolve;\n    });\n  }\n  isFilterActive() {\n    return this.model != null;\n  }\n  doesFilterPass(params) {\n    return this.providedMethods.doesFilterPass(params);\n  }\n  getModel() {\n    return this.model;\n  }\n  setModel(model) {\n    this.expectingNewMethods = true;\n    this.model = model;\n    this.hasBeenActive || (this.hasBeenActive = this.isFilterActive());\n    return this.refreshProps();\n  }\n  refresh(newParams) {\n    this.sourceParams = newParams;\n    this.refreshProps();\n    return true;\n  }\n  afterGuiAttached(params) {\n    const providedMethods = this.providedMethods;\n    if (!providedMethods) {\n      this.awaitSetMethodsCallback.then(() => this.providedMethods?.afterGuiAttached?.(params));\n    } else {\n      providedMethods.afterGuiAttached?.(params);\n    }\n  }\n  getOptionalMethods() {\n    return [\"afterGuiDetached\", \"onNewRowsLoaded\", \"getModelAsString\", \"onAnyFilterChanged\"];\n  }\n  setMethods(methods) {\n    if (this.expectingNewMethods === false && this.hasBeenActive && this.providedMethods?.doesFilterPass !== methods?.doesFilterPass) {\n      setTimeout(() => {\n        this.sourceParams.filterChangedCallback();\n      });\n    }\n    this.expectingNewMethods = false;\n    super.setMethods(methods);\n    this.resolveSetMethodsCallback();\n    this.resolveFilterPassCallback?.();\n    this.resolveFilterPassCallback = void 0;\n  }\n  updateModel(model) {\n    this.resolveFilterPassCallback?.();\n    const awaitFilterPassCallback = new AgPromise3(resolve => {\n      this.resolveFilterPassCallback = resolve;\n    });\n    this.setModel(model).then(() => {\n      awaitFilterPassCallback.then(() => {\n        this.sourceParams.filterChangedCallback();\n      });\n    });\n  }\n  getProps() {\n    const props = super.getProps();\n    props.model = this.model;\n    props.onModelChange = this.onModelChange;\n    props.onUiChange = this.onUiChange;\n    delete props.filterChangedCallback;\n    return props;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/filterDisplayComponentWrapper.ts\nimport { AgPromise as AgPromise4 } from \"ag-grid-community\";\nvar FilterDisplayComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.awaitSetMethodsCallback = new AgPromise4(resolve => {\n      this.resolveSetMethodsCallback = resolve;\n    });\n  }\n  refresh(newParams) {\n    this.sourceParams = newParams;\n    this.refreshProps();\n    return true;\n  }\n  afterGuiAttached(params) {\n    const providedMethods = this.providedMethods;\n    if (!providedMethods) {\n      this.awaitSetMethodsCallback.then(() => this.providedMethods?.afterGuiAttached?.(params));\n    } else {\n      providedMethods.afterGuiAttached?.(params);\n    }\n  }\n  getOptionalMethods() {\n    return [\"afterGuiDetached\", \"onNewRowsLoaded\", \"onAnyFilterChanged\"];\n  }\n  setMethods(methods) {\n    super.setMethods(methods);\n    this.resolveSetMethodsCallback();\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/floatingFilterComponentProxy.ts\nimport { AgPromise as AgPromise5 } from \"ag-grid-community\";\nfunction updateFloatingFilterParent(params, model) {\n  params.parentFilterInstance(instance => {\n    (instance.setModel(model) || AgPromise5.resolve()).then(() => {\n      params.filterParams.filterChangedCallback();\n    });\n  });\n}\nvar FloatingFilterComponentProxy = class {\n  constructor(floatingFilterParams, refreshProps) {\n    this.floatingFilterParams = floatingFilterParams;\n    this.refreshProps = refreshProps;\n    this.model = null;\n    this.onModelChange = model => this.updateModel(model);\n  }\n  getProps() {\n    return {\n      ...this.floatingFilterParams,\n      model: this.model,\n      onModelChange: this.onModelChange\n    };\n  }\n  onParentModelChanged(parentModel) {\n    this.model = parentModel;\n    this.refreshProps();\n  }\n  refresh(params) {\n    this.floatingFilterParams = params;\n    this.refreshProps();\n  }\n  setMethods(methods) {\n    addOptionalMethods(this.getOptionalMethods(), methods, this);\n  }\n  getOptionalMethods() {\n    return [\"afterGuiAttached\"];\n  }\n  updateModel(model) {\n    this.model = model;\n    this.refreshProps();\n    updateFloatingFilterParent(this.floatingFilterParams, model);\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/floatingFilterComponentWrapper.ts\nvar FloatingFilterComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.model = null;\n    this.onModelChange = model => this.updateModel(model);\n  }\n  onParentModelChanged(parentModel) {\n    this.model = parentModel;\n    this.refreshProps();\n  }\n  refresh(newParams) {\n    this.sourceParams = newParams;\n    this.refreshProps();\n  }\n  getOptionalMethods() {\n    return [\"afterGuiAttached\"];\n  }\n  updateModel(model) {\n    this.model = model;\n    this.refreshProps();\n    updateFloatingFilterParent(this.sourceParams, model);\n  }\n  getProps() {\n    const props = super.getProps();\n    props.model = this.model;\n    props.onModelChange = this.onModelChange;\n    return props;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/floatingFilterDisplayComponentWrapper.ts\nvar FloatingFilterDisplayComponentWrapper = class extends CustomComponentWrapper {\n  refresh(newParams) {\n    this.sourceParams = newParams;\n    this.refreshProps();\n  }\n  getOptionalMethods() {\n    return [\"afterGuiAttached\"];\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/innerHeaderComponentWrapper.ts\nvar InnerHeaderComponentWrapper = class extends CustomComponentWrapper {\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n    return true;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/loadingOverlayComponentWrapper.ts\nvar LoadingOverlayComponentWrapper = class extends CustomComponentWrapper {\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/menuItemComponentWrapper.ts\nvar MenuItemComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.active = false;\n    this.expanded = false;\n    this.onActiveChange = active => this.updateActive(active);\n  }\n  setActive(active) {\n    this.awaitSetActive(active);\n  }\n  setExpanded(expanded) {\n    this.expanded = expanded;\n    this.refreshProps();\n  }\n  getOptionalMethods() {\n    return [\"select\", \"configureDefaults\"];\n  }\n  awaitSetActive(active) {\n    this.active = active;\n    return this.refreshProps();\n  }\n  updateActive(active) {\n    const result = this.awaitSetActive(active);\n    if (active) {\n      result.then(() => this.sourceParams.onItemActivated());\n    }\n  }\n  getProps() {\n    const props = super.getProps();\n    props.active = this.active;\n    props.expanded = this.expanded;\n    props.onActiveChange = this.onActiveChange;\n    delete props.onItemActivated;\n    return props;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/noRowsOverlayComponentWrapper.ts\nvar NoRowsOverlayComponentWrapper = class extends CustomComponentWrapper {\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/statusPanelComponentWrapper.ts\nvar StatusPanelComponentWrapper = class extends CustomComponentWrapper {\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n    return true;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/toolPanelComponentWrapper.ts\nvar ToolPanelComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.onStateChange = state => this.updateState(state);\n  }\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n    return true;\n  }\n  getState() {\n    return this.state;\n  }\n  updateState(state) {\n    this.state = state;\n    this.refreshProps();\n    this.sourceParams.onStateUpdated();\n  }\n  getProps() {\n    const props = super.getProps();\n    props.state = this.state;\n    props.onStateChange = this.onStateChange;\n    return props;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/util.ts\nimport { AgPromise as AgPromise6, _warn } from \"ag-grid-community\";\nfunction getInstance(wrapperComponent, callback) {\n  const promise = wrapperComponent?.getInstance?.() ?? AgPromise6.resolve(void 0);\n  promise.then(comp => callback(comp));\n}\nfunction warnReactiveCustomComponents() {\n  _warn(231);\n}\n\n// packages/ag-grid-react/src/shared/portalManager.ts\nvar MAX_COMPONENT_CREATION_TIME_IN_MS = 1e3;\nvar PortalManager = class {\n  constructor(refresher, wrappingElement, maxComponentCreationTimeMs) {\n    this.destroyed = false;\n    this.portals = [];\n    this.hasPendingPortalUpdate = false;\n    this.wrappingElement = wrappingElement ? wrappingElement : \"div\";\n    this.refresher = refresher;\n    this.maxComponentCreationTimeMs = maxComponentCreationTimeMs ? maxComponentCreationTimeMs : MAX_COMPONENT_CREATION_TIME_IN_MS;\n  }\n  getPortals() {\n    return this.portals;\n  }\n  destroy() {\n    this.destroyed = true;\n  }\n  destroyPortal(portal) {\n    this.portals = this.portals.filter(curPortal => curPortal !== portal);\n    this.batchUpdate();\n  }\n  getComponentWrappingElement() {\n    return this.wrappingElement;\n  }\n  mountReactPortal(portal, reactComponent, resolve) {\n    this.portals = [...this.portals, portal];\n    this.waitForInstance(reactComponent, resolve);\n    this.batchUpdate();\n  }\n  updateReactPortal(oldPortal, newPortal) {\n    this.portals[this.portals.indexOf(oldPortal)] = newPortal;\n    this.batchUpdate();\n  }\n  batchUpdate() {\n    if (this.hasPendingPortalUpdate) {\n      return;\n    }\n    setTimeout(() => {\n      if (!this.destroyed) {\n        this.refresher();\n        this.hasPendingPortalUpdate = false;\n      }\n    });\n    this.hasPendingPortalUpdate = true;\n  }\n  waitForInstance(reactComponent, resolve, startTime = Date.now()) {\n    if (this.destroyed) {\n      resolve(null);\n      return;\n    }\n    if (reactComponent.rendered()) {\n      resolve(reactComponent);\n    } else {\n      if (Date.now() - startTime >= this.maxComponentCreationTimeMs && !this.hasPendingPortalUpdate) {\n        agFlushSync(true, () => this.refresher());\n        if (reactComponent.rendered()) {\n          resolve(reactComponent);\n        }\n        return;\n      }\n      window.setTimeout(() => {\n        this.waitForInstance(reactComponent, resolve, startTime);\n      });\n    }\n  }\n};\n\n// packages/ag-grid-react/src/reactUi/gridComp.tsx\nimport React18, { memo as memo14, useCallback as useCallback14, useEffect as useEffect9, useMemo as useMemo12, useRef as useRef15, useState as useState15 } from \"react\";\nimport { GridCtrl } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/gridBodyComp.tsx\nimport React16, { memo as memo12, useCallback as useCallback12, useContext as useContext13, useMemo as useMemo11, useRef as useRef13, useState as useState14 } from \"react\";\nimport { CssClassManager as CssClassManager4, FakeHScrollComp, FakeVScrollComp, GridBodyCtrl, _observeResize, _setAriaColCount, _setAriaRowCount } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/header/gridHeaderComp.tsx\nimport React10, { memo as memo7, useCallback as useCallback7, useContext as useContext7, useMemo as useMemo6, useRef as useRef7, useState as useState8 } from \"react\";\nimport { GridHeaderCtrl } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/header/headerRowContainerComp.tsx\nimport React9, { memo as memo6, useCallback as useCallback6, useContext as useContext6, useRef as useRef6, useState as useState7 } from \"react\";\nimport { HeaderRowContainerCtrl } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/header/headerRowComp.tsx\nimport React8, { memo as memo5, useCallback as useCallback5, useContext as useContext5, useMemo as useMemo5, useRef as useRef5, useState as useState6 } from \"react\";\nimport { _EmptyBean as _EmptyBean4 } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/header/headerCellComp.tsx\nimport React5, { memo as memo2, useCallback as useCallback2, useContext as useContext2, useEffect as useEffect2, useLayoutEffect as useLayoutEffect2, useMemo as useMemo2, useRef as useRef2, useState as useState3 } from \"react\";\nimport { CssClassManager, _EmptyBean, _removeAriaSort, _setAriaSort } from \"ag-grid-community\";\nvar HeaderCellComp = ({\n  ctrl\n}) => {\n  const isAlive = ctrl.isAlive();\n  const {\n    context\n  } = useContext2(BeansContext);\n  const [userCompDetails, setUserCompDetails] = useState3();\n  const [userStyles, setUserStyles] = useState3();\n  const compBean = useRef2();\n  const eGui = useRef2(null);\n  const eResize = useRef2(null);\n  const eHeaderCompWrapper = useRef2(null);\n  const userCompRef = useRef2();\n  const cssManager = useRef2();\n  if (isAlive && !cssManager.current) {\n    cssManager.current = new CssClassManager(() => eGui.current);\n  }\n  const setRef2 = useCallback2(eRef => {\n    eGui.current = eRef;\n    if (!eRef || !ctrl.isAlive() || context.isDestroyed()) {\n      compBean.current = context.destroyBean(compBean.current);\n      return;\n    }\n    compBean.current = context.createBean(new _EmptyBean());\n    const refreshSelectAllGui = () => {\n      const selectAllGui = ctrl.getSelectAllGui();\n      if (selectAllGui) {\n        eResize.current?.insertAdjacentElement(\"afterend\", selectAllGui);\n        compBean.current.addDestroyFunc(() => selectAllGui.remove());\n      }\n    };\n    const compProxy = {\n      setWidth: width => {\n        if (eGui.current) {\n          eGui.current.style.width = width;\n        }\n      },\n      toggleCss: (name, on) => cssManager.current.toggleCss(name, on),\n      setUserStyles: styles => setUserStyles(styles),\n      setAriaSort: sort => {\n        if (eGui.current) {\n          sort ? _setAriaSort(eGui.current, sort) : _removeAriaSort(eGui.current);\n        }\n      },\n      setUserCompDetails: compDetails => setUserCompDetails(compDetails),\n      getUserCompInstance: () => userCompRef.current || void 0,\n      refreshSelectAllGui,\n      removeSelectAllGui: () => ctrl.getSelectAllGui()?.remove()\n    };\n    ctrl.setComp(compProxy, eRef, eResize.current, eHeaderCompWrapper.current, compBean.current);\n    refreshSelectAllGui();\n  }, []);\n  useLayoutEffect2(() => showJsComp(userCompDetails, context, eHeaderCompWrapper.current, userCompRef), [userCompDetails]);\n  useEffect2(() => {\n    ctrl.setDragSource(eGui.current);\n  }, [userCompDetails]);\n  const userCompStateless = useMemo2(() => {\n    const res = userCompDetails?.componentFromFramework && isComponentStateless(userCompDetails.componentClass);\n    return !!res;\n  }, [userCompDetails]);\n  const reactUserComp = userCompDetails?.componentFromFramework;\n  const UserCompClass = userCompDetails?.componentClass;\n  return /* @__PURE__ */React5.createElement(\"div\", {\n    ref: setRef2,\n    style: userStyles,\n    className: \"ag-header-cell\",\n    role: \"columnheader\"\n  }, /* @__PURE__ */React5.createElement(\"div\", {\n    ref: eResize,\n    className: \"ag-header-cell-resize\",\n    role: \"presentation\"\n  }), /* @__PURE__ */React5.createElement(\"div\", {\n    ref: eHeaderCompWrapper,\n    className: \"ag-header-cell-comp-wrapper\",\n    role: \"presentation\"\n  }, reactUserComp ? userCompStateless ? /* @__PURE__ */React5.createElement(UserCompClass, {\n    ...userCompDetails.params\n  }) : /* @__PURE__ */React5.createElement(UserCompClass, {\n    ...userCompDetails.params,\n    ref: userCompRef\n  }) : null));\n};\nvar headerCellComp_default = memo2(HeaderCellComp);\n\n// packages/ag-grid-react/src/reactUi/header/headerFilterCellComp.tsx\nimport React6, { memo as memo3, useCallback as useCallback3, useContext as useContext3, useLayoutEffect as useLayoutEffect3, useMemo as useMemo3, useRef as useRef3, useState as useState4 } from \"react\";\nimport { useEffect as useEffect3 } from \"react\";\nimport { AgPromise as AgPromise7, _EmptyBean as _EmptyBean2 } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/shared/customComp/floatingFilterDisplayComponentProxy.ts\nvar FloatingFilterDisplayComponentProxy = class {\n  constructor(floatingFilterParams, refreshProps) {\n    this.floatingFilterParams = floatingFilterParams;\n    this.refreshProps = refreshProps;\n  }\n  getProps() {\n    return this.floatingFilterParams;\n  }\n  refresh(params) {\n    this.floatingFilterParams = params;\n    this.refreshProps();\n  }\n  setMethods(methods) {\n    addOptionalMethods(this.getOptionalMethods(), methods, this);\n  }\n  getOptionalMethods() {\n    return [\"afterGuiAttached\"];\n  }\n};\n\n// packages/ag-grid-react/src/reactUi/header/headerFilterCellComp.tsx\nvar HeaderFilterCellComp = ({\n  ctrl\n}) => {\n  const {\n    context,\n    gos\n  } = useContext3(BeansContext);\n  const [userStyles, setUserStyles] = useState4();\n  const [cssClasses, setCssClasses] = useState4(() => new CssClasses(\"ag-header-cell\", \"ag-floating-filter\"));\n  const [cssBodyClasses, setBodyCssClasses] = useState4(() => new CssClasses());\n  const [cssButtonWrapperClasses, setButtonWrapperCssClasses] = useState4(() => new CssClasses(\"ag-floating-filter-button\", \"ag-hidden\"));\n  const [buttonWrapperAriaHidden, setButtonWrapperAriaHidden] = useState4(\"false\");\n  const [userCompDetails, setUserCompDetails] = useState4();\n  const [, setRenderKey] = useState4(1);\n  const compBean = useRef3();\n  const eGui = useRef3(null);\n  const eFloatingFilterBody = useRef3(null);\n  const eButtonWrapper = useRef3(null);\n  const eButtonShowMainFilter = useRef3(null);\n  const userCompResolve = useRef3();\n  const userCompPromise = useRef3();\n  const userCompRef = value => {\n    if (value == null) {\n      return;\n    }\n    userCompResolve.current && userCompResolve.current(value);\n  };\n  const setRef2 = useCallback3(eRef => {\n    eGui.current = eRef;\n    if (!eRef || !ctrl.isAlive() || context.isDestroyed()) {\n      compBean.current = context.destroyBean(compBean.current);\n      return;\n    }\n    compBean.current = context.createBean(new _EmptyBean2());\n    userCompPromise.current = new AgPromise7(resolve => {\n      userCompResolve.current = resolve;\n    });\n    const compProxy = {\n      toggleCss: (name, on) => setCssClasses(prev => prev.setClass(name, on)),\n      setUserStyles: styles => setUserStyles(styles),\n      addOrRemoveBodyCssClass: (name, on) => setBodyCssClasses(prev => prev.setClass(name, on)),\n      setButtonWrapperDisplayed: displayed => {\n        setButtonWrapperCssClasses(prev => prev.setClass(\"ag-hidden\", !displayed));\n        setButtonWrapperAriaHidden(!displayed ? \"true\" : \"false\");\n      },\n      setWidth: width => {\n        if (eGui.current) {\n          eGui.current.style.width = width;\n        }\n      },\n      setCompDetails: compDetails => setUserCompDetails(compDetails),\n      getFloatingFilterComp: () => userCompPromise.current ? userCompPromise.current : null,\n      setMenuIcon: eIcon => eButtonShowMainFilter.current?.appendChild(eIcon)\n    };\n    ctrl.setComp(compProxy, eRef, eButtonShowMainFilter.current, eFloatingFilterBody.current, compBean.current);\n  }, []);\n  useLayoutEffect3(() => showJsComp(userCompDetails, context, eFloatingFilterBody.current, userCompRef), [userCompDetails]);\n  const className = useMemo3(() => cssClasses.toString(), [cssClasses]);\n  const bodyClassName = useMemo3(() => cssBodyClasses.toString(), [cssBodyClasses]);\n  const buttonWrapperClassName = useMemo3(() => cssButtonWrapperClasses.toString(), [cssButtonWrapperClasses]);\n  const userCompStateless = useMemo3(() => {\n    const res = userCompDetails && userCompDetails.componentFromFramework && isComponentStateless(userCompDetails.componentClass);\n    return !!res;\n  }, [userCompDetails]);\n  const reactiveCustomComponents = useMemo3(() => gos.get(\"reactiveCustomComponents\"), []);\n  const enableFilterHandlers = useMemo3(() => gos.get(\"enableFilterHandlers\"), []);\n  const [floatingFilterCompProxy, setFloatingFilterCompProxy] = useState4();\n  useEffect3(() => {\n    if (userCompDetails?.componentFromFramework) {\n      if (reactiveCustomComponents) {\n        const ProxyClass = enableFilterHandlers ? FloatingFilterDisplayComponentProxy : FloatingFilterComponentProxy;\n        const compProxy = new ProxyClass(userCompDetails.params, () => setRenderKey(prev => prev + 1));\n        userCompRef(compProxy);\n        setFloatingFilterCompProxy(compProxy);\n      } else {\n        warnReactiveCustomComponents();\n      }\n    }\n  }, [userCompDetails]);\n  const floatingFilterProps = floatingFilterCompProxy?.getProps();\n  const reactUserComp = userCompDetails?.componentFromFramework;\n  const UserCompClass = userCompDetails?.componentClass;\n  return /* @__PURE__ */React6.createElement(\"div\", {\n    ref: setRef2,\n    style: userStyles,\n    className,\n    role: \"gridcell\"\n  }, /* @__PURE__ */React6.createElement(\"div\", {\n    ref: eFloatingFilterBody,\n    className: bodyClassName,\n    role: \"presentation\"\n  }, reactUserComp ? reactiveCustomComponents ? floatingFilterProps && /* @__PURE__ */React6.createElement(CustomContext.Provider, {\n    value: {\n      setMethods: methods => floatingFilterCompProxy.setMethods(methods)\n    }\n  }, /* @__PURE__ */React6.createElement(UserCompClass, {\n    ...floatingFilterProps\n  })) : /* @__PURE__ */React6.createElement(UserCompClass, {\n    ...userCompDetails.params,\n    ref: userCompStateless ? () => {} : userCompRef\n  }) : null), /* @__PURE__ */React6.createElement(\"div\", {\n    ref: eButtonWrapper,\n    \"aria-hidden\": buttonWrapperAriaHidden,\n    className: buttonWrapperClassName,\n    role: \"presentation\"\n  }, /* @__PURE__ */React6.createElement(\"button\", {\n    ref: eButtonShowMainFilter,\n    type: \"button\",\n    className: \"ag-button ag-floating-filter-button-button\",\n    tabIndex: -1\n  })));\n};\nvar headerFilterCellComp_default = memo3(HeaderFilterCellComp);\n\n// packages/ag-grid-react/src/reactUi/header/headerGroupCellComp.tsx\nimport React7, { memo as memo4, useCallback as useCallback4, useContext as useContext4, useEffect as useEffect4, useLayoutEffect as useLayoutEffect4, useMemo as useMemo4, useRef as useRef4, useState as useState5 } from \"react\";\nimport { _EmptyBean as _EmptyBean3 } from \"ag-grid-community\";\nvar HeaderGroupCellComp = ({\n  ctrl\n}) => {\n  const {\n    context\n  } = useContext4(BeansContext);\n  const [userStyles, setUserStyles] = useState5();\n  const [cssClasses, setCssClasses] = useState5(() => new CssClasses());\n  const [cssResizableClasses, setResizableCssClasses] = useState5(() => new CssClasses());\n  const [resizableAriaHidden, setResizableAriaHidden] = useState5(\"false\");\n  const [ariaExpanded, setAriaExpanded] = useState5();\n  const [userCompDetails, setUserCompDetails] = useState5();\n  const compBean = useRef4();\n  const eGui = useRef4(null);\n  const eResize = useRef4(null);\n  const eHeaderCompWrapper = useRef4(null);\n  const userCompRef = useRef4();\n  const setRef2 = useCallback4(eRef => {\n    eGui.current = eRef;\n    if (!eRef || !ctrl.isAlive() || context.isDestroyed()) {\n      compBean.current = context.destroyBean(compBean.current);\n      return;\n    }\n    compBean.current = context.createBean(new _EmptyBean3());\n    const compProxy = {\n      setWidth: width => {\n        if (eGui.current) {\n          eGui.current.style.width = width;\n        }\n      },\n      toggleCss: (name, on) => setCssClasses(prev => prev.setClass(name, on)),\n      setUserStyles: styles => setUserStyles(styles),\n      setHeaderWrapperHidden: hidden => {\n        const headerCompWrapper = eHeaderCompWrapper.current;\n        if (!headerCompWrapper) {\n          return;\n        }\n        if (hidden) {\n          headerCompWrapper.style.setProperty(\"display\", \"none\");\n        } else {\n          headerCompWrapper.style.removeProperty(\"display\");\n        }\n      },\n      setHeaderWrapperMaxHeight: value => {\n        const headerCompWrapper = eHeaderCompWrapper.current;\n        if (!headerCompWrapper) {\n          return;\n        }\n        if (value != null) {\n          headerCompWrapper.style.setProperty(\"max-height\", `${value}px`);\n        } else {\n          headerCompWrapper.style.removeProperty(\"max-height\");\n        }\n        headerCompWrapper.classList.toggle(\"ag-header-cell-comp-wrapper-limited-height\", value != null);\n      },\n      setUserCompDetails: compDetails => setUserCompDetails(compDetails),\n      setResizableDisplayed: displayed => {\n        setResizableCssClasses(prev => prev.setClass(\"ag-hidden\", !displayed));\n        setResizableAriaHidden(!displayed ? \"true\" : \"false\");\n      },\n      setAriaExpanded: expanded => setAriaExpanded(expanded),\n      getUserCompInstance: () => userCompRef.current || void 0\n    };\n    ctrl.setComp(compProxy, eRef, eResize.current, eHeaderCompWrapper.current, compBean.current);\n  }, []);\n  useLayoutEffect4(() => showJsComp(userCompDetails, context, eHeaderCompWrapper.current), [userCompDetails]);\n  useEffect4(() => {\n    if (eGui.current) {\n      ctrl.setDragSource(eGui.current);\n    }\n  }, [userCompDetails]);\n  const userCompStateless = useMemo4(() => {\n    const res = userCompDetails?.componentFromFramework && isComponentStateless(userCompDetails.componentClass);\n    return !!res;\n  }, [userCompDetails]);\n  const className = useMemo4(() => \"ag-header-group-cell \" + cssClasses.toString(), [cssClasses]);\n  const resizableClassName = useMemo4(() => \"ag-header-cell-resize \" + cssResizableClasses.toString(), [cssResizableClasses]);\n  const reactUserComp = userCompDetails?.componentFromFramework;\n  const UserCompClass = userCompDetails?.componentClass;\n  return /* @__PURE__ */React7.createElement(\"div\", {\n    ref: setRef2,\n    style: userStyles,\n    className,\n    role: \"columnheader\",\n    \"aria-expanded\": ariaExpanded\n  }, /* @__PURE__ */React7.createElement(\"div\", {\n    ref: eHeaderCompWrapper,\n    className: \"ag-header-cell-comp-wrapper\",\n    role: \"presentation\"\n  }, reactUserComp ? userCompStateless ? /* @__PURE__ */React7.createElement(UserCompClass, {\n    ...userCompDetails.params\n  }) : /* @__PURE__ */React7.createElement(UserCompClass, {\n    ...userCompDetails.params,\n    ref: userCompRef\n  }) : null), /* @__PURE__ */React7.createElement(\"div\", {\n    ref: eResize,\n    \"aria-hidden\": resizableAriaHidden,\n    className: resizableClassName\n  }));\n};\nvar headerGroupCellComp_default = memo4(HeaderGroupCellComp);\n\n// packages/ag-grid-react/src/reactUi/header/headerRowComp.tsx\nvar HeaderRowComp = ({\n  ctrl\n}) => {\n  const {\n    gos,\n    context\n  } = useContext5(BeansContext);\n  const {\n    topOffset,\n    rowHeight\n  } = useMemo5(() => ctrl.getTopAndHeight(), []);\n  const tabIndex = useMemo5(() => gos.get(\"tabIndex\"), []);\n  const [ariaRowIndex, setAriaRowIndex] = useState6(() => ctrl.getAriaRowIndex());\n  const className = ctrl.headerRowClass;\n  const [height, setHeight] = useState6(() => rowHeight + \"px\");\n  const [top, setTop] = useState6(() => topOffset + \"px\");\n  const cellCtrlsRef = useRef5(null);\n  const [cellCtrls, setCellCtrls] = useState6(() => ctrl.getUpdatedHeaderCtrls());\n  const compBean = useRef5();\n  const eGui = useRef5(null);\n  const setRef2 = useCallback5(eRef => {\n    eGui.current = eRef;\n    if (!eRef || !ctrl.isAlive() || context.isDestroyed()) {\n      compBean.current = context.destroyBean(compBean.current);\n      return;\n    }\n    compBean.current = context.createBean(new _EmptyBean4());\n    const compProxy = {\n      setHeight: height2 => setHeight(height2),\n      setTop: top2 => setTop(top2),\n      setHeaderCtrls: (ctrls, forceOrder, afterScroll) => {\n        const prevCellCtrls = cellCtrlsRef.current;\n        const nextCells = getNextValueIfDifferent(prevCellCtrls, ctrls, forceOrder);\n        if (nextCells !== prevCellCtrls) {\n          cellCtrlsRef.current = nextCells;\n          agFlushSync(afterScroll, () => setCellCtrls(nextCells));\n        }\n      },\n      setWidth: width => {\n        if (eGui.current) {\n          eGui.current.style.width = width;\n        }\n      },\n      setRowIndex: rowIndex => {\n        setAriaRowIndex(rowIndex);\n      }\n    };\n    ctrl.setComp(compProxy, compBean.current, false);\n  }, []);\n  const style = useMemo5(() => ({\n    height,\n    top\n  }), [height, top]);\n  const createCellJsx = useCallback5(cellCtrl => {\n    switch (ctrl.type) {\n      case \"group\":\n        return /* @__PURE__ */React8.createElement(headerGroupCellComp_default, {\n          ctrl: cellCtrl,\n          key: cellCtrl.instanceId\n        });\n      case \"filter\":\n        return /* @__PURE__ */React8.createElement(headerFilterCellComp_default, {\n          ctrl: cellCtrl,\n          key: cellCtrl.instanceId\n        });\n      default:\n        return /* @__PURE__ */React8.createElement(headerCellComp_default, {\n          ctrl: cellCtrl,\n          key: cellCtrl.instanceId\n        });\n    }\n  }, []);\n  return /* @__PURE__ */React8.createElement(\"div\", {\n    ref: setRef2,\n    className,\n    role: \"row\",\n    style,\n    tabIndex,\n    \"aria-rowindex\": ariaRowIndex\n  }, cellCtrls.map(createCellJsx));\n};\nvar headerRowComp_default = memo5(HeaderRowComp);\n\n// packages/ag-grid-react/src/reactUi/header/headerRowContainerComp.tsx\nvar HeaderRowContainerComp = ({\n  pinned\n}) => {\n  const [displayed, setDisplayed] = useState7(true);\n  const [headerRowCtrls, setHeaderRowCtrls] = useState7([]);\n  const {\n    context\n  } = useContext6(BeansContext);\n  const eGui = useRef6(null);\n  const eCenterContainer = useRef6(null);\n  const headerRowCtrlRef = useRef6();\n  const pinnedLeft = pinned === \"left\";\n  const pinnedRight = pinned === \"right\";\n  const centre = !pinnedLeft && !pinnedRight;\n  const setRef2 = useCallback6(eRef => {\n    eGui.current = eRef;\n    if (!eRef || context.isDestroyed()) {\n      headerRowCtrlRef.current = context.destroyBean(headerRowCtrlRef.current);\n      return;\n    }\n    headerRowCtrlRef.current = context.createBean(new HeaderRowContainerCtrl(pinned));\n    const compProxy = {\n      setDisplayed,\n      setCtrls: ctrls => setHeaderRowCtrls(ctrls),\n      // centre only\n      setCenterWidth: width => {\n        if (eCenterContainer.current) {\n          eCenterContainer.current.style.width = width;\n        }\n      },\n      setViewportScrollLeft: left => {\n        if (eGui.current) {\n          eGui.current.scrollLeft = left;\n        }\n      },\n      // pinned only\n      setPinnedContainerWidth: width => {\n        if (eGui.current) {\n          eGui.current.style.width = width;\n          eGui.current.style.minWidth = width;\n          eGui.current.style.maxWidth = width;\n        }\n      }\n    };\n    headerRowCtrlRef.current.setComp(compProxy, eGui.current);\n  }, []);\n  const className = !displayed ? \"ag-hidden\" : \"\";\n  const insertRowsJsx = () => headerRowCtrls.map(ctrl => /* @__PURE__ */React9.createElement(headerRowComp_default, {\n    ctrl,\n    key: ctrl.instanceId\n  }));\n  return pinnedLeft ? /* @__PURE__ */React9.createElement(\"div\", {\n    ref: setRef2,\n    className: \"ag-pinned-left-header \" + className,\n    \"aria-hidden\": !displayed,\n    role: \"rowgroup\"\n  }, insertRowsJsx()) : pinnedRight ? /* @__PURE__ */React9.createElement(\"div\", {\n    ref: setRef2,\n    className: \"ag-pinned-right-header \" + className,\n    \"aria-hidden\": !displayed,\n    role: \"rowgroup\"\n  }, insertRowsJsx()) : centre ? /* @__PURE__ */React9.createElement(\"div\", {\n    ref: setRef2,\n    className: \"ag-header-viewport \" + className,\n    role: \"rowgroup\",\n    tabIndex: -1\n  }, /* @__PURE__ */React9.createElement(\"div\", {\n    ref: eCenterContainer,\n    className: \"ag-header-container\",\n    role: \"presentation\"\n  }, insertRowsJsx())) : null;\n};\nvar headerRowContainerComp_default = memo6(HeaderRowContainerComp);\n\n// packages/ag-grid-react/src/reactUi/header/gridHeaderComp.tsx\nvar GridHeaderComp = () => {\n  const [cssClasses, setCssClasses] = useState8(() => new CssClasses());\n  const [height, setHeight] = useState8();\n  const {\n    context\n  } = useContext7(BeansContext);\n  const eGui = useRef7(null);\n  const gridCtrlRef = useRef7();\n  const setRef2 = useCallback7(eRef => {\n    eGui.current = eRef;\n    if (!eRef || context.isDestroyed()) {\n      gridCtrlRef.current = context.destroyBean(gridCtrlRef.current);\n      return;\n    }\n    gridCtrlRef.current = context.createBean(new GridHeaderCtrl());\n    const compProxy = {\n      toggleCss: (name, on) => setCssClasses(prev => prev.setClass(name, on)),\n      setHeightAndMinHeight: height2 => setHeight(height2)\n    };\n    gridCtrlRef.current.setComp(compProxy, eRef, eRef);\n  }, []);\n  const className = useMemo6(() => {\n    const res = cssClasses.toString();\n    return \"ag-header \" + res;\n  }, [cssClasses]);\n  const style = useMemo6(() => ({\n    height,\n    minHeight: height\n  }), [height]);\n  return /* @__PURE__ */React10.createElement(\"div\", {\n    ref: setRef2,\n    className,\n    style,\n    role: \"presentation\"\n  }, /* @__PURE__ */React10.createElement(headerRowContainerComp_default, {\n    pinned: \"left\"\n  }), /* @__PURE__ */React10.createElement(headerRowContainerComp_default, {\n    pinned: null\n  }), /* @__PURE__ */React10.createElement(headerRowContainerComp_default, {\n    pinned: \"right\"\n  }));\n};\nvar gridHeaderComp_default = memo7(GridHeaderComp);\n\n// packages/ag-grid-react/src/reactUi/reactComment.tsx\nimport { useEffect as useEffect5 } from \"react\";\nvar useReactCommentEffect = (comment, eForCommentRef) => {\n  useEffect5(() => {\n    const eForComment = eForCommentRef.current;\n    if (eForComment) {\n      const eParent = eForComment.parentElement;\n      if (eParent) {\n        const eComment = document.createComment(comment);\n        eParent.insertBefore(eComment, eForComment);\n        return () => {\n          eParent.removeChild(eComment);\n        };\n      }\n    }\n  }, [comment]);\n};\nvar reactComment_default = useReactCommentEffect;\n\n// packages/ag-grid-react/src/reactUi/rows/rowContainerComp.tsx\nimport React15, { memo as memo11, useCallback as useCallback11, useContext as useContext12, useMemo as useMemo10, useRef as useRef12, useState as useState13 } from \"react\";\nimport { RowContainerCtrl, _getRowContainerClass, _getRowContainerOptions, _getRowSpanContainerClass, _getRowViewportClass } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/rows/rowComp.tsx\nimport React14, { memo as memo10, useCallback as useCallback10, useContext as useContext11, useEffect as useEffect8, useLayoutEffect as useLayoutEffect7, useMemo as useMemo9, useRef as useRef11, useState as useState12 } from \"react\";\nimport { CssClassManager as CssClassManager3, _EmptyBean as _EmptyBean6 } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/cells/cellComp.tsx\nimport React13, { Suspense, memo as memo9, useCallback as useCallback9, useContext as useContext10, useLayoutEffect as useLayoutEffect6, useMemo as useMemo8, useRef as useRef10, useState as useState11 } from \"react\";\nimport { CssClassManager as CssClassManager2, _EmptyBean as _EmptyBean5, _removeFromParent } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/shared/customComp/cellEditorComponentProxy.ts\nimport { AgPromise as AgPromise8 } from \"ag-grid-community\";\nvar CellEditorComponentProxy = class {\n  constructor(cellEditorParams, refreshProps) {\n    this.cellEditorParams = cellEditorParams;\n    this.refreshProps = refreshProps;\n    this.instanceCreated = new AgPromise8(resolve => {\n      this.resolveInstanceCreated = resolve;\n    });\n    this.onValueChange = value => this.updateValue(value);\n    this.value = cellEditorParams.value;\n  }\n  getProps() {\n    return {\n      ...this.cellEditorParams,\n      initialValue: this.cellEditorParams.value,\n      value: this.value,\n      onValueChange: this.onValueChange\n    };\n  }\n  getValue() {\n    return this.value;\n  }\n  refresh(params) {\n    this.cellEditorParams = params;\n    this.refreshProps();\n  }\n  setMethods(methods) {\n    addOptionalMethods(this.getOptionalMethods(), methods, this);\n  }\n  getInstance() {\n    return this.instanceCreated.then(() => this.componentInstance);\n  }\n  setRef(componentInstance) {\n    this.componentInstance = componentInstance;\n    this.resolveInstanceCreated?.();\n    this.resolveInstanceCreated = void 0;\n  }\n  getOptionalMethods() {\n    return [\"isCancelBeforeStart\", \"isCancelAfterEnd\", \"focusIn\", \"focusOut\", \"afterGuiAttached\", \"getValidationErrors\", \"getValidationElement\"];\n  }\n  updateValue(value) {\n    this.value = value;\n    this.refreshProps();\n  }\n};\n\n// packages/ag-grid-react/src/reactUi/cells/cellEditorComp.tsx\nimport React11 from \"react\";\n\n// packages/ag-grid-react/src/reactUi/cells/popupEditorComp.tsx\nimport { memo as memo8, useContext as useContext8, useLayoutEffect as useLayoutEffect5, useState as useState10 } from \"react\";\nimport { createPortal as createPortal2 } from \"react-dom\";\nimport { _getActiveDomElement } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/useEffectOnce.tsx\nimport { useEffect as useEffect6, useRef as useRef8, useState as useState9 } from \"react\";\nvar useEffectOnce = effect => {\n  const effectFn = useRef8(effect);\n  const destroyFn = useRef8();\n  const effectCalled = useRef8(false);\n  const rendered = useRef8(false);\n  const [, setVal] = useState9(0);\n  if (effectCalled.current) {\n    rendered.current = true;\n  }\n  useEffect6(() => {\n    if (!effectCalled.current) {\n      destroyFn.current = effectFn.current();\n      effectCalled.current = true;\n    }\n    setVal(val => val + 1);\n    return () => {\n      if (!rendered.current) {\n        return;\n      }\n      destroyFn.current?.();\n    };\n  }, []);\n};\n\n// packages/ag-grid-react/src/reactUi/cells/popupEditorComp.tsx\nvar PopupEditorComp = props => {\n  const [popupEditorWrapper, setPopupEditorWrapper] = useState10();\n  const beans = useContext8(BeansContext);\n  const {\n    context,\n    popupSvc,\n    gos,\n    editSvc\n  } = beans;\n  const {\n    editDetails,\n    cellCtrl,\n    eParentCell\n  } = props;\n  useEffectOnce(() => {\n    const {\n      compDetails\n    } = editDetails;\n    const useModelPopup = gos.get(\"stopEditingWhenCellsLoseFocus\");\n    let hideEditorPopup = void 0;\n    let wrapper;\n    if (!context.isDestroyed()) {\n      wrapper = context.createBean(editSvc.createPopupEditorWrapper(compDetails.params));\n      const ePopupGui = wrapper.getGui();\n      if (props.jsChildComp) {\n        const eChildGui = props.jsChildComp.getGui();\n        if (eChildGui) {\n          ePopupGui.appendChild(eChildGui);\n        }\n      }\n      const {\n        column,\n        rowNode\n      } = cellCtrl;\n      const positionParams = {\n        column,\n        rowNode,\n        type: \"popupCellEditor\",\n        eventSource: eParentCell,\n        ePopup: ePopupGui,\n        position: editDetails.popupPosition,\n        keepWithinBounds: true\n      };\n      const positionCallback = popupSvc?.positionPopupByComponent.bind(popupSvc, positionParams);\n      const addPopupRes = popupSvc?.addPopup({\n        modal: useModelPopup,\n        eChild: ePopupGui,\n        closeOnEsc: true,\n        closedCallback: () => {\n          cellCtrl.onPopupEditorClosed();\n        },\n        anchorToElement: eParentCell,\n        positionCallback,\n        ariaOwns: eParentCell\n      });\n      hideEditorPopup = addPopupRes ? addPopupRes.hideFunc : void 0;\n      setPopupEditorWrapper(wrapper);\n      props.jsChildComp?.afterGuiAttached?.();\n    }\n    return () => {\n      hideEditorPopup?.();\n      context.destroyBean(wrapper);\n    };\n  });\n  useLayoutEffect5(() => {\n    return () => {\n      if (cellCtrl.isCellFocused() && popupEditorWrapper?.getGui().contains(_getActiveDomElement(beans))) {\n        eParentCell.focus({\n          preventScroll: true\n        });\n      }\n    };\n  }, [popupEditorWrapper]);\n  return popupEditorWrapper && props.wrappedContent ? createPortal2(props.wrappedContent, popupEditorWrapper.getGui()) : null;\n};\nvar popupEditorComp_default = memo8(PopupEditorComp);\n\n// packages/ag-grid-react/src/reactUi/cells/cellEditorComp.tsx\nvar jsxEditorProxy = (editDetails, CellEditorClass, setRef2) => {\n  const {\n    compProxy\n  } = editDetails;\n  setRef2(compProxy);\n  const props = compProxy.getProps();\n  const isStateless = isComponentStateless(CellEditorClass);\n  return /* @__PURE__ */React11.createElement(CustomContext.Provider, {\n    value: {\n      setMethods: methods => compProxy.setMethods(methods)\n    }\n  }, isStateless ? /* @__PURE__ */React11.createElement(CellEditorClass, {\n    ...props\n  }) : /* @__PURE__ */React11.createElement(CellEditorClass, {\n    ...props,\n    ref: ref => compProxy.setRef(ref)\n  }));\n};\nvar jsxEditor = (editDetails, CellEditorClass, setRef2) => {\n  const newFormat = editDetails.compProxy;\n  return newFormat ? jsxEditorProxy(editDetails, CellEditorClass, setRef2) : /* @__PURE__ */React11.createElement(CellEditorClass, {\n    ...editDetails.compDetails.params,\n    ref: setRef2\n  });\n};\nvar jsxEditValue = (editDetails, setCellEditorRef, eGui, cellCtrl, jsEditorComp) => {\n  const compDetails = editDetails.compDetails;\n  const CellEditorClass = compDetails.componentClass;\n  const reactInlineEditor = compDetails.componentFromFramework && !editDetails.popup;\n  const reactPopupEditor = compDetails.componentFromFramework && editDetails.popup;\n  const jsPopupEditor = !compDetails.componentFromFramework && editDetails.popup;\n  return reactInlineEditor ? jsxEditor(editDetails, CellEditorClass, setCellEditorRef) : reactPopupEditor ? /* @__PURE__ */React11.createElement(popupEditorComp_default, {\n    editDetails,\n    cellCtrl,\n    eParentCell: eGui,\n    wrappedContent: jsxEditor(editDetails, CellEditorClass, setCellEditorRef)\n  }) : jsPopupEditor && jsEditorComp ? /* @__PURE__ */React11.createElement(popupEditorComp_default, {\n    editDetails,\n    cellCtrl,\n    eParentCell: eGui,\n    jsChildComp: jsEditorComp\n  }) : null;\n};\n\n// packages/ag-grid-react/src/reactUi/cells/showJsRenderer.tsx\nimport { useCallback as useCallback8, useContext as useContext9, useEffect as useEffect7 } from \"react\";\nvar useJsCellRenderer = (showDetails, showTools, eCellValue, cellValueVersion, jsCellRendererRef, eGui) => {\n  const {\n    context\n  } = useContext9(BeansContext);\n  const destroyCellRenderer = useCallback8(() => {\n    const comp = jsCellRendererRef.current;\n    if (!comp) {\n      return;\n    }\n    const compGui = comp.getGui();\n    if (compGui && compGui.parentElement) {\n      compGui.parentElement.removeChild(compGui);\n    }\n    context.destroyBean(comp);\n    jsCellRendererRef.current = void 0;\n  }, []);\n  useEffect7(() => {\n    const showValue = showDetails != null;\n    const jsCompDetails = showDetails?.compDetails && !showDetails.compDetails.componentFromFramework;\n    const waitingForToolsSetup = showTools && eCellValue == null;\n    const showComp = showValue && jsCompDetails && !waitingForToolsSetup;\n    if (!showComp) {\n      destroyCellRenderer();\n      return;\n    }\n    const compDetails = showDetails.compDetails;\n    if (jsCellRendererRef.current) {\n      const comp = jsCellRendererRef.current;\n      const attemptRefresh = comp.refresh != null && showDetails.force == false;\n      const refreshResult = attemptRefresh ? comp.refresh(compDetails.params) : false;\n      const refreshWorked = refreshResult === true || refreshResult === void 0;\n      if (refreshWorked) {\n        return;\n      }\n      destroyCellRenderer();\n    }\n    const promise = compDetails.newAgStackInstance();\n    promise.then(comp => {\n      if (!comp) {\n        return;\n      }\n      const compGui = comp.getGui();\n      if (!compGui) {\n        return;\n      }\n      const parent = showTools ? eCellValue : eGui.current;\n      parent.appendChild(compGui);\n      jsCellRendererRef.current = comp;\n    });\n  }, [showDetails, showTools, cellValueVersion]);\n  useEffect7(() => {\n    return destroyCellRenderer;\n  }, []);\n};\nvar showJsRenderer_default = useJsCellRenderer;\n\n// packages/ag-grid-react/src/reactUi/cells/skeletonCellComp.tsx\nimport React12, { useMemo as useMemo7, useRef as useRef9 } from \"react\";\nvar SkeletonCellRenderer = ({\n  cellCtrl,\n  parent\n}) => {\n  const jsCellRendererRef = useRef9();\n  const renderDetails = useMemo7(() => {\n    const {\n      loadingComp\n    } = cellCtrl.getDeferLoadingCellRenderer();\n    return loadingComp ? {\n      value: void 0,\n      compDetails: loadingComp,\n      force: false\n    } : void 0;\n  }, [cellCtrl]);\n  showJsRenderer_default(renderDetails, false, void 0, 1, jsCellRendererRef, parent);\n  if (renderDetails?.compDetails?.componentFromFramework) {\n    const CellRendererClass = renderDetails.compDetails.componentClass;\n    return /* @__PURE__ */React12.createElement(CellRendererClass, {\n      ...renderDetails.compDetails.params\n    });\n  }\n  return /* @__PURE__ */React12.createElement(React12.Fragment, null);\n};\n\n// packages/ag-grid-react/src/reactUi/cells/cellComp.tsx\nvar CellComp = ({\n  cellCtrl,\n  printLayout,\n  editingCell\n}) => {\n  const beans = useContext10(BeansContext);\n  const {\n    context\n  } = beans;\n  const {\n    column: {\n      colIdSanitised\n    },\n    instanceId\n  } = cellCtrl;\n  const compBean = useRef10();\n  const [renderDetails, setRenderDetails] = useState11(() => cellCtrl.isCellRenderer() ? void 0 : {\n    compDetails: void 0,\n    value: cellCtrl.getValueToDisplay(),\n    force: false\n  });\n  const [editDetails, setEditDetails] = useState11();\n  const [renderKey, setRenderKey] = useState11(1);\n  const [userStyles, setUserStyles] = useState11();\n  const [includeSelection, setIncludeSelection] = useState11(false);\n  const [includeRowDrag, setIncludeRowDrag] = useState11(false);\n  const [includeDndSource, setIncludeDndSource] = useState11(false);\n  const [jsEditorComp, setJsEditorComp] = useState11();\n  const forceWrapper = useMemo8(() => cellCtrl.isForceWrapper(), [cellCtrl]);\n  const cellAriaRole = useMemo8(() => cellCtrl.getCellAriaRole(), [cellCtrl]);\n  const eGui = useRef10(null);\n  const eWrapper = useRef10(null);\n  const cellRendererRef = useRef10(null);\n  const jsCellRendererRef = useRef10();\n  const cellEditorRef = useRef10();\n  const eCellWrapper = useRef10();\n  const cellWrapperDestroyFuncs = useRef10([]);\n  const rowDragCompRef = useRef10();\n  const eCellValue = useRef10();\n  const [cellValueVersion, setCellValueVersion] = useState11(0);\n  const setCellValueRef = useCallback9(ref => {\n    eCellValue.current = ref;\n    setCellValueVersion(v => v + 1);\n  }, []);\n  const showTools = renderDetails != null && (includeSelection || includeDndSource || includeRowDrag) && (editDetails == null || !!editDetails.popup);\n  const showCellWrapper = forceWrapper || showTools;\n  const setCellEditorRef = useCallback9(cellEditor => {\n    cellEditorRef.current = cellEditor;\n    if (cellEditor) {\n      const editingCancelledByUserComp = cellEditor.isCancelBeforeStart && cellEditor.isCancelBeforeStart();\n      setTimeout(() => {\n        if (editingCancelledByUserComp) {\n          cellCtrl.stopEditing(true);\n          cellCtrl.focusCell(true);\n        } else {\n          cellCtrl.cellEditorAttached();\n          cellCtrl.enableEditorTooltipFeature(cellEditor);\n        }\n      });\n    }\n  }, [cellCtrl]);\n  const cssManager = useRef10();\n  if (!cssManager.current) {\n    cssManager.current = new CssClassManager2(() => eGui.current);\n  }\n  showJsRenderer_default(renderDetails, showCellWrapper, eCellValue.current, cellValueVersion, jsCellRendererRef, eGui);\n  const lastRenderDetails = useRef10();\n  useLayoutEffect6(() => {\n    const oldDetails = lastRenderDetails.current;\n    const newDetails = renderDetails;\n    lastRenderDetails.current = renderDetails;\n    if (oldDetails == null || oldDetails.compDetails == null || newDetails == null || newDetails.compDetails == null) {\n      return;\n    }\n    rowDragCompRef.current?.refreshVisibility();\n    const oldCompDetails = oldDetails.compDetails;\n    const newCompDetails = newDetails.compDetails;\n    if (oldCompDetails.componentClass != newCompDetails.componentClass) {\n      return;\n    }\n    if (cellRendererRef.current?.refresh == null) {\n      return;\n    }\n    const result = cellRendererRef.current.refresh(newCompDetails.params);\n    if (result != true) {\n      setRenderKey(prev => prev + 1);\n    }\n  }, [renderDetails]);\n  useLayoutEffect6(() => {\n    const doingJsEditor = editDetails && !editDetails.compDetails.componentFromFramework;\n    if (!doingJsEditor || context.isDestroyed()) {\n      return;\n    }\n    const compDetails = editDetails.compDetails;\n    const isPopup = editDetails.popup === true;\n    const cellEditorPromise = compDetails.newAgStackInstance();\n    cellEditorPromise.then(cellEditor => {\n      if (!cellEditor) {\n        return;\n      }\n      const compGui = cellEditor.getGui();\n      setCellEditorRef(cellEditor);\n      if (!isPopup) {\n        const parentEl = (forceWrapper ? eCellWrapper : eGui).current;\n        parentEl?.appendChild(compGui);\n        cellEditor.afterGuiAttached && cellEditor.afterGuiAttached();\n      }\n      setJsEditorComp(cellEditor);\n    });\n    return () => {\n      cellEditorPromise.then(cellEditor => {\n        const compGui = cellEditor.getGui();\n        cellCtrl.disableEditorTooltipFeature();\n        context.destroyBean(cellEditor);\n        setCellEditorRef(void 0);\n        setJsEditorComp(void 0);\n        compGui?.parentElement?.removeChild(compGui);\n      });\n    };\n  }, [editDetails]);\n  const setCellWrapperRef = useCallback9(eRef => {\n    eCellWrapper.current = eRef;\n    if (!eRef || context.isDestroyed() || !cellCtrl.isAlive()) {\n      const callbacks = cellWrapperDestroyFuncs.current;\n      cellWrapperDestroyFuncs.current = [];\n      for (const cb of callbacks) {\n        cb();\n      }\n      return;\n    }\n    let rowDragComp;\n    const addComp = comp => {\n      if (comp) {\n        eRef.insertAdjacentElement(\"afterbegin\", comp.getGui());\n        cellWrapperDestroyFuncs.current.push(() => {\n          _removeFromParent(comp.getGui());\n          context.destroyBean(comp);\n          if (rowDragCompRef.current === rowDragComp) {\n            rowDragCompRef.current = void 0;\n          }\n        });\n      }\n    };\n    if (includeSelection) {\n      addComp(cellCtrl.createSelectionCheckbox());\n    }\n    if (includeDndSource) {\n      addComp(cellCtrl.createDndSource());\n    }\n    if (includeRowDrag) {\n      rowDragComp = cellCtrl.createRowDragComp();\n      rowDragCompRef.current = rowDragComp;\n      if (rowDragComp) {\n        addComp(rowDragComp);\n        rowDragComp.refreshVisibility();\n      }\n    }\n  }, [cellCtrl, context, includeDndSource, includeRowDrag, includeSelection]);\n  const init = useCallback9(() => {\n    const spanReady = !cellCtrl.isCellSpanning() || eWrapper.current;\n    const eRef = eGui.current;\n    if (!eRef || !spanReady || !cellCtrl || !cellCtrl.isAlive() || context.isDestroyed()) {\n      compBean.current = context.destroyBean(compBean.current);\n      return;\n    }\n    compBean.current = context.createBean(new _EmptyBean5());\n    const compProxy = {\n      toggleCss: (name, on) => cssManager.current.toggleCss(name, on),\n      setUserStyles: styles => setUserStyles(styles),\n      getFocusableElement: () => eGui.current,\n      setIncludeSelection: include => setIncludeSelection(include),\n      setIncludeRowDrag: include => setIncludeRowDrag(include),\n      setIncludeDndSource: include => setIncludeDndSource(include),\n      getCellEditor: () => cellEditorRef.current || null,\n      getCellRenderer: () => cellRendererRef.current ?? jsCellRendererRef.current,\n      getParentOfValue: () => eCellValue.current ?? eCellWrapper.current ?? eGui.current,\n      setRenderDetails: (compDetails, value, force) => {\n        const setDetails = () => {\n          setRenderDetails(prev => {\n            if (prev?.compDetails !== compDetails || prev?.value !== value || prev?.force !== force) {\n              return {\n                value,\n                compDetails,\n                force\n              };\n            } else {\n              return prev;\n            }\n          });\n        };\n        if (compDetails?.params?.deferRender && !cellCtrl.rowNode.group) {\n          const {\n            loadingComp,\n            onReady\n          } = cellCtrl.getDeferLoadingCellRenderer();\n          if (loadingComp) {\n            setRenderDetails({\n              value: void 0,\n              compDetails: loadingComp,\n              force: false\n            });\n            onReady.then(() => agStartTransition(setDetails));\n            return;\n          }\n        }\n        setDetails();\n      },\n      setEditDetails: (compDetails, popup, popupPosition, reactiveCustomComponents) => {\n        if (compDetails) {\n          let compProxy2 = void 0;\n          if (compDetails.componentFromFramework) {\n            if (reactiveCustomComponents) {\n              compProxy2 = new CellEditorComponentProxy(compDetails.params, () => setRenderKey(prev => prev + 1));\n            } else {\n              warnReactiveCustomComponents();\n            }\n          }\n          setEditDetails({\n            compDetails,\n            popup,\n            popupPosition,\n            compProxy: compProxy2\n          });\n          if (!popup) {\n            setRenderDetails(void 0);\n          }\n        } else {\n          const recoverFocus = cellCtrl.hasBrowserFocus();\n          if (recoverFocus) {\n            compProxy.getFocusableElement().focus({\n              preventScroll: true\n            });\n          }\n          setEditDetails(editDetails2 => {\n            if (editDetails2?.compProxy) {\n              cellEditorRef.current = void 0;\n            }\n            return void 0;\n          });\n        }\n      },\n      refreshEditStyles: (editing, isPopup) => {\n        if (!eGui.current) {\n          return;\n        }\n        const {\n          current\n        } = cssManager;\n        current.toggleCss(\"ag-cell-value\", !showCellWrapper);\n        current.toggleCss(\"ag-cell-inline-editing\", !!editing && !isPopup);\n        current.toggleCss(\"ag-cell-popup-editing\", !!editing && !!isPopup);\n        current.toggleCss(\"ag-cell-not-inline-editing\", !editing || !!isPopup);\n      }\n    };\n    const cellWrapperOrUndefined = eCellWrapper.current || void 0;\n    cellCtrl.setComp(compProxy, eRef, eWrapper.current ?? void 0, cellWrapperOrUndefined, printLayout, editingCell, compBean.current);\n  }, []);\n  const setGuiRef = useCallback9(ref => {\n    eGui.current = ref;\n    init();\n  }, []);\n  const setWrapperRef = useCallback9(ref => {\n    eWrapper.current = ref;\n    init();\n  }, []);\n  const reactCellRendererStateless = useMemo8(() => {\n    const res = renderDetails?.compDetails?.componentFromFramework && isComponentStateless(renderDetails.compDetails.componentClass);\n    return !!res;\n  }, [renderDetails]);\n  useLayoutEffect6(() => {\n    if (!eGui.current) {\n      return;\n    }\n    const {\n      current\n    } = cssManager;\n    current.toggleCss(\"ag-cell-value\", !showCellWrapper);\n    current.toggleCss(\"ag-cell-inline-editing\", !!editDetails && !editDetails.popup);\n    current.toggleCss(\"ag-cell-popup-editing\", !!editDetails && !!editDetails.popup);\n    current.toggleCss(\"ag-cell-not-inline-editing\", !editDetails || !!editDetails.popup);\n  });\n  const valueOrCellComp = () => {\n    const {\n      compDetails,\n      value\n    } = renderDetails;\n    if (!compDetails) {\n      return value?.toString?.() ?? value;\n    }\n    if (compDetails.componentFromFramework) {\n      const CellRendererClass = compDetails.componentClass;\n      return /* @__PURE__ */React13.createElement(Suspense, {\n        fallback: /* @__PURE__ */React13.createElement(SkeletonCellRenderer, {\n          cellCtrl,\n          parent: eGui\n        })\n      }, reactCellRendererStateless ? /* @__PURE__ */React13.createElement(CellRendererClass, {\n        ...compDetails.params,\n        key: renderKey\n      }) : /* @__PURE__ */React13.createElement(CellRendererClass, {\n        ...compDetails.params,\n        key: renderKey,\n        ref: cellRendererRef\n      }));\n    }\n  };\n  const showCellOrEditor = () => {\n    const showCellValue = () => {\n      if (renderDetails == null) {\n        return null;\n      }\n      return showCellWrapper ? /* @__PURE__ */React13.createElement(\"span\", {\n        role: \"presentation\",\n        id: `cell-${instanceId}`,\n        className: \"ag-cell-value\",\n        ref: setCellValueRef\n      }, valueOrCellComp()) : valueOrCellComp();\n    };\n    const showEditValue = details => jsxEditValue(details, setCellEditorRef, eGui.current, cellCtrl, jsEditorComp);\n    if (editDetails != null) {\n      if (editDetails.popup) {\n        return /* @__PURE__ */React13.createElement(React13.Fragment, null, showCellValue(), showEditValue(editDetails));\n      }\n      return showEditValue(editDetails);\n    }\n    return showCellValue();\n  };\n  const renderCell = () => /* @__PURE__ */React13.createElement(\"div\", {\n    ref: setGuiRef,\n    style: userStyles,\n    role: cellAriaRole,\n    \"col-id\": colIdSanitised\n  }, showCellWrapper ? /* @__PURE__ */React13.createElement(\"div\", {\n    className: \"ag-cell-wrapper\",\n    role: \"presentation\",\n    ref: setCellWrapperRef\n  }, showCellOrEditor()) : showCellOrEditor());\n  if (cellCtrl.isCellSpanning()) {\n    return /* @__PURE__ */React13.createElement(\"div\", {\n      ref: setWrapperRef,\n      className: \"ag-spanned-cell-wrapper\",\n      role: \"presentation\"\n    }, renderCell());\n  }\n  return renderCell();\n};\nvar cellComp_default = memo9(CellComp);\n\n// packages/ag-grid-react/src/reactUi/rows/rowComp.tsx\nvar RowComp = ({\n  rowCtrl,\n  containerType\n}) => {\n  const {\n    context,\n    gos,\n    editSvc\n  } = useContext11(BeansContext);\n  const enableUses = useContext11(RenderModeContext) === \"default\";\n  const compBean = useRef11();\n  const domOrderRef = useRef11(rowCtrl.getDomOrder());\n  const isFullWidth = rowCtrl.isFullWidth();\n  const isDisplayed = rowCtrl.rowNode.displayed;\n  const [rowIndex, setRowIndex] = useState12(() => isDisplayed ? rowCtrl.rowNode.getRowIndexString() : null);\n  const [rowId, setRowId] = useState12(() => rowCtrl.rowId);\n  const [rowBusinessKey, setRowBusinessKey] = useState12(() => rowCtrl.businessKey);\n  const [userStyles, setUserStyles] = useState12(() => rowCtrl.rowStyles);\n  const cellCtrlsRef = useRef11(null);\n  const [cellCtrlsFlushSync, setCellCtrlsFlushSync] = useState12(() => null);\n  const [fullWidthCompDetails, setFullWidthCompDetails] = useState12();\n  const [top, setTop] = useState12(() => isDisplayed ? rowCtrl.getInitialRowTop(containerType) : void 0);\n  const [transform, setTransform] = useState12(() => isDisplayed ? rowCtrl.getInitialTransform(containerType) : void 0);\n  const eGui = useRef11(null);\n  const fullWidthCompRef = useRef11();\n  const fullWidthParamsRef = useRef11();\n  const autoHeightSetup = useRef11(false);\n  const [autoHeightSetupAttempt, setAutoHeightSetupAttempt] = useState12(0);\n  useEffect8(() => {\n    if (autoHeightSetup.current || !fullWidthCompDetails || autoHeightSetupAttempt > 10) {\n      return;\n    }\n    const eChild = eGui.current?.firstChild;\n    if (eChild) {\n      rowCtrl.setupDetailRowAutoHeight(eChild);\n      autoHeightSetup.current = true;\n    } else {\n      setAutoHeightSetupAttempt(prev => prev + 1);\n    }\n  }, [fullWidthCompDetails, autoHeightSetupAttempt]);\n  const cssManager = useRef11();\n  if (!cssManager.current) {\n    cssManager.current = new CssClassManager3(() => eGui.current);\n  }\n  const cellsChanged = useRef11(() => {});\n  const sub = useCallback10(onStoreChange => {\n    cellsChanged.current = onStoreChange;\n    return () => {\n      cellsChanged.current = () => {};\n    };\n  }, []);\n  const cellCtrlsUses = agUseSyncExternalStore(sub, () => {\n    return cellCtrlsRef.current;\n  }, []);\n  const cellCtrlsMerged = enableUses ? cellCtrlsUses : cellCtrlsFlushSync;\n  const setRef2 = useCallback10(eRef => {\n    eGui.current = eRef;\n    compBean.current = eRef ? context.createBean(new _EmptyBean6()) : context.destroyBean(compBean.current);\n    if (!eRef) {\n      rowCtrl.unsetComp(containerType);\n      return;\n    }\n    if (!rowCtrl.isAlive() || context.isDestroyed()) {\n      return;\n    }\n    const compProxy = {\n      // the rowTop is managed by state, instead of direct style manipulation by rowCtrl (like all the other styles)\n      // as we need to have an initial value when it's placed into he DOM for the first time, for animation to work.\n      setTop,\n      setTransform,\n      // i found using React for managing classes at the row level was to slow, as modifying classes caused a lot of\n      // React code to execute, so avoiding React for managing CSS Classes made the grid go much faster.\n      toggleCss: (name, on) => cssManager.current.toggleCss(name, on),\n      setDomOrder: domOrder => domOrderRef.current = domOrder,\n      setRowIndex,\n      setRowId,\n      setRowBusinessKey,\n      setUserStyles,\n      // if we don't maintain the order, then cols will be ripped out and into the dom\n      // when cols reordered, which would stop the CSS transitions from working\n      setCellCtrls: (next, useFlushSync) => {\n        const prevCellCtrls = cellCtrlsRef.current;\n        const nextCells = getNextValueIfDifferent(prevCellCtrls, next, domOrderRef.current);\n        if (nextCells !== prevCellCtrls) {\n          cellCtrlsRef.current = nextCells;\n          if (enableUses) {\n            cellsChanged.current();\n          } else {\n            agFlushSync(useFlushSync, () => setCellCtrlsFlushSync(nextCells));\n          }\n        }\n      },\n      showFullWidth: compDetails => {\n        fullWidthParamsRef.current = compDetails.params;\n        setFullWidthCompDetails(compDetails);\n      },\n      getFullWidthCellRenderer: () => fullWidthCompRef.current,\n      getFullWidthCellRendererParams: () => fullWidthParamsRef.current,\n      refreshFullWidth: getUpdatedParams => {\n        const fullWidthParams = getUpdatedParams();\n        fullWidthParamsRef.current = fullWidthParams;\n        if (canRefreshFullWidthRef.current) {\n          setFullWidthCompDetails(prevFullWidthCompDetails => ({\n            ...prevFullWidthCompDetails,\n            params: fullWidthParams\n          }));\n          return true;\n        } else {\n          if (!fullWidthCompRef.current || !fullWidthCompRef.current.refresh) {\n            return false;\n          }\n          return fullWidthCompRef.current.refresh(fullWidthParams);\n        }\n      }\n    };\n    rowCtrl.setComp(compProxy, eRef, containerType, compBean.current);\n  }, []);\n  useLayoutEffect7(() => showJsComp(fullWidthCompDetails, context, eGui.current, fullWidthCompRef), [fullWidthCompDetails]);\n  const rowStyles = useMemo9(() => {\n    const res = {\n      top,\n      transform\n    };\n    Object.assign(res, userStyles);\n    return res;\n  }, [top, transform, userStyles]);\n  const showFullWidthFramework = isFullWidth && fullWidthCompDetails?.componentFromFramework;\n  const showCells = !isFullWidth && cellCtrlsMerged != null;\n  const reactFullWidthCellRendererStateless = useMemo9(() => {\n    const res = fullWidthCompDetails?.componentFromFramework && isComponentStateless(fullWidthCompDetails.componentClass);\n    return !!res;\n  }, [fullWidthCompDetails]);\n  const canRefreshFullWidthRef = useRef11(false);\n  useEffect8(() => {\n    canRefreshFullWidthRef.current = reactFullWidthCellRendererStateless && !!fullWidthCompDetails && !!gos.get(\"reactiveCustomComponents\");\n  }, [reactFullWidthCellRendererStateless, fullWidthCompDetails]);\n  const showCellsJsx = () => cellCtrlsMerged?.map(cellCtrl => /* @__PURE__ */React14.createElement(cellComp_default, {\n    cellCtrl,\n    editingCell: editSvc?.isEditing(cellCtrl, {\n      withOpenEditor: true\n    }) ?? false,\n    printLayout: rowCtrl.printLayout,\n    key: cellCtrl.instanceId\n  }));\n  const showFullWidthFrameworkJsx = () => {\n    const FullWidthComp = fullWidthCompDetails.componentClass;\n    return reactFullWidthCellRendererStateless ? /* @__PURE__ */React14.createElement(FullWidthComp, {\n      ...fullWidthCompDetails.params\n    }) : /* @__PURE__ */React14.createElement(FullWidthComp, {\n      ...fullWidthCompDetails.params,\n      ref: fullWidthCompRef\n    });\n  };\n  return /* @__PURE__ */React14.createElement(\"div\", {\n    ref: setRef2,\n    role: \"row\",\n    style: rowStyles,\n    \"row-index\": rowIndex,\n    \"row-id\": rowId,\n    \"row-business-key\": rowBusinessKey\n  }, showCells ? showCellsJsx() : showFullWidthFramework ? showFullWidthFrameworkJsx() : null);\n};\nvar rowComp_default = memo10(RowComp);\n\n// packages/ag-grid-react/src/reactUi/rows/rowContainerComp.tsx\nvar RowContainerComp = ({\n  name\n}) => {\n  const {\n    context,\n    gos\n  } = useContext12(BeansContext);\n  const containerOptions = useMemo10(() => _getRowContainerOptions(name), [name]);\n  const eViewport = useRef12(null);\n  const eContainer = useRef12(null);\n  const eSpanContainer = useRef12(null);\n  const rowCtrlsRef = useRef12([]);\n  const prevRowCtrlsRef = useRef12([]);\n  const [rowCtrlsOrdered, setRowCtrlsOrdered] = useState13(() => []);\n  const isSpanning = !!gos.get(\"enableCellSpan\") && !!containerOptions.getSpannedRowCtrls;\n  const spannedRowCtrlsRef = useRef12([]);\n  const prevSpannedRowCtrlsRef = useRef12([]);\n  const [spannedRowCtrlsOrdered, setSpannedRowCtrlsOrdered] = useState13(() => []);\n  const domOrderRef = useRef12(false);\n  const rowContainerCtrlRef = useRef12();\n  const viewportClasses = useMemo10(() => classesList(\"ag-viewport\", _getRowViewportClass(name)), [name]);\n  const containerClasses = useMemo10(() => classesList(_getRowContainerClass(name)), [name]);\n  const spanClasses = useMemo10(() => classesList(\"ag-spanning-container\", _getRowSpanContainerClass(name)), [name]);\n  const shouldRenderViewport = containerOptions.type === \"center\" || isSpanning;\n  const topLevelRef = shouldRenderViewport ? eViewport : eContainer;\n  reactComment_default(\" AG Row Container \" + name + \" \", topLevelRef);\n  const areElementsReady = useCallback11(() => {\n    const viewportReady = !shouldRenderViewport || eViewport.current != null;\n    const containerReady = eContainer.current != null;\n    const spanContainerReady = !isSpanning || eSpanContainer.current != null;\n    return viewportReady && containerReady && spanContainerReady;\n  }, []);\n  const areElementsRemoved = useCallback11(() => {\n    return eViewport.current == null && eContainer.current == null && eSpanContainer.current == null;\n  }, []);\n  const setRef2 = useCallback11(() => {\n    if (areElementsRemoved()) {\n      rowContainerCtrlRef.current = context.destroyBean(rowContainerCtrlRef.current);\n    }\n    if (context.isDestroyed()) {\n      return;\n    }\n    if (areElementsReady()) {\n      const updateRowCtrlsOrdered = useFlushSync => {\n        const next = getNextValueIfDifferent(prevRowCtrlsRef.current, rowCtrlsRef.current, domOrderRef.current);\n        if (next !== prevRowCtrlsRef.current) {\n          prevRowCtrlsRef.current = next;\n          agFlushSync(useFlushSync, () => setRowCtrlsOrdered(next));\n        }\n      };\n      const updateSpannedRowCtrlsOrdered = useFlushSync => {\n        const next = getNextValueIfDifferent(prevSpannedRowCtrlsRef.current, spannedRowCtrlsRef.current, domOrderRef.current);\n        if (next !== prevSpannedRowCtrlsRef.current) {\n          prevSpannedRowCtrlsRef.current = next;\n          agFlushSync(useFlushSync, () => setSpannedRowCtrlsOrdered(next));\n        }\n      };\n      const compProxy = {\n        setHorizontalScroll: offset => {\n          if (eViewport.current) {\n            eViewport.current.scrollLeft = offset;\n          }\n        },\n        setViewportHeight: height => {\n          if (eViewport.current) {\n            eViewport.current.style.height = height;\n          }\n        },\n        setRowCtrls: ({\n          rowCtrls,\n          useFlushSync\n        }) => {\n          const useFlush = !!useFlushSync && rowCtrlsRef.current.length > 0 && rowCtrls.length > 0;\n          rowCtrlsRef.current = rowCtrls;\n          updateRowCtrlsOrdered(useFlush);\n        },\n        setSpannedRowCtrls: (rowCtrls, useFlushSync) => {\n          const useFlush = !!useFlushSync && spannedRowCtrlsRef.current.length > 0 && rowCtrls.length > 0;\n          spannedRowCtrlsRef.current = rowCtrls;\n          updateSpannedRowCtrlsOrdered(useFlush);\n        },\n        setDomOrder: domOrder => {\n          if (domOrderRef.current != domOrder) {\n            domOrderRef.current = domOrder;\n            updateRowCtrlsOrdered(false);\n          }\n        },\n        setContainerWidth: width => {\n          if (eContainer.current) {\n            eContainer.current.style.width = width;\n          }\n        },\n        setOffsetTop: offset => {\n          if (eContainer.current) {\n            eContainer.current.style.transform = `translateY(${offset})`;\n          }\n        }\n      };\n      rowContainerCtrlRef.current = context.createBean(new RowContainerCtrl(name));\n      rowContainerCtrlRef.current.setComp(compProxy, eContainer.current, eSpanContainer.current ?? void 0, eViewport.current);\n    }\n  }, [areElementsReady, areElementsRemoved]);\n  const setContainerRef = useCallback11(e => {\n    eContainer.current = e;\n    setRef2();\n  }, [setRef2]);\n  const setSpanContainerRef = useCallback11(e => {\n    eSpanContainer.current = e;\n    setRef2();\n  }, [setRef2]);\n  const setViewportRef = useCallback11(e => {\n    eViewport.current = e;\n    setRef2();\n  }, [setRef2]);\n  const buildContainer = () => /* @__PURE__ */React15.createElement(\"div\", {\n    className: containerClasses,\n    ref: setContainerRef,\n    role: shouldRenderViewport ? \"presentation\" : \"rowgroup\"\n  }, rowCtrlsOrdered.map(rowCtrl => /* @__PURE__ */React15.createElement(rowComp_default, {\n    rowCtrl,\n    containerType: containerOptions.type,\n    key: rowCtrl.instanceId\n  })));\n  if (!shouldRenderViewport) {\n    return buildContainer();\n  }\n  const buildSpanContainer = () => /* @__PURE__ */React15.createElement(\"div\", {\n    className: spanClasses,\n    ref: setSpanContainerRef,\n    role: \"presentation\"\n  }, spannedRowCtrlsOrdered.map(rowCtrl => /* @__PURE__ */React15.createElement(rowComp_default, {\n    rowCtrl,\n    containerType: containerOptions.type,\n    key: rowCtrl.instanceId\n  })));\n  return /* @__PURE__ */React15.createElement(\"div\", {\n    className: viewportClasses,\n    ref: setViewportRef,\n    role: \"rowgroup\"\n  }, buildContainer(), isSpanning ? buildSpanContainer() : null);\n};\nvar rowContainerComp_default = memo11(RowContainerComp);\n\n// packages/ag-grid-react/src/reactUi/gridBodyComp.tsx\nvar GridBodyComp = () => {\n  const beans = useContext13(BeansContext);\n  const {\n    context,\n    overlays\n  } = beans;\n  const [rowAnimationClass, setRowAnimationClass] = useState14(\"\");\n  const [topHeight, setTopHeight] = useState14(0);\n  const [bottomHeight, setBottomHeight] = useState14(0);\n  const [stickyTopHeight, setStickyTopHeight] = useState14(\"0px\");\n  const [stickyTopTop, setStickyTopTop] = useState14(\"0px\");\n  const [stickyTopWidth, setStickyTopWidth] = useState14(\"100%\");\n  const [stickyBottomHeight, setStickyBottomHeight] = useState14(\"0px\");\n  const [stickyBottomBottom, setStickyBottomBottom] = useState14(\"0px\");\n  const [stickyBottomWidth, setStickyBottomWidth] = useState14(\"100%\");\n  const [topInvisible, setTopInvisible] = useState14(true);\n  const [bottomInvisible, setBottomInvisible] = useState14(true);\n  const [forceVerticalScrollClass, setForceVerticalScrollClass] = useState14(null);\n  const [topAndBottomOverflowY, setTopAndBottomOverflowY] = useState14(\"\");\n  const [cellSelectableCss, setCellSelectableCss] = useState14(null);\n  const [layoutClass, setLayoutClass] = useState14(\"ag-layout-normal\");\n  const cssManager = useRef13();\n  if (!cssManager.current) {\n    cssManager.current = new CssClassManager4(() => eRoot.current);\n  }\n  const eRoot = useRef13(null);\n  const eTop = useRef13(null);\n  const eStickyTop = useRef13(null);\n  const eStickyBottom = useRef13(null);\n  const eBody = useRef13(null);\n  const eBodyViewport = useRef13(null);\n  const eBottom = useRef13(null);\n  const beansToDestroy = useRef13([]);\n  const destroyFuncs = useRef13([]);\n  reactComment_default(\" AG Grid Body \", eRoot);\n  reactComment_default(\" AG Pinned Top \", eTop);\n  reactComment_default(\" AG Sticky Top \", eStickyTop);\n  reactComment_default(\" AG Middle \", eBodyViewport);\n  reactComment_default(\" AG Pinned Bottom \", eBottom);\n  const setRef2 = useCallback12(eRef => {\n    eRoot.current = eRef;\n    if (!eRef || context.isDestroyed()) {\n      beansToDestroy.current = context.destroyBeans(beansToDestroy.current);\n      destroyFuncs.current.forEach(f => f());\n      destroyFuncs.current = [];\n      return;\n    }\n    const attachToDom = (eParent, eChild) => {\n      eParent.appendChild(eChild);\n      destroyFuncs.current.push(() => eParent.removeChild(eChild));\n    };\n    const newComp = compClass => {\n      const comp = context.createBean(new compClass());\n      beansToDestroy.current.push(comp);\n      return comp;\n    };\n    const addComp = (eParent, compClass, comment) => {\n      attachToDom(eParent, document.createComment(comment));\n      attachToDom(eParent, newComp(compClass).getGui());\n    };\n    addComp(eRef, FakeHScrollComp, \" AG Fake Horizontal Scroll \");\n    const overlayComp = overlays?.getOverlayWrapperCompClass();\n    if (overlayComp) {\n      addComp(eRef, overlayComp, \" AG Overlay Wrapper \");\n    }\n    if (eBody.current) {\n      addComp(eBody.current, FakeVScrollComp, \" AG Fake Vertical Scroll \");\n    }\n    const compProxy = {\n      setRowAnimationCssOnBodyViewport: setRowAnimationClass,\n      setColumnCount: count => {\n        if (eRoot.current) {\n          _setAriaColCount(eRoot.current, count);\n        }\n      },\n      setRowCount: count => {\n        if (eRoot.current) {\n          _setAriaRowCount(eRoot.current, count);\n        }\n      },\n      setTopHeight,\n      setBottomHeight,\n      setStickyTopHeight,\n      setStickyTopTop,\n      setStickyTopWidth,\n      setTopInvisible,\n      setBottomInvisible,\n      setColumnMovingCss: (cssClass, flag) => cssManager.current.toggleCss(cssClass, flag),\n      updateLayoutClasses: setLayoutClass,\n      setAlwaysVerticalScrollClass: setForceVerticalScrollClass,\n      setPinnedTopBottomOverflowY: setTopAndBottomOverflowY,\n      setCellSelectableCss: (cssClass, flag) => setCellSelectableCss(flag ? cssClass : null),\n      setBodyViewportWidth: width => {\n        if (eBodyViewport.current) {\n          eBodyViewport.current.style.width = width;\n        }\n      },\n      registerBodyViewportResizeListener: listener => {\n        if (eBodyViewport.current) {\n          const unsubscribeFromResize = _observeResize(beans, eBodyViewport.current, listener);\n          destroyFuncs.current.push(() => unsubscribeFromResize());\n        }\n      },\n      setStickyBottomHeight,\n      setStickyBottomBottom,\n      setStickyBottomWidth,\n      setGridRootRole: role => eRef.setAttribute(\"role\", role)\n    };\n    const ctrl = context.createBean(new GridBodyCtrl());\n    beansToDestroy.current.push(ctrl);\n    ctrl.setComp(compProxy, eRef, eBodyViewport.current, eTop.current, eBottom.current, eStickyTop.current, eStickyBottom.current);\n  }, []);\n  const rootClasses = useMemo11(() => classesList(\"ag-root\", \"ag-unselectable\", layoutClass), [layoutClass]);\n  const bodyViewportClasses = useMemo11(() => classesList(\"ag-body-viewport\", rowAnimationClass, layoutClass, forceVerticalScrollClass, cellSelectableCss), [rowAnimationClass, layoutClass, forceVerticalScrollClass, cellSelectableCss]);\n  const bodyClasses = useMemo11(() => classesList(\"ag-body\", layoutClass), [layoutClass]);\n  const topClasses = useMemo11(() => classesList(\"ag-floating-top\", topInvisible ? \"ag-invisible\" : null, cellSelectableCss), [cellSelectableCss, topInvisible]);\n  const stickyTopClasses = useMemo11(() => classesList(\"ag-sticky-top\", cellSelectableCss), [cellSelectableCss]);\n  const stickyBottomClasses = useMemo11(() => classesList(\"ag-sticky-bottom\", stickyBottomHeight === \"0px\" ? \"ag-invisible\" : null, cellSelectableCss), [cellSelectableCss, stickyBottomHeight]);\n  const bottomClasses = useMemo11(() => classesList(\"ag-floating-bottom\", bottomInvisible ? \"ag-invisible\" : null, cellSelectableCss), [cellSelectableCss, bottomInvisible]);\n  const topStyle = useMemo11(() => ({\n    height: topHeight,\n    minHeight: topHeight,\n    overflowY: topAndBottomOverflowY\n  }), [topHeight, topAndBottomOverflowY]);\n  const stickyTopStyle = useMemo11(() => ({\n    height: stickyTopHeight,\n    top: stickyTopTop,\n    width: stickyTopWidth\n  }), [stickyTopHeight, stickyTopTop, stickyTopWidth]);\n  const stickyBottomStyle = useMemo11(() => ({\n    height: stickyBottomHeight,\n    bottom: stickyBottomBottom,\n    width: stickyBottomWidth\n  }), [stickyBottomHeight, stickyBottomBottom, stickyBottomWidth]);\n  const bottomStyle = useMemo11(() => ({\n    height: bottomHeight,\n    minHeight: bottomHeight,\n    overflowY: topAndBottomOverflowY\n  }), [bottomHeight, topAndBottomOverflowY]);\n  const createRowContainer = container => /* @__PURE__ */React16.createElement(rowContainerComp_default, {\n    name: container,\n    key: `${container}-container`\n  });\n  const createSection = ({\n    section,\n    children,\n    className,\n    style\n  }) => /* @__PURE__ */React16.createElement(\"div\", {\n    ref: section,\n    className,\n    role: \"presentation\",\n    style\n  }, children.map(createRowContainer));\n  return /* @__PURE__ */React16.createElement(\"div\", {\n    ref: setRef2,\n    className: rootClasses\n  }, /* @__PURE__ */React16.createElement(gridHeaderComp_default, null), createSection({\n    section: eTop,\n    className: topClasses,\n    style: topStyle,\n    children: [\"topLeft\", \"topCenter\", \"topRight\", \"topFullWidth\"]\n  }), /* @__PURE__ */React16.createElement(\"div\", {\n    className: bodyClasses,\n    ref: eBody,\n    role: \"presentation\"\n  }, createSection({\n    section: eBodyViewport,\n    className: bodyViewportClasses,\n    children: [\"left\", \"center\", \"right\", \"fullWidth\"]\n  })), createSection({\n    section: eStickyTop,\n    className: stickyTopClasses,\n    style: stickyTopStyle,\n    children: [\"stickyTopLeft\", \"stickyTopCenter\", \"stickyTopRight\", \"stickyTopFullWidth\"]\n  }), createSection({\n    section: eStickyBottom,\n    className: stickyBottomClasses,\n    style: stickyBottomStyle,\n    children: [\"stickyBottomLeft\", \"stickyBottomCenter\", \"stickyBottomRight\", \"stickyBottomFullWidth\"]\n  }), createSection({\n    section: eBottom,\n    className: bottomClasses,\n    style: bottomStyle,\n    children: [\"bottomLeft\", \"bottomCenter\", \"bottomRight\", \"bottomFullWidth\"]\n  }));\n};\nvar gridBodyComp_default = memo12(GridBodyComp);\n\n// packages/ag-grid-react/src/reactUi/tabGuardComp.tsx\nimport React17, { forwardRef as forwardRef2, memo as memo13, useCallback as useCallback13, useContext as useContext14, useImperativeHandle as useImperativeHandle2, useRef as useRef14 } from \"react\";\nimport { TabGuardClassNames, TabGuardCtrl } from \"ag-grid-community\";\nvar TabGuardCompRef = (props, forwardRef4) => {\n  const {\n    children,\n    eFocusableElement,\n    onTabKeyDown,\n    gridCtrl,\n    forceFocusOutWhenTabGuardsAreEmpty,\n    isEmpty\n  } = props;\n  const {\n    context\n  } = useContext14(BeansContext);\n  const topTabGuardRef = useRef14(null);\n  const bottomTabGuardRef = useRef14(null);\n  const tabGuardCtrlRef = useRef14();\n  const setTabIndex = value => {\n    const processedValue = value == null ? void 0 : parseInt(value, 10).toString();\n    [topTabGuardRef, bottomTabGuardRef].forEach(tabGuard => {\n      if (processedValue === void 0) {\n        tabGuard.current?.removeAttribute(\"tabindex\");\n      } else {\n        tabGuard.current?.setAttribute(\"tabindex\", processedValue);\n      }\n    });\n  };\n  useImperativeHandle2(forwardRef4, () => ({\n    forceFocusOutOfContainer(up) {\n      tabGuardCtrlRef.current?.forceFocusOutOfContainer(up);\n    }\n  }));\n  const setupCtrl = useCallback13(() => {\n    const topTabGuard = topTabGuardRef.current;\n    const bottomTabGuard = bottomTabGuardRef.current;\n    if (!topTabGuard && !bottomTabGuard || context.isDestroyed()) {\n      tabGuardCtrlRef.current = context.destroyBean(tabGuardCtrlRef.current);\n      return;\n    }\n    if (topTabGuard && bottomTabGuard) {\n      const compProxy = {\n        setTabIndex\n      };\n      tabGuardCtrlRef.current = context.createBean(new TabGuardCtrl({\n        comp: compProxy,\n        eTopGuard: topTabGuard,\n        eBottomGuard: bottomTabGuard,\n        eFocusableElement,\n        onTabKeyDown,\n        forceFocusOutWhenTabGuardsAreEmpty,\n        focusInnerElement: fromBottom => gridCtrl.focusInnerElement(fromBottom),\n        isEmpty\n      }));\n    }\n  }, []);\n  const setTopRef = useCallback13(e => {\n    topTabGuardRef.current = e;\n    setupCtrl();\n  }, [setupCtrl]);\n  const setBottomRef = useCallback13(e => {\n    bottomTabGuardRef.current = e;\n    setupCtrl();\n  }, [setupCtrl]);\n  const createTabGuard = side => {\n    const className = side === \"top\" ? TabGuardClassNames.TAB_GUARD_TOP : TabGuardClassNames.TAB_GUARD_BOTTOM;\n    return /* @__PURE__ */React17.createElement(\"div\", {\n      className: `${TabGuardClassNames.TAB_GUARD} ${className}`,\n      role: \"presentation\",\n      ref: side === \"top\" ? setTopRef : setBottomRef\n    });\n  };\n  return /* @__PURE__ */React17.createElement(React17.Fragment, null, createTabGuard(\"top\"), children, createTabGuard(\"bottom\"));\n};\nvar TabGuardComp = forwardRef2(TabGuardCompRef);\nvar tabGuardComp_default = memo13(TabGuardComp);\n\n// packages/ag-grid-react/src/reactUi/gridComp.tsx\nvar GridComp = ({\n  context\n}) => {\n  const [rtlClass, setRtlClass] = useState15(\"\");\n  const [layoutClass, setLayoutClass] = useState15(\"\");\n  const [cursor, setCursor] = useState15(null);\n  const [userSelect, setUserSelect] = useState15(null);\n  const [initialised, setInitialised] = useState15(false);\n  const [tabGuardReady, setTabGuardReady] = useState15();\n  const gridCtrlRef = useRef15();\n  const eRootWrapperRef = useRef15(null);\n  const tabGuardRef = useRef15();\n  const [eGridBodyParent, setGridBodyParent] = useState15(null);\n  const focusInnerElementRef = useRef15(() => void 0);\n  const paginationCompRef = useRef15();\n  const focusableContainersRef = useRef15([]);\n  const onTabKeyDown = useCallback14(() => void 0, []);\n  reactComment_default(\" AG Grid \", eRootWrapperRef);\n  const setRef2 = useCallback14(eRef => {\n    eRootWrapperRef.current = eRef;\n    gridCtrlRef.current = eRef ? context.createBean(new GridCtrl()) : context.destroyBean(gridCtrlRef.current);\n    if (!eRef || context.isDestroyed()) {\n      return;\n    }\n    const gridCtrl = gridCtrlRef.current;\n    focusInnerElementRef.current = gridCtrl.focusInnerElement.bind(gridCtrl);\n    const compProxy = {\n      destroyGridUi: () => {},\n      // do nothing, as framework users destroy grid by removing the comp\n      setRtlClass,\n      forceFocusOutOfContainer: up => {\n        if (!up && paginationCompRef.current?.isDisplayed()) {\n          paginationCompRef.current.forceFocusOutOfContainer(up);\n          return;\n        }\n        tabGuardRef.current?.forceFocusOutOfContainer(up);\n      },\n      updateLayoutClasses: setLayoutClass,\n      getFocusableContainers: () => {\n        const comps = [];\n        const gridBodyCompEl = eRootWrapperRef.current?.querySelector(\".ag-root\");\n        if (gridBodyCompEl) {\n          comps.push({\n            getGui: () => gridBodyCompEl\n          });\n        }\n        focusableContainersRef.current.forEach(comp => {\n          if (comp.isDisplayed()) {\n            comps.push(comp);\n          }\n        });\n        return comps;\n      },\n      setCursor,\n      setUserSelect\n    };\n    gridCtrl.setComp(compProxy, eRef, eRef);\n    setInitialised(true);\n  }, []);\n  useEffect9(() => {\n    const gridCtrl = gridCtrlRef.current;\n    const eRootWrapper = eRootWrapperRef.current;\n    if (!tabGuardReady || !gridCtrl || !eGridBodyParent || !eRootWrapper || context.isDestroyed()) {\n      return;\n    }\n    const beansToDestroy = [];\n    const {\n      watermarkSelector,\n      paginationSelector,\n      sideBarSelector,\n      statusBarSelector,\n      gridHeaderDropZonesSelector\n    } = gridCtrl.getOptionalSelectors();\n    const additionalEls = [];\n    if (gridHeaderDropZonesSelector) {\n      const headerDropZonesComp = context.createBean(new gridHeaderDropZonesSelector.component());\n      const eGui = headerDropZonesComp.getGui();\n      eRootWrapper.insertAdjacentElement(\"afterbegin\", eGui);\n      additionalEls.push(eGui);\n      beansToDestroy.push(headerDropZonesComp);\n    }\n    if (sideBarSelector) {\n      const sideBarComp = context.createBean(new sideBarSelector.component());\n      const eGui = sideBarComp.getGui();\n      const bottomTabGuard = eGridBodyParent.querySelector(\".ag-tab-guard-bottom\");\n      if (bottomTabGuard) {\n        bottomTabGuard.insertAdjacentElement(\"beforebegin\", eGui);\n        additionalEls.push(eGui);\n      }\n      beansToDestroy.push(sideBarComp);\n      focusableContainersRef.current.push(sideBarComp);\n    }\n    const addComponentToDom = component => {\n      const comp = context.createBean(new component());\n      const eGui = comp.getGui();\n      eRootWrapper.insertAdjacentElement(\"beforeend\", eGui);\n      additionalEls.push(eGui);\n      beansToDestroy.push(comp);\n      return comp;\n    };\n    if (statusBarSelector) {\n      addComponentToDom(statusBarSelector.component);\n    }\n    if (paginationSelector) {\n      const paginationComp = addComponentToDom(paginationSelector.component);\n      paginationCompRef.current = paginationComp;\n      focusableContainersRef.current.push(paginationComp);\n    }\n    if (watermarkSelector) {\n      addComponentToDom(watermarkSelector.component);\n    }\n    return () => {\n      context.destroyBeans(beansToDestroy);\n      additionalEls.forEach(el => {\n        el.parentElement?.removeChild(el);\n      });\n    };\n  }, [tabGuardReady, eGridBodyParent, context]);\n  const rootWrapperClasses = useMemo12(() => classesList(\"ag-root-wrapper\", rtlClass, layoutClass), [rtlClass, layoutClass]);\n  const rootWrapperBodyClasses = useMemo12(() => classesList(\"ag-root-wrapper-body\", \"ag-focus-managed\", layoutClass), [layoutClass]);\n  const topStyle = useMemo12(() => ({\n    userSelect: userSelect != null ? userSelect : \"\",\n    WebkitUserSelect: userSelect != null ? userSelect : \"\",\n    cursor: cursor != null ? cursor : \"\"\n  }), [userSelect, cursor]);\n  const setTabGuardCompRef = useCallback14(ref => {\n    tabGuardRef.current = ref;\n    setTabGuardReady(ref !== null);\n  }, []);\n  const isFocusable = useCallback14(() => !gridCtrlRef.current?.isFocusable(), []);\n  return /* @__PURE__ */React18.createElement(\"div\", {\n    ref: setRef2,\n    className: rootWrapperClasses,\n    style: topStyle,\n    role: \"presentation\"\n  }, /* @__PURE__ */React18.createElement(\"div\", {\n    className: rootWrapperBodyClasses,\n    ref: setGridBodyParent,\n    role: \"presentation\"\n  }, initialised && eGridBodyParent && !context.isDestroyed() && /* @__PURE__ */React18.createElement(BeansContext.Provider, {\n    value: context.getBeans()\n  }, /* @__PURE__ */React18.createElement(tabGuardComp_default, {\n    ref: setTabGuardCompRef,\n    eFocusableElement: eGridBodyParent,\n    onTabKeyDown,\n    gridCtrl: gridCtrlRef.current,\n    forceFocusOutWhenTabGuardsAreEmpty: true,\n    isEmpty: isFocusable\n  },\n  // we wait for initialised before rending the children, so GridComp has created and registered with it's\n  // GridCtrl before we create the child GridBodyComp. Otherwise the GridBodyComp would initialise first,\n  // before we have set the the Layout CSS classes, causing the GridBodyComp to render rows to a grid that\n  // doesn't have it's height specified, which would result if all the rows getting rendered (and if many rows,\n  // hangs the UI)\n  /* @__PURE__ */\n  React18.createElement(gridBodyComp_default, null)))));\n};\nvar gridComp_default = memo14(GridComp);\n\n// packages/ag-grid-react/src/reactUi/renderStatusService.tsx\nimport { BeanStub } from \"ag-grid-community\";\nvar RenderStatusService = class extends BeanStub {\n  postConstruct() {\n    if (this.beans.colAutosize) {\n      const queueResizeOperationsForTick = this.queueResizeOperationsForTick.bind(this);\n      this.addManagedEventListeners({\n        rowExpansionStateChanged: queueResizeOperationsForTick,\n        expandOrCollapseAll: queueResizeOperationsForTick,\n        // Enable devs to resize after they updated via the API\n        cellValueChanged: queueResizeOperationsForTick,\n        rowNodeDataChanged: queueResizeOperationsForTick,\n        rowDataUpdated: queueResizeOperationsForTick\n      });\n    }\n  }\n  queueResizeOperationsForTick() {\n    const colAutosize = this.beans.colAutosize;\n    colAutosize.shouldQueueResizeOperations = true;\n    setTimeout(() => {\n      colAutosize.processResizeOperations();\n    }, 0);\n  }\n  areHeaderCellsRendered() {\n    return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(container => container.getAllCtrls().every(ctrl => ctrl.areCellsRendered()));\n  }\n  areCellsRendered() {\n    return this.beans.rowRenderer.getAllRowCtrls().every(row => row.isRowRendered() && row.getAllCellCtrls().every(cellCtrl => !!cellCtrl.eGui));\n  }\n};\n\n// packages/ag-grid-react/src/reactUi/agGridReactUi.tsx\nvar deprecatedProps = {\n  setGridApi: void 0,\n  maxComponentCreationTimeMs: void 0,\n  children: void 0\n};\nvar reactPropsNotGridOptions = {\n  gridOptions: void 0,\n  modules: void 0,\n  containerStyle: void 0,\n  className: void 0,\n  passGridApi: void 0,\n  componentWrappingElement: void 0,\n  ...deprecatedProps\n};\nvar excludeReactCompProps = new Set(Object.keys(reactPropsNotGridOptions));\nvar deprecatedReactCompProps = new Set(Object.keys(deprecatedProps));\nvar AgGridReactUi = props => {\n  const apiRef = useRef16();\n  const eGui = useRef16(null);\n  const portalManager = useRef16(null);\n  const destroyFuncs = useRef16([]);\n  const whenReadyFuncs = useRef16([]);\n  const prevProps = useRef16(props);\n  const frameworkOverridesRef = useRef16();\n  const gridIdRef = useRef16();\n  const ready = useRef16(false);\n  const [context, setContext] = useState16(void 0);\n  const [, setPortalRefresher] = useState16(0);\n  const setRef2 = useCallback15(eRef => {\n    eGui.current = eRef;\n    if (!eRef) {\n      destroyFuncs.current.forEach(f => f());\n      destroyFuncs.current.length = 0;\n      return;\n    }\n    const modules = props.modules || [];\n    if (!portalManager.current) {\n      portalManager.current = new PortalManager(() => setPortalRefresher(prev => prev + 1), props.componentWrappingElement, props.maxComponentCreationTimeMs);\n      destroyFuncs.current.push(() => {\n        portalManager.current?.destroy();\n        portalManager.current = null;\n      });\n    }\n    const mergedGridOps = _combineAttributesAndGridOptions(props.gridOptions, props, Object.keys(props).filter(key => !excludeReactCompProps.has(key)));\n    const processQueuedUpdates = () => {\n      if (ready.current) {\n        const getFn = () => frameworkOverridesRef.current?.shouldQueueUpdates() ? void 0 : whenReadyFuncs.current.shift();\n        let fn = getFn();\n        while (fn) {\n          fn();\n          fn = getFn();\n        }\n      }\n    };\n    const frameworkOverrides = new ReactFrameworkOverrides(processQueuedUpdates);\n    frameworkOverridesRef.current = frameworkOverrides;\n    const renderStatus = new RenderStatusService();\n    const gridParams = {\n      providedBeanInstances: {\n        frameworkCompWrapper: new ReactFrameworkComponentWrapper(portalManager.current, mergedGridOps),\n        renderStatus\n      },\n      modules,\n      frameworkOverrides,\n      setThemeOnGridDiv: true\n    };\n    const createUiCallback = ctx => {\n      setContext(ctx);\n      ctx.createBean(renderStatus);\n      destroyFuncs.current.push(() => {\n        ctx.destroy();\n      });\n      ctx.getBean(\"ctrlsSvc\").whenReady({\n        addDestroyFunc: func => {\n          destroyFuncs.current.push(func);\n        }\n      }, () => {\n        if (ctx.isDestroyed()) {\n          return;\n        }\n        const api = apiRef.current;\n        if (api) {\n          props.passGridApi?.(api);\n        }\n      });\n    };\n    const acceptChangesCallback = context2 => {\n      context2.getBean(\"ctrlsSvc\").whenReady({\n        addDestroyFunc: func => {\n          destroyFuncs.current.push(func);\n        }\n      }, () => {\n        whenReadyFuncs.current.forEach(f => f());\n        whenReadyFuncs.current.length = 0;\n        ready.current = true;\n      });\n    };\n    const gridCoreCreator = new GridCoreCreator();\n    mergedGridOps.gridId ?? (mergedGridOps.gridId = gridIdRef.current);\n    apiRef.current = gridCoreCreator.create(eRef, mergedGridOps, createUiCallback, acceptChangesCallback, gridParams);\n    destroyFuncs.current.push(() => {\n      apiRef.current = void 0;\n    });\n    if (apiRef.current) {\n      gridIdRef.current = apiRef.current.getGridId();\n    }\n  }, []);\n  const style = useMemo13(() => {\n    return {\n      height: \"100%\",\n      ...(props.containerStyle || {})\n    };\n  }, [props.containerStyle]);\n  const processWhenReady = useCallback15(func => {\n    if (ready.current && !frameworkOverridesRef.current?.shouldQueueUpdates()) {\n      func();\n    } else {\n      whenReadyFuncs.current.push(func);\n    }\n  }, []);\n  useEffect10(() => {\n    const changes = extractGridPropertyChanges(prevProps.current, props);\n    prevProps.current = props;\n    processWhenReady(() => {\n      if (apiRef.current) {\n        _processOnChange(changes, apiRef.current);\n      }\n    });\n  }, [props]);\n  const renderMode = !React19.useSyncExternalStore || _getGridOption(props, \"renderingMode\") === \"legacy\" ? \"legacy\" : \"default\";\n  return /* @__PURE__ */React19.createElement(\"div\", {\n    style,\n    className: props.className,\n    ref: setRef2\n  }, /* @__PURE__ */React19.createElement(RenderModeContext.Provider, {\n    value: renderMode\n  }, context && !context.isDestroyed() ? /* @__PURE__ */React19.createElement(gridComp_default, {\n    key: context.instanceId,\n    context\n  }) : null, portalManager.current?.getPortals() ?? null));\n};\nfunction extractGridPropertyChanges(prevProps, nextProps) {\n  const changes = {};\n  Object.keys(nextProps).forEach(propKey => {\n    if (excludeReactCompProps.has(propKey)) {\n      if (deprecatedReactCompProps.has(propKey)) {\n        _warn2(274, {\n          prop: propKey\n        });\n      }\n      return;\n    }\n    const propValue = nextProps[propKey];\n    if (prevProps[propKey] !== propValue) {\n      changes[propKey] = propValue;\n    }\n  });\n  return changes;\n}\nvar ReactFrameworkComponentWrapper = class extends BaseComponentWrapper {\n  constructor(parent, gridOptions) {\n    super();\n    this.parent = parent;\n    this.gridOptions = gridOptions;\n  }\n  createWrapper(UserReactComponent, componentType) {\n    const gridOptions = this.gridOptions;\n    const reactiveCustomComponents = _getGridOption(gridOptions, \"reactiveCustomComponents\");\n    if (reactiveCustomComponents) {\n      const getComponentClass = propertyName => {\n        switch (propertyName) {\n          case \"filter\":\n            return _getGridOption(gridOptions, \"enableFilterHandlers\") ? FilterDisplayComponentWrapper : FilterComponentWrapper;\n          case \"floatingFilterComponent\":\n            return _getGridOption(gridOptions, \"enableFilterHandlers\") ? FloatingFilterDisplayComponentWrapper : FloatingFilterComponentWrapper;\n          case \"dateComponent\":\n            return DateComponentWrapper;\n          case \"dragAndDropImageComponent\":\n            return DragAndDropImageComponentWrapper;\n          case \"loadingOverlayComponent\":\n            return LoadingOverlayComponentWrapper;\n          case \"noRowsOverlayComponent\":\n            return NoRowsOverlayComponentWrapper;\n          case \"statusPanel\":\n            return StatusPanelComponentWrapper;\n          case \"toolPanel\":\n            return ToolPanelComponentWrapper;\n          case \"menuItem\":\n            return MenuItemComponentWrapper;\n          case \"cellRenderer\":\n            return CellRendererComponentWrapper;\n          case \"innerHeaderComponent\":\n            return InnerHeaderComponentWrapper;\n        }\n      };\n      const ComponentClass = getComponentClass(componentType.name);\n      if (ComponentClass) {\n        return new ComponentClass(UserReactComponent, this.parent, componentType);\n      }\n    } else {\n      switch (componentType.name) {\n        case \"filter\":\n        case \"floatingFilterComponent\":\n        case \"dateComponent\":\n        case \"dragAndDropImageComponent\":\n        case \"loadingOverlayComponent\":\n        case \"noRowsOverlayComponent\":\n        case \"statusPanel\":\n        case \"toolPanel\":\n        case \"menuItem\":\n        case \"cellRenderer\":\n          warnReactiveCustomComponents();\n          break;\n      }\n    }\n    const suppressFallbackMethods = !componentType.cellRenderer && componentType.name !== \"toolPanel\";\n    return new ReactComponent(UserReactComponent, this.parent, componentType, suppressFallbackMethods);\n  }\n};\nvar DetailCellRenderer = forwardRef3((props, ref) => {\n  const beans = useContext15(BeansContext);\n  const {\n    registry,\n    context,\n    gos,\n    rowModel\n  } = beans;\n  const [cssClasses, setCssClasses] = useState16(() => new CssClasses());\n  const [gridCssClasses, setGridCssClasses] = useState16(() => new CssClasses());\n  const [detailGridOptions, setDetailGridOptions] = useState16();\n  const [detailRowData, setDetailRowData] = useState16();\n  const ctrlRef = useRef16();\n  const eGuiRef = useRef16(null);\n  const resizeObserverDestroyFunc = useRef16();\n  const parentModules = useMemo13(() => _getGridRegisteredModules(props.api.getGridId(), detailGridOptions?.rowModelType ?? \"clientSide\"), [props]);\n  const topClassName = useMemo13(() => cssClasses.toString() + \" ag-details-row\", [cssClasses]);\n  const gridClassName = useMemo13(() => gridCssClasses.toString() + \" ag-details-grid\", [gridCssClasses]);\n  if (ref) {\n    useImperativeHandle3(ref, () => ({\n      refresh() {\n        return ctrlRef.current?.refresh() ?? false;\n      }\n    }));\n  }\n  if (props.template) {\n    _warn2(230);\n  }\n  const setRef2 = useCallback15(eRef => {\n    eGuiRef.current = eRef;\n    if (!eRef || context.isDestroyed()) {\n      ctrlRef.current = context.destroyBean(ctrlRef.current);\n      resizeObserverDestroyFunc.current?.();\n      return;\n    }\n    const compProxy = {\n      toggleCss: (name, on) => setCssClasses(prev => prev.setClass(name, on)),\n      toggleDetailGridCss: (name, on) => setGridCssClasses(prev => prev.setClass(name, on)),\n      setDetailGrid: gridOptions => setDetailGridOptions(gridOptions),\n      setRowData: rowData => setDetailRowData(rowData),\n      getGui: () => eGuiRef.current\n    };\n    const ctrl = registry.createDynamicBean(\"detailCellRendererCtrl\", true);\n    if (!ctrl) {\n      return;\n    }\n    context.createBean(ctrl);\n    ctrl.init(compProxy, props);\n    ctrlRef.current = ctrl;\n    if (gos.get(\"detailRowAutoHeight\")) {\n      const checkRowSizeFunc = () => {\n        if (eGuiRef.current == null) {\n          return;\n        }\n        const clientHeight = eGuiRef.current.clientHeight;\n        if (clientHeight != null && clientHeight > 0) {\n          const updateRowHeightFunc = () => {\n            props.node.setRowHeight(clientHeight);\n            if (_isClientSideRowModel(gos, rowModel) || _isServerSideRowModel(gos, rowModel)) {\n              rowModel.onRowHeightChanged();\n            }\n          };\n          setTimeout(updateRowHeightFunc, 0);\n        }\n      };\n      resizeObserverDestroyFunc.current = _observeResize2(beans, eRef, checkRowSizeFunc);\n      checkRowSizeFunc();\n    }\n  }, []);\n  const registerGridApi = useCallback15(api => {\n    ctrlRef.current?.registerDetailWithMaster(api);\n  }, []);\n  return /* @__PURE__ */React19.createElement(\"div\", {\n    className: topClassName,\n    ref: setRef2\n  }, detailGridOptions && /* @__PURE__ */React19.createElement(AgGridReactUi, {\n    className: gridClassName,\n    ...detailGridOptions,\n    modules: parentModules,\n    rowData: detailRowData,\n    passGridApi: registerGridApi\n  }));\n});\nvar ReactFrameworkOverrides = class extends VanillaFrameworkOverrides {\n  constructor(processQueuedUpdates) {\n    super(\"react\");\n    this.processQueuedUpdates = processQueuedUpdates;\n    this.queueUpdates = false;\n    this.renderingEngine = \"react\";\n    this.frameworkComponents = {\n      agGroupCellRenderer: groupCellRenderer_default,\n      agGroupRowRenderer: groupCellRenderer_default,\n      agDetailCellRenderer: DetailCellRenderer\n    };\n    this.wrapIncoming = (callback, source) => {\n      if (source === \"ensureVisible\") {\n        return runWithoutFlushSync(callback);\n      }\n      return callback();\n    };\n  }\n  frameworkComponent(name) {\n    return this.frameworkComponents[name];\n  }\n  isFrameworkComponent(comp) {\n    if (!comp) {\n      return false;\n    }\n    const prototype = comp.prototype;\n    const isJsComp = prototype && \"getGui\" in prototype;\n    return !isJsComp;\n  }\n  getLockOnRefresh() {\n    this.queueUpdates = true;\n  }\n  releaseLockOnRefresh() {\n    this.queueUpdates = false;\n    this.processQueuedUpdates();\n  }\n  shouldQueueUpdates() {\n    return this.queueUpdates;\n  }\n  runWhenReadyAsync() {\n    return isReact19();\n  }\n};\n\n// packages/ag-grid-react/src/agGridReact.tsx\nvar AgGridReact = class extends Component {\n  constructor() {\n    super(...arguments);\n    this.apiListeners = [];\n    this.setGridApi = api => {\n      this.api = api;\n      this.apiListeners.forEach(listener => listener(api));\n    };\n  }\n  registerApiListener(listener) {\n    this.apiListeners.push(listener);\n  }\n  componentWillUnmount() {\n    this.apiListeners.length = 0;\n  }\n  render() {\n    return /* @__PURE__ */React20.createElement(AgGridReactUi, {\n      ...this.props,\n      passGridApi: this.setGridApi\n    });\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/interfaces.ts\nimport { useContext as useContext16 } from \"react\";\nfunction useGridCustomComponent(methods) {\n  const {\n    setMethods\n  } = useContext16(CustomContext);\n  setMethods(methods);\n}\nfunction useGridCellEditor(callbacks) {\n  useGridCustomComponent(callbacks);\n}\nfunction useGridDate(callbacks) {\n  return useGridCustomComponent(callbacks);\n}\nfunction useGridFilter(callbacks) {\n  return useGridCustomComponent(callbacks);\n}\nfunction useGridFilterDisplay(callbacks) {\n  return useGridCustomComponent(callbacks);\n}\nfunction useGridFloatingFilter(callbacks) {\n  useGridCustomComponent(callbacks);\n}\nfunction useGridMenuItem(callbacks) {\n  useGridCustomComponent(callbacks);\n}\nexport { AgGridReact, CustomContext as CustomComponentContext, getInstance, useGridCellEditor, useGridDate, useGridFilter, useGridFilterDisplay, useGridFloatingFilter, useGridMenuItem, warnReactiveCustomComponents };","map":{"version":3,"names":["React20","Component","React19","forwardRef","forwardRef3","useCallback","useCallback15","useContext","useContext15","useEffect","useEffect10","useImperativeHandle","useImperativeHandle3","useMemo","useMemo13","useRef","useRef16","useState","useState16","BaseComponentWrapper","GridCoreCreator","VanillaFrameworkOverrides","_combineAttributesAndGridOptions","_getGridOption","_getGridRegisteredModules","_isClientSideRowModel","_isServerSideRowModel","_observeResize","_observeResize2","_processOnChange","_warn","_warn2","React3","useLayoutEffect","_toString","React","BeansContext","createContext","RenderModeContext","showJsComp","compDetails","context","eParent","ref","doNothing","componentFromFramework","isDestroyed","promise","newAgStackInstance","comp","compGui","destroyed","then","c","destroyBean","getGui","appendChild","setRef","parentElement","removeChild","value","Function","refCallback","refObj","current","React2","ReactDOM","classesList","list","filtered","filter","s","join","CssClasses","_CssClasses","constructor","initialClasses","classesMap","forEach","className","setClass","on","nothingHasChanged","res","toString","Object","keys","key","isComponentStateless","Component2","hasSymbol","Symbol","for","getMemoType","prototype","isReactComponent","$$typeof","reactVersion","version","split","isReactVersion17Minus","isReact19","disableFlushSync","runWithoutFlushSync","func","setTimeout","agFlushSync","useFlushSync","fn","flushSync","agStartTransition","startTransition","agUseSyncExternalStore","subscribe","getSnapshot","defaultSnapshot","useSyncExternalStore","getNextValueIfDifferent","prev","next","maintainOrder","length","oldValues","newValues","prevMap","Map","nextMap","i","set","instanceId","has","push","GroupCellRenderer","props","registry","eGui","eValueRef","eCheckboxRef","eExpandedRef","eContractedRef","ctrlRef","innerCompDetails","setInnerCompDetails","childCount","setChildCount","setValue","cssClasses","setCssClasses","expandedCssClasses","setExpandedCssClasses","contractedCssClasses","setContractedCssClasses","checkboxCssClasses","setCheckboxCssClasses","refresh","setRef2","eRef","compProxy","setInnerRenderer","details","valueToDisplay","count","toggleCss","name","setContractedDisplayed","displayed","setExpandedDisplayed","setCheckboxVisible","visible","setCheckboxSpacing","add","groupCellRendererCtrl","createDynamicBean","createBean","init","expandedClassName","contractedClassName","checkboxClassName","useFwRenderer","FwRenderer","componentClass","useValue","escapedValue","createElement","colDef","role","getCellAriaRole","params","groupCellRenderer_default","AgPromise","AgPromise2","React4","memo","useState2","CustomContext","setMethods","CustomWrapperComp","initialProps","addUpdateCallback","CustomComponentClass","setProps","newProps","Provider","customWrapperComp_default","createPortal","counter","generateNewKey","ReactComponent","reactComponent","portalManager","componentType","suppressFallbackMethods","portal","oldPortal","statelessComponent","isStateless","portalKey","instanceCreated","isStatelessComponent","resolve","resolveInstanceCreated","eParentElement","getRootElement","firstChild","destroy","componentInstance","destroyPortal","createParentElement","componentWrappingElement","getComponentWrappingElement","document","classList","reactContainer","statelessComponentRendered","childElementCount","childNodes","getFrameworkComponentInstance","getReactComponentName","hasMethod","frameworkComponentInstance","fallbackMethodAvailable","callMethod","args","fallbackMethod","method","apply","addMethod","callback","createOrUpdatePortal","createReactComponent","element","reactElement","mountReactPortal","rendered","refreshComponent","updateReactPortal","bind","addOptionalMethods","optionalMethodNames","providedMethods","component","methodName","providedMethod","CustomComponentWrapper","arguments","awaitUpdateCallback","resolveUpdateCallback","wrapperComponent","sourceParams","getProps","getInstance","methods","updateCallback","getOptionalMethods","refreshProps","CellRendererComponentWrapper","DateComponentWrapper","date","onDateChange","updateDate","getDate","setDate","onDateChanged","DragAndDropImageComponentWrapper","label","icon","shake","setIcon","iconName","setLabel","AgPromise3","FilterComponentWrapper","model","onModelChange","updateModel","onUiChange","filterModifiedCallback","expectingNewMethods","hasBeenActive","awaitSetMethodsCallback","resolveSetMethodsCallback","isFilterActive","doesFilterPass","getModel","setModel","newParams","afterGuiAttached","filterChangedCallback","resolveFilterPassCallback","awaitFilterPassCallback","AgPromise4","FilterDisplayComponentWrapper","AgPromise5","updateFloatingFilterParent","parentFilterInstance","instance","filterParams","FloatingFilterComponentProxy","floatingFilterParams","onParentModelChanged","parentModel","FloatingFilterComponentWrapper","FloatingFilterDisplayComponentWrapper","InnerHeaderComponentWrapper","LoadingOverlayComponentWrapper","MenuItemComponentWrapper","active","expanded","onActiveChange","updateActive","setActive","awaitSetActive","setExpanded","result","onItemActivated","NoRowsOverlayComponentWrapper","StatusPanelComponentWrapper","ToolPanelComponentWrapper","onStateChange","state","updateState","getState","onStateUpdated","AgPromise6","warnReactiveCustomComponents","MAX_COMPONENT_CREATION_TIME_IN_MS","PortalManager","refresher","wrappingElement","maxComponentCreationTimeMs","portals","hasPendingPortalUpdate","getPortals","curPortal","batchUpdate","waitForInstance","newPortal","indexOf","startTime","Date","now","window","React18","memo14","useCallback14","useEffect9","useMemo12","useRef15","useState15","GridCtrl","React16","memo12","useCallback12","useContext13","useMemo11","useRef13","useState14","CssClassManager","CssClassManager4","FakeHScrollComp","FakeVScrollComp","GridBodyCtrl","_setAriaColCount","_setAriaRowCount","React10","memo7","useCallback7","useContext7","useMemo6","useRef7","useState8","GridHeaderCtrl","React9","memo6","useCallback6","useContext6","useRef6","useState7","HeaderRowContainerCtrl","React8","memo5","useCallback5","useContext5","useMemo5","useRef5","useState6","_EmptyBean","_EmptyBean4","React5","memo2","useCallback2","useContext2","useEffect2","useLayoutEffect2","useMemo2","useRef2","useState3","_removeAriaSort","_setAriaSort","HeaderCellComp","ctrl","isAlive","userCompDetails","setUserCompDetails","userStyles","setUserStyles","compBean","eResize","eHeaderCompWrapper","userCompRef","cssManager","refreshSelectAllGui","selectAllGui","getSelectAllGui","insertAdjacentElement","addDestroyFunc","remove","setWidth","width","style","styles","setAriaSort","sort","getUserCompInstance","removeSelectAllGui","setComp","setDragSource","userCompStateless","reactUserComp","UserCompClass","headerCellComp_default","React6","memo3","useCallback3","useContext3","useLayoutEffect3","useMemo3","useRef3","useState4","useEffect3","AgPromise7","_EmptyBean2","FloatingFilterDisplayComponentProxy","HeaderFilterCellComp","gos","cssBodyClasses","setBodyCssClasses","cssButtonWrapperClasses","setButtonWrapperCssClasses","buttonWrapperAriaHidden","setButtonWrapperAriaHidden","setRenderKey","eFloatingFilterBody","eButtonWrapper","eButtonShowMainFilter","userCompResolve","userCompPromise","addOrRemoveBodyCssClass","setButtonWrapperDisplayed","setCompDetails","getFloatingFilterComp","setMenuIcon","eIcon","bodyClassName","buttonWrapperClassName","reactiveCustomComponents","get","enableFilterHandlers","floatingFilterCompProxy","setFloatingFilterCompProxy","ProxyClass","floatingFilterProps","type","tabIndex","headerFilterCellComp_default","React7","memo4","useCallback4","useContext4","useEffect4","useLayoutEffect4","useMemo4","useRef4","useState5","_EmptyBean3","HeaderGroupCellComp","cssResizableClasses","setResizableCssClasses","resizableAriaHidden","setResizableAriaHidden","ariaExpanded","setAriaExpanded","setHeaderWrapperHidden","hidden","headerCompWrapper","setProperty","removeProperty","setHeaderWrapperMaxHeight","toggle","setResizableDisplayed","resizableClassName","headerGroupCellComp_default","HeaderRowComp","topOffset","rowHeight","getTopAndHeight","ariaRowIndex","setAriaRowIndex","getAriaRowIndex","headerRowClass","height","setHeight","top","setTop","cellCtrlsRef","cellCtrls","setCellCtrls","getUpdatedHeaderCtrls","height2","top2","setHeaderCtrls","ctrls","forceOrder","afterScroll","prevCellCtrls","nextCells","setRowIndex","rowIndex","createCellJsx","cellCtrl","map","headerRowComp_default","HeaderRowContainerComp","pinned","setDisplayed","headerRowCtrls","setHeaderRowCtrls","eCenterContainer","headerRowCtrlRef","pinnedLeft","pinnedRight","centre","setCtrls","setCenterWidth","setViewportScrollLeft","left","scrollLeft","setPinnedContainerWidth","minWidth","maxWidth","insertRowsJsx","headerRowContainerComp_default","GridHeaderComp","gridCtrlRef","setHeightAndMinHeight","minHeight","gridHeaderComp_default","useEffect5","useReactCommentEffect","comment","eForCommentRef","eForComment","eComment","createComment","insertBefore","reactComment_default","React15","memo11","useCallback11","useContext12","useMemo10","useRef12","useState13","RowContainerCtrl","_getRowContainerClass","_getRowContainerOptions","_getRowSpanContainerClass","_getRowViewportClass","React14","memo10","useCallback10","useContext11","useEffect8","useLayoutEffect7","useMemo9","useRef11","useState12","CssClassManager3","_EmptyBean6","React13","Suspense","memo9","useCallback9","useContext10","useLayoutEffect6","useMemo8","useRef10","useState11","CssClassManager2","_EmptyBean5","_removeFromParent","AgPromise8","CellEditorComponentProxy","cellEditorParams","onValueChange","updateValue","initialValue","getValue","React11","memo8","useContext8","useLayoutEffect5","useState10","createPortal2","_getActiveDomElement","useEffect6","useRef8","useState9","useEffectOnce","effect","effectFn","destroyFn","effectCalled","setVal","val","PopupEditorComp","popupEditorWrapper","setPopupEditorWrapper","beans","popupSvc","editSvc","editDetails","eParentCell","useModelPopup","hideEditorPopup","wrapper","createPopupEditorWrapper","ePopupGui","jsChildComp","eChildGui","column","rowNode","positionParams","eventSource","ePopup","position","popupPosition","keepWithinBounds","positionCallback","positionPopupByComponent","addPopupRes","addPopup","modal","eChild","closeOnEsc","closedCallback","onPopupEditorClosed","anchorToElement","ariaOwns","hideFunc","isCellFocused","contains","focus","preventScroll","wrappedContent","popupEditorComp_default","jsxEditorProxy","CellEditorClass","jsxEditor","newFormat","jsxEditValue","setCellEditorRef","jsEditorComp","reactInlineEditor","popup","reactPopupEditor","jsPopupEditor","useCallback8","useContext9","useEffect7","useJsCellRenderer","showDetails","showTools","eCellValue","cellValueVersion","jsCellRendererRef","destroyCellRenderer","showValue","jsCompDetails","waitingForToolsSetup","showComp","attemptRefresh","force","refreshResult","refreshWorked","parent","showJsRenderer_default","React12","useMemo7","useRef9","SkeletonCellRenderer","renderDetails","loadingComp","getDeferLoadingCellRenderer","CellRendererClass","Fragment","CellComp","printLayout","editingCell","colIdSanitised","setRenderDetails","isCellRenderer","getValueToDisplay","setEditDetails","renderKey","includeSelection","setIncludeSelection","includeRowDrag","setIncludeRowDrag","includeDndSource","setIncludeDndSource","setJsEditorComp","forceWrapper","isForceWrapper","cellAriaRole","eWrapper","cellRendererRef","cellEditorRef","eCellWrapper","cellWrapperDestroyFuncs","rowDragCompRef","setCellValueVersion","setCellValueRef","v","showCellWrapper","cellEditor","editingCancelledByUserComp","isCancelBeforeStart","stopEditing","focusCell","cellEditorAttached","enableEditorTooltipFeature","lastRenderDetails","oldDetails","newDetails","refreshVisibility","oldCompDetails","newCompDetails","doingJsEditor","isPopup","cellEditorPromise","parentEl","disableEditorTooltipFeature","setCellWrapperRef","callbacks","cb","rowDragComp","addComp","createSelectionCheckbox","createDndSource","createRowDragComp","spanReady","isCellSpanning","getFocusableElement","include","getCellEditor","getCellRenderer","getParentOfValue","setDetails","deferRender","group","onReady","compProxy2","recoverFocus","hasBrowserFocus","editDetails2","refreshEditStyles","editing","cellWrapperOrUndefined","setGuiRef","setWrapperRef","reactCellRendererStateless","valueOrCellComp","fallback","showCellOrEditor","showCellValue","id","showEditValue","renderCell","cellComp_default","RowComp","rowCtrl","containerType","enableUses","domOrderRef","getDomOrder","isFullWidth","isDisplayed","getRowIndexString","rowId","setRowId","rowBusinessKey","setRowBusinessKey","businessKey","rowStyles","cellCtrlsFlushSync","setCellCtrlsFlushSync","fullWidthCompDetails","setFullWidthCompDetails","getInitialRowTop","transform","setTransform","getInitialTransform","fullWidthCompRef","fullWidthParamsRef","autoHeightSetup","autoHeightSetupAttempt","setAutoHeightSetupAttempt","setupDetailRowAutoHeight","cellsChanged","sub","onStoreChange","cellCtrlsUses","cellCtrlsMerged","unsetComp","setDomOrder","domOrder","showFullWidth","getFullWidthCellRenderer","getFullWidthCellRendererParams","refreshFullWidth","getUpdatedParams","fullWidthParams","canRefreshFullWidthRef","prevFullWidthCompDetails","assign","showFullWidthFramework","showCells","reactFullWidthCellRendererStateless","showCellsJsx","isEditing","withOpenEditor","showFullWidthFrameworkJsx","FullWidthComp","rowComp_default","RowContainerComp","containerOptions","eViewport","eContainer","eSpanContainer","rowCtrlsRef","prevRowCtrlsRef","rowCtrlsOrdered","setRowCtrlsOrdered","isSpanning","getSpannedRowCtrls","spannedRowCtrlsRef","prevSpannedRowCtrlsRef","spannedRowCtrlsOrdered","setSpannedRowCtrlsOrdered","rowContainerCtrlRef","viewportClasses","containerClasses","spanClasses","shouldRenderViewport","topLevelRef","areElementsReady","viewportReady","containerReady","spanContainerReady","areElementsRemoved","updateRowCtrlsOrdered","updateSpannedRowCtrlsOrdered","setHorizontalScroll","offset","setViewportHeight","setRowCtrls","rowCtrls","useFlush","setSpannedRowCtrls","setContainerWidth","setOffsetTop","setContainerRef","e","setSpanContainerRef","setViewportRef","buildContainer","buildSpanContainer","rowContainerComp_default","GridBodyComp","overlays","rowAnimationClass","setRowAnimationClass","topHeight","setTopHeight","bottomHeight","setBottomHeight","stickyTopHeight","setStickyTopHeight","stickyTopTop","setStickyTopTop","stickyTopWidth","setStickyTopWidth","stickyBottomHeight","setStickyBottomHeight","stickyBottomBottom","setStickyBottomBottom","stickyBottomWidth","setStickyBottomWidth","topInvisible","setTopInvisible","bottomInvisible","setBottomInvisible","forceVerticalScrollClass","setForceVerticalScrollClass","topAndBottomOverflowY","setTopAndBottomOverflowY","cellSelectableCss","setCellSelectableCss","layoutClass","setLayoutClass","eRoot","eTop","eStickyTop","eStickyBottom","eBody","eBodyViewport","eBottom","beansToDestroy","destroyFuncs","destroyBeans","f","attachToDom","newComp","compClass","overlayComp","getOverlayWrapperCompClass","setRowAnimationCssOnBodyViewport","setColumnCount","setRowCount","setColumnMovingCss","cssClass","flag","updateLayoutClasses","setAlwaysVerticalScrollClass","setPinnedTopBottomOverflowY","setBodyViewportWidth","registerBodyViewportResizeListener","listener","unsubscribeFromResize","setGridRootRole","setAttribute","rootClasses","bodyViewportClasses","bodyClasses","topClasses","stickyTopClasses","stickyBottomClasses","bottomClasses","topStyle","overflowY","stickyTopStyle","stickyBottomStyle","bottom","bottomStyle","createRowContainer","container","createSection","section","children","gridBodyComp_default","React17","forwardRef2","memo13","useCallback13","useContext14","useImperativeHandle2","useRef14","TabGuardClassNames","TabGuardCtrl","TabGuardCompRef","forwardRef4","eFocusableElement","onTabKeyDown","gridCtrl","forceFocusOutWhenTabGuardsAreEmpty","isEmpty","topTabGuardRef","bottomTabGuardRef","tabGuardCtrlRef","setTabIndex","processedValue","parseInt","tabGuard","removeAttribute","forceFocusOutOfContainer","up","setupCtrl","topTabGuard","bottomTabGuard","eTopGuard","eBottomGuard","focusInnerElement","fromBottom","setTopRef","setBottomRef","createTabGuard","side","TAB_GUARD_TOP","TAB_GUARD_BOTTOM","TAB_GUARD","TabGuardComp","tabGuardComp_default","GridComp","rtlClass","setRtlClass","cursor","setCursor","userSelect","setUserSelect","initialised","setInitialised","tabGuardReady","setTabGuardReady","eRootWrapperRef","tabGuardRef","eGridBodyParent","setGridBodyParent","focusInnerElementRef","paginationCompRef","focusableContainersRef","destroyGridUi","getFocusableContainers","comps","gridBodyCompEl","querySelector","eRootWrapper","watermarkSelector","paginationSelector","sideBarSelector","statusBarSelector","gridHeaderDropZonesSelector","getOptionalSelectors","additionalEls","headerDropZonesComp","sideBarComp","addComponentToDom","paginationComp","el","rootWrapperClasses","rootWrapperBodyClasses","WebkitUserSelect","setTabGuardCompRef","isFocusable","getBeans","gridComp_default","BeanStub","RenderStatusService","postConstruct","colAutosize","queueResizeOperationsForTick","addManagedEventListeners","rowExpansionStateChanged","expandOrCollapseAll","cellValueChanged","rowNodeDataChanged","rowDataUpdated","shouldQueueResizeOperations","processResizeOperations","areHeaderCellsRendered","ctrlsSvc","getHeaderRowContainerCtrls","every","getAllCtrls","areCellsRendered","rowRenderer","getAllRowCtrls","row","isRowRendered","getAllCellCtrls","deprecatedProps","setGridApi","reactPropsNotGridOptions","gridOptions","modules","containerStyle","passGridApi","excludeReactCompProps","Set","deprecatedReactCompProps","AgGridReactUi","apiRef","whenReadyFuncs","prevProps","frameworkOverridesRef","gridIdRef","ready","setContext","setPortalRefresher","mergedGridOps","processQueuedUpdates","getFn","shouldQueueUpdates","shift","frameworkOverrides","ReactFrameworkOverrides","renderStatus","gridParams","providedBeanInstances","frameworkCompWrapper","ReactFrameworkComponentWrapper","setThemeOnGridDiv","createUiCallback","ctx","getBean","whenReady","api","acceptChangesCallback","context2","gridCoreCreator","gridId","create","getGridId","processWhenReady","changes","extractGridPropertyChanges","renderMode","nextProps","propKey","prop","propValue","createWrapper","UserReactComponent","getComponentClass","propertyName","ComponentClass","cellRenderer","DetailCellRenderer","rowModel","gridCssClasses","setGridCssClasses","detailGridOptions","setDetailGridOptions","detailRowData","setDetailRowData","eGuiRef","resizeObserverDestroyFunc","parentModules","rowModelType","topClassName","gridClassName","template","toggleDetailGridCss","setDetailGrid","setRowData","rowData","checkRowSizeFunc","clientHeight","updateRowHeightFunc","node","setRowHeight","onRowHeightChanged","registerGridApi","registerDetailWithMaster","queueUpdates","renderingEngine","frameworkComponents","agGroupCellRenderer","agGroupRowRenderer","agDetailCellRenderer","wrapIncoming","source","frameworkComponent","isFrameworkComponent","isJsComp","getLockOnRefresh","releaseLockOnRefresh","runWhenReadyAsync","AgGridReact","apiListeners","registerApiListener","componentWillUnmount","render","useContext16","useGridCustomComponent","useGridCellEditor","useGridDate","useGridFilter","useGridFilterDisplay","useGridFloatingFilter","useGridMenuItem","CustomComponentContext"],"sources":["/Users/enrico/Desktop/cobras_fixed/node_modules/ag-grid-react/dist/package/index.esm.mjs"],"sourcesContent":["// packages/ag-grid-react/src/agGridReact.tsx\nimport React20, { Component } from \"react\";\n\n// packages/ag-grid-react/src/reactUi/agGridReactUi.tsx\nimport React19, {\n  forwardRef as forwardRef3,\n  useCallback as useCallback15,\n  useContext as useContext15,\n  useEffect as useEffect10,\n  useImperativeHandle as useImperativeHandle3,\n  useMemo as useMemo13,\n  useRef as useRef16,\n  useState as useState16\n} from \"react\";\nimport {\n  BaseComponentWrapper,\n  GridCoreCreator,\n  VanillaFrameworkOverrides,\n  _combineAttributesAndGridOptions,\n  _getGridOption,\n  _getGridRegisteredModules,\n  _isClientSideRowModel,\n  _isServerSideRowModel,\n  _observeResize as _observeResize2,\n  _processOnChange,\n  _warn as _warn2\n} from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/cellRenderer/groupCellRenderer.tsx\nimport React3, {\n  forwardRef,\n  useCallback,\n  useContext,\n  useImperativeHandle,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState\n} from \"react\";\nimport { _toString } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/beansContext.tsx\nimport React from \"react\";\nvar BeansContext = React.createContext({});\nvar RenderModeContext = React.createContext(\"default\");\n\n// packages/ag-grid-react/src/reactUi/jsComp.tsx\nvar showJsComp = (compDetails, context, eParent, ref) => {\n  const doNothing = !compDetails || compDetails.componentFromFramework || context.isDestroyed();\n  if (doNothing) {\n    return;\n  }\n  const promise = compDetails.newAgStackInstance();\n  let comp;\n  let compGui;\n  let destroyed = false;\n  promise.then((c) => {\n    if (destroyed) {\n      context.destroyBean(c);\n      return;\n    }\n    comp = c;\n    compGui = comp.getGui();\n    eParent.appendChild(compGui);\n    setRef(ref, comp);\n  });\n  return () => {\n    destroyed = true;\n    if (!comp) {\n      return;\n    }\n    compGui?.parentElement?.removeChild(compGui);\n    context.destroyBean(comp);\n    if (ref) {\n      setRef(ref, void 0);\n    }\n  };\n};\nvar setRef = (ref, value) => {\n  if (!ref) {\n    return;\n  }\n  if (ref instanceof Function) {\n    const refCallback = ref;\n    refCallback(value);\n  } else {\n    const refObj = ref;\n    refObj.current = value;\n  }\n};\n\n// packages/ag-grid-react/src/reactUi/utils.tsx\nimport React2 from \"react\";\nimport ReactDOM from \"react-dom\";\nvar classesList = (...list) => {\n  const filtered = list.filter((s) => s != null && s !== \"\");\n  return filtered.join(\" \");\n};\nvar CssClasses = class _CssClasses {\n  constructor(...initialClasses) {\n    this.classesMap = {};\n    initialClasses.forEach((className) => {\n      this.classesMap[className] = true;\n    });\n  }\n  setClass(className, on) {\n    const nothingHasChanged = !!this.classesMap[className] == on;\n    if (nothingHasChanged) {\n      return this;\n    }\n    const res = new _CssClasses();\n    res.classesMap = { ...this.classesMap };\n    res.classesMap[className] = on;\n    return res;\n  }\n  toString() {\n    const res = Object.keys(this.classesMap).filter((key) => this.classesMap[key]).join(\" \");\n    return res;\n  }\n};\nvar isComponentStateless = (Component2) => {\n  const hasSymbol = () => typeof Symbol === \"function\" && Symbol.for;\n  const getMemoType = () => hasSymbol() ? Symbol.for(\"react.memo\") : 60115;\n  return typeof Component2 === \"function\" && !(Component2.prototype && Component2.prototype.isReactComponent) || typeof Component2 === \"object\" && Component2.$$typeof === getMemoType();\n};\nvar reactVersion = React2.version?.split(\".\")[0];\nvar isReactVersion17Minus = reactVersion === \"16\" || reactVersion === \"17\";\nfunction isReact19() {\n  return reactVersion === \"19\";\n}\nvar disableFlushSync = false;\nfunction runWithoutFlushSync(func) {\n  if (!disableFlushSync) {\n    setTimeout(() => disableFlushSync = false, 0);\n  }\n  disableFlushSync = true;\n  return func();\n}\nvar agFlushSync = (useFlushSync, fn) => {\n  if (!isReactVersion17Minus && useFlushSync && !disableFlushSync) {\n    ReactDOM.flushSync(fn);\n  } else {\n    fn();\n  }\n};\nvar agStartTransition = (fn) => {\n  if (!isReactVersion17Minus) {\n    React2.startTransition(fn);\n  } else {\n    fn();\n  }\n};\nfunction agUseSyncExternalStore(subscribe, getSnapshot, defaultSnapshot) {\n  if (React2.useSyncExternalStore) {\n    return React2.useSyncExternalStore(subscribe, getSnapshot);\n  } else {\n    return defaultSnapshot;\n  }\n}\nfunction getNextValueIfDifferent(prev, next, maintainOrder) {\n  if (next == null || prev == null) {\n    return next;\n  }\n  if (prev === next || next.length === 0 && prev.length === 0) {\n    return prev;\n  }\n  if (maintainOrder || prev.length === 0 && next.length > 0 || prev.length > 0 && next.length === 0) {\n    return next;\n  }\n  const oldValues = [];\n  const newValues = [];\n  const prevMap = /* @__PURE__ */ new Map();\n  const nextMap = /* @__PURE__ */ new Map();\n  for (let i = 0; i < next.length; i++) {\n    const c = next[i];\n    nextMap.set(c.instanceId, c);\n  }\n  for (let i = 0; i < prev.length; i++) {\n    const c = prev[i];\n    prevMap.set(c.instanceId, c);\n    if (nextMap.has(c.instanceId)) {\n      oldValues.push(c);\n    }\n  }\n  for (let i = 0; i < next.length; i++) {\n    const c = next[i];\n    const instanceId = c.instanceId;\n    if (!prevMap.has(instanceId)) {\n      newValues.push(c);\n    }\n  }\n  if (oldValues.length === prev.length && newValues.length === 0) {\n    return prev;\n  }\n  if (oldValues.length === 0 && newValues.length === next.length) {\n    return next;\n  }\n  if (oldValues.length === 0) {\n    return newValues;\n  }\n  if (newValues.length === 0) {\n    return oldValues;\n  }\n  return [...oldValues, ...newValues];\n}\n\n// packages/ag-grid-react/src/reactUi/cellRenderer/groupCellRenderer.tsx\nvar GroupCellRenderer = forwardRef((props, ref) => {\n  const { registry, context } = useContext(BeansContext);\n  const eGui = useRef(null);\n  const eValueRef = useRef(null);\n  const eCheckboxRef = useRef(null);\n  const eExpandedRef = useRef(null);\n  const eContractedRef = useRef(null);\n  const ctrlRef = useRef();\n  const [innerCompDetails, setInnerCompDetails] = useState();\n  const [childCount, setChildCount] = useState();\n  const [value, setValue] = useState();\n  const [cssClasses, setCssClasses] = useState(() => new CssClasses());\n  const [expandedCssClasses, setExpandedCssClasses] = useState(() => new CssClasses(\"ag-hidden\"));\n  const [contractedCssClasses, setContractedCssClasses] = useState(() => new CssClasses(\"ag-hidden\"));\n  const [checkboxCssClasses, setCheckboxCssClasses] = useState(() => new CssClasses(\"ag-invisible\"));\n  useImperativeHandle(ref, () => {\n    return {\n      // force new instance when grid tries to refresh\n      refresh() {\n        return false;\n      }\n    };\n  });\n  useLayoutEffect(() => {\n    return showJsComp(innerCompDetails, context, eValueRef.current);\n  }, [innerCompDetails]);\n  const setRef2 = useCallback((eRef) => {\n    eGui.current = eRef;\n    if (!eRef || context.isDestroyed()) {\n      ctrlRef.current = context.destroyBean(ctrlRef.current);\n      return;\n    }\n    const compProxy = {\n      setInnerRenderer: (details, valueToDisplay) => {\n        setInnerCompDetails(details);\n        setValue(valueToDisplay);\n      },\n      setChildCount: (count) => setChildCount(count),\n      toggleCss: (name, on) => setCssClasses((prev) => prev.setClass(name, on)),\n      setContractedDisplayed: (displayed) => setContractedCssClasses((prev) => prev.setClass(\"ag-hidden\", !displayed)),\n      setExpandedDisplayed: (displayed) => setExpandedCssClasses((prev) => prev.setClass(\"ag-hidden\", !displayed)),\n      setCheckboxVisible: (visible) => setCheckboxCssClasses((prev) => prev.setClass(\"ag-invisible\", !visible)),\n      setCheckboxSpacing: (add) => setCheckboxCssClasses((prev) => prev.setClass(\"ag-group-checkbox-spacing\", add))\n    };\n    const groupCellRendererCtrl = registry.createDynamicBean(\"groupCellRendererCtrl\", true);\n    if (groupCellRendererCtrl) {\n      ctrlRef.current = context.createBean(groupCellRendererCtrl);\n      ctrlRef.current.init(\n        compProxy,\n        eRef,\n        eCheckboxRef.current,\n        eExpandedRef.current,\n        eContractedRef.current,\n        GroupCellRenderer,\n        props\n      );\n    }\n  }, []);\n  const className = useMemo(() => `ag-cell-wrapper ${cssClasses.toString()}`, [cssClasses]);\n  const expandedClassName = useMemo(() => `ag-group-expanded ${expandedCssClasses.toString()}`, [expandedCssClasses]);\n  const contractedClassName = useMemo(\n    () => `ag-group-contracted ${contractedCssClasses.toString()}`,\n    [contractedCssClasses]\n  );\n  const checkboxClassName = useMemo(() => `ag-group-checkbox ${checkboxCssClasses.toString()}`, [checkboxCssClasses]);\n  const useFwRenderer = innerCompDetails?.componentFromFramework;\n  const FwRenderer = useFwRenderer ? innerCompDetails.componentClass : void 0;\n  const useValue = innerCompDetails == null && value != null;\n  const escapedValue = _toString(value);\n  return /* @__PURE__ */ React3.createElement(\n    \"span\",\n    {\n      className,\n      ref: setRef2,\n      ...!props.colDef ? { role: ctrlRef.current?.getCellAriaRole() } : {}\n    },\n    /* @__PURE__ */ React3.createElement(\"span\", { className: expandedClassName, ref: eExpandedRef }),\n    /* @__PURE__ */ React3.createElement(\"span\", { className: contractedClassName, ref: eContractedRef }),\n    /* @__PURE__ */ React3.createElement(\"span\", { className: checkboxClassName, ref: eCheckboxRef }),\n    /* @__PURE__ */ React3.createElement(\"span\", { className: \"ag-group-value\", ref: eValueRef }, useValue ? escapedValue : useFwRenderer ? /* @__PURE__ */ React3.createElement(FwRenderer, { ...innerCompDetails.params }) : null),\n    /* @__PURE__ */ React3.createElement(\"span\", { className: \"ag-group-child-count\" }, childCount)\n  );\n});\nvar groupCellRenderer_default = GroupCellRenderer;\n\n// packages/ag-grid-react/src/shared/customComp/customComponentWrapper.ts\nimport { AgPromise as AgPromise2 } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/customComp/customWrapperComp.tsx\nimport React4, { memo, useEffect, useState as useState2 } from \"react\";\n\n// packages/ag-grid-react/src/shared/customComp/customContext.ts\nimport { createContext } from \"react\";\nvar CustomContext = createContext({\n  setMethods: () => {\n  }\n});\n\n// packages/ag-grid-react/src/reactUi/customComp/customWrapperComp.tsx\nvar CustomWrapperComp = (params) => {\n  const { initialProps, addUpdateCallback, CustomComponentClass, setMethods } = params;\n  const [{ key, ...props }, setProps] = useState2(initialProps);\n  useEffect(() => {\n    addUpdateCallback((newProps) => setProps(newProps));\n  }, []);\n  return /* @__PURE__ */ React4.createElement(CustomContext.Provider, { value: { setMethods } }, /* @__PURE__ */ React4.createElement(CustomComponentClass, { key, ...props }));\n};\nvar customWrapperComp_default = memo(CustomWrapperComp);\n\n// packages/ag-grid-react/src/shared/reactComponent.ts\nimport { createElement } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { AgPromise } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/shared/keyGenerator.ts\nvar counter = 0;\nfunction generateNewKey() {\n  return `agPortalKey_${++counter}`;\n}\n\n// packages/ag-grid-react/src/shared/reactComponent.ts\nvar ReactComponent = class {\n  constructor(reactComponent, portalManager, componentType, suppressFallbackMethods) {\n    this.portal = null;\n    this.oldPortal = null;\n    this.reactComponent = reactComponent;\n    this.portalManager = portalManager;\n    this.componentType = componentType;\n    this.suppressFallbackMethods = !!suppressFallbackMethods;\n    this.statelessComponent = this.isStateless(this.reactComponent);\n    this.key = generateNewKey();\n    this.portalKey = generateNewKey();\n    this.instanceCreated = this.isStatelessComponent() ? AgPromise.resolve(false) : new AgPromise((resolve) => {\n      this.resolveInstanceCreated = resolve;\n    });\n  }\n  getGui() {\n    return this.eParentElement;\n  }\n  /** `getGui()` returns the parent element. This returns the actual root element. */\n  getRootElement() {\n    const firstChild = this.eParentElement.firstChild;\n    return firstChild;\n  }\n  destroy() {\n    if (this.componentInstance && typeof this.componentInstance.destroy == \"function\") {\n      this.componentInstance.destroy();\n    }\n    const portal = this.portal;\n    if (portal) {\n      this.portalManager.destroyPortal(portal);\n    }\n  }\n  createParentElement(params) {\n    const componentWrappingElement = this.portalManager.getComponentWrappingElement();\n    const eParentElement = document.createElement(componentWrappingElement || \"div\");\n    eParentElement.classList.add(\"ag-react-container\");\n    params.reactContainer = eParentElement;\n    return eParentElement;\n  }\n  statelessComponentRendered() {\n    return this.eParentElement.childElementCount > 0 || this.eParentElement.childNodes.length > 0;\n  }\n  getFrameworkComponentInstance() {\n    return this.componentInstance;\n  }\n  isStatelessComponent() {\n    return this.statelessComponent;\n  }\n  getReactComponentName() {\n    return this.reactComponent.name;\n  }\n  getMemoType() {\n    return this.hasSymbol() ? Symbol.for(\"react.memo\") : 60115;\n  }\n  hasSymbol() {\n    return typeof Symbol === \"function\" && Symbol.for;\n  }\n  isStateless(Component2) {\n    return typeof Component2 === \"function\" && !(Component2.prototype && Component2.prototype.isReactComponent) || typeof Component2 === \"object\" && Component2.$$typeof === this.getMemoType();\n  }\n  hasMethod(name) {\n    const frameworkComponentInstance = this.getFrameworkComponentInstance();\n    return !!frameworkComponentInstance && frameworkComponentInstance[name] != null || this.fallbackMethodAvailable(name);\n  }\n  callMethod(name, args) {\n    const frameworkComponentInstance = this.getFrameworkComponentInstance();\n    if (this.isStatelessComponent()) {\n      return this.fallbackMethod(name, !!args && args[0] ? args[0] : {});\n    } else if (!frameworkComponentInstance) {\n      setTimeout(() => this.callMethod(name, args));\n      return;\n    }\n    const method = frameworkComponentInstance[name];\n    if (method) {\n      return method.apply(frameworkComponentInstance, args);\n    }\n    if (this.fallbackMethodAvailable(name)) {\n      return this.fallbackMethod(name, !!args && args[0] ? args[0] : {});\n    }\n  }\n  addMethod(name, callback) {\n    this[name] = callback;\n  }\n  init(params) {\n    this.eParentElement = this.createParentElement(params);\n    this.createOrUpdatePortal(params);\n    return new AgPromise((resolve) => this.createReactComponent(resolve));\n  }\n  createOrUpdatePortal(params) {\n    if (!this.isStatelessComponent()) {\n      this.ref = (element) => {\n        this.componentInstance = element;\n        this.resolveInstanceCreated?.(true);\n        this.resolveInstanceCreated = void 0;\n      };\n      params.ref = this.ref;\n    }\n    this.reactElement = this.createElement(this.reactComponent, { ...params, key: this.key });\n    this.portal = createPortal(\n      this.reactElement,\n      this.eParentElement,\n      this.portalKey\n      // fixed deltaRowModeRefreshCompRenderer\n    );\n  }\n  createElement(reactComponent, props) {\n    return createElement(reactComponent, props);\n  }\n  createReactComponent(resolve) {\n    this.portalManager.mountReactPortal(this.portal, this, resolve);\n  }\n  rendered() {\n    return this.isStatelessComponent() && this.statelessComponentRendered() || !!(!this.isStatelessComponent() && this.getFrameworkComponentInstance());\n  }\n  /*\n   * fallback methods - these will be invoked if a corresponding instance method is not present\n   * for example if refresh is called and is not available on the component instance, then refreshComponent on this\n   * class will be invoked instead\n   *\n   * Currently only refresh is supported\n   */\n  refreshComponent(args) {\n    this.oldPortal = this.portal;\n    this.createOrUpdatePortal(args);\n    this.portalManager.updateReactPortal(this.oldPortal, this.portal);\n  }\n  fallbackMethod(name, params) {\n    const method = this[`${name}Component`];\n    if (!this.suppressFallbackMethods && !!method) {\n      return method.bind(this)(params);\n    }\n  }\n  fallbackMethodAvailable(name) {\n    if (this.suppressFallbackMethods) {\n      return false;\n    }\n    const method = this[`${name}Component`];\n    return !!method;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/customComponentWrapper.ts\nfunction addOptionalMethods(optionalMethodNames, providedMethods, component) {\n  optionalMethodNames.forEach((methodName) => {\n    const providedMethod = providedMethods[methodName];\n    if (providedMethod) {\n      component[methodName] = providedMethod;\n    }\n  });\n}\nvar CustomComponentWrapper = class extends ReactComponent {\n  constructor() {\n    super(...arguments);\n    this.awaitUpdateCallback = new AgPromise2((resolve) => {\n      this.resolveUpdateCallback = resolve;\n    });\n    this.wrapperComponent = customWrapperComp_default;\n  }\n  init(params) {\n    this.sourceParams = params;\n    return super.init(this.getProps());\n  }\n  addMethod() {\n  }\n  getInstance() {\n    return this.instanceCreated.then(() => this.componentInstance);\n  }\n  getFrameworkComponentInstance() {\n    return this;\n  }\n  createElement(reactComponent, props) {\n    return super.createElement(this.wrapperComponent, {\n      initialProps: props,\n      CustomComponentClass: reactComponent,\n      setMethods: (methods) => this.setMethods(methods),\n      addUpdateCallback: (callback) => {\n        this.updateCallback = () => {\n          callback(this.getProps());\n          return new AgPromise2((resolve) => {\n            setTimeout(() => {\n              resolve();\n            });\n          });\n        };\n        this.resolveUpdateCallback();\n      }\n    });\n  }\n  setMethods(methods) {\n    this.providedMethods = methods;\n    addOptionalMethods(this.getOptionalMethods(), this.providedMethods, this);\n  }\n  getOptionalMethods() {\n    return [];\n  }\n  getProps() {\n    return {\n      ...this.sourceParams,\n      key: this.key,\n      ref: this.ref\n    };\n  }\n  refreshProps() {\n    if (this.updateCallback) {\n      return this.updateCallback();\n    }\n    return new AgPromise2(\n      (resolve) => this.awaitUpdateCallback.then(() => {\n        this.updateCallback().then(() => resolve());\n      })\n    );\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/cellRendererComponentWrapper.ts\nvar CellRendererComponentWrapper = class extends CustomComponentWrapper {\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n    return true;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/dateComponentWrapper.ts\nvar DateComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.date = null;\n    this.onDateChange = (date) => this.updateDate(date);\n  }\n  getDate() {\n    return this.date;\n  }\n  setDate(date) {\n    this.date = date;\n    this.refreshProps();\n  }\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n  }\n  getOptionalMethods() {\n    return [\"afterGuiAttached\", \"setInputPlaceholder\", \"setInputAriaLabel\", \"setDisabled\"];\n  }\n  updateDate(date) {\n    this.setDate(date);\n    this.sourceParams.onDateChanged();\n  }\n  getProps() {\n    const props = super.getProps();\n    props.date = this.date;\n    props.onDateChange = this.onDateChange;\n    delete props.onDateChanged;\n    return props;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/dragAndDropImageComponentWrapper.ts\nvar DragAndDropImageComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.label = \"\";\n    this.icon = null;\n    this.shake = false;\n  }\n  setIcon(iconName, shake) {\n    this.icon = iconName;\n    this.shake = shake;\n    this.refreshProps();\n  }\n  setLabel(label) {\n    this.label = label;\n    this.refreshProps();\n  }\n  getProps() {\n    const props = super.getProps();\n    const { label, icon, shake } = this;\n    props.label = label;\n    props.icon = icon;\n    props.shake = shake;\n    return props;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/filterComponentWrapper.ts\nimport { AgPromise as AgPromise3 } from \"ag-grid-community\";\nvar FilterComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.model = null;\n    this.onModelChange = (model) => this.updateModel(model);\n    this.onUiChange = () => this.sourceParams.filterModifiedCallback();\n    this.expectingNewMethods = true;\n    this.hasBeenActive = false;\n    this.awaitSetMethodsCallback = new AgPromise3((resolve) => {\n      this.resolveSetMethodsCallback = resolve;\n    });\n  }\n  isFilterActive() {\n    return this.model != null;\n  }\n  doesFilterPass(params) {\n    return this.providedMethods.doesFilterPass(params);\n  }\n  getModel() {\n    return this.model;\n  }\n  setModel(model) {\n    this.expectingNewMethods = true;\n    this.model = model;\n    this.hasBeenActive || (this.hasBeenActive = this.isFilterActive());\n    return this.refreshProps();\n  }\n  refresh(newParams) {\n    this.sourceParams = newParams;\n    this.refreshProps();\n    return true;\n  }\n  afterGuiAttached(params) {\n    const providedMethods = this.providedMethods;\n    if (!providedMethods) {\n      this.awaitSetMethodsCallback.then(() => this.providedMethods?.afterGuiAttached?.(params));\n    } else {\n      providedMethods.afterGuiAttached?.(params);\n    }\n  }\n  getOptionalMethods() {\n    return [\"afterGuiDetached\", \"onNewRowsLoaded\", \"getModelAsString\", \"onAnyFilterChanged\"];\n  }\n  setMethods(methods) {\n    if (this.expectingNewMethods === false && this.hasBeenActive && this.providedMethods?.doesFilterPass !== methods?.doesFilterPass) {\n      setTimeout(() => {\n        this.sourceParams.filterChangedCallback();\n      });\n    }\n    this.expectingNewMethods = false;\n    super.setMethods(methods);\n    this.resolveSetMethodsCallback();\n    this.resolveFilterPassCallback?.();\n    this.resolveFilterPassCallback = void 0;\n  }\n  updateModel(model) {\n    this.resolveFilterPassCallback?.();\n    const awaitFilterPassCallback = new AgPromise3((resolve) => {\n      this.resolveFilterPassCallback = resolve;\n    });\n    this.setModel(model).then(() => {\n      awaitFilterPassCallback.then(() => {\n        this.sourceParams.filterChangedCallback();\n      });\n    });\n  }\n  getProps() {\n    const props = super.getProps();\n    props.model = this.model;\n    props.onModelChange = this.onModelChange;\n    props.onUiChange = this.onUiChange;\n    delete props.filterChangedCallback;\n    return props;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/filterDisplayComponentWrapper.ts\nimport { AgPromise as AgPromise4 } from \"ag-grid-community\";\nvar FilterDisplayComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.awaitSetMethodsCallback = new AgPromise4((resolve) => {\n      this.resolveSetMethodsCallback = resolve;\n    });\n  }\n  refresh(newParams) {\n    this.sourceParams = newParams;\n    this.refreshProps();\n    return true;\n  }\n  afterGuiAttached(params) {\n    const providedMethods = this.providedMethods;\n    if (!providedMethods) {\n      this.awaitSetMethodsCallback.then(() => this.providedMethods?.afterGuiAttached?.(params));\n    } else {\n      providedMethods.afterGuiAttached?.(params);\n    }\n  }\n  getOptionalMethods() {\n    return [\"afterGuiDetached\", \"onNewRowsLoaded\", \"onAnyFilterChanged\"];\n  }\n  setMethods(methods) {\n    super.setMethods(methods);\n    this.resolveSetMethodsCallback();\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/floatingFilterComponentProxy.ts\nimport { AgPromise as AgPromise5 } from \"ag-grid-community\";\nfunction updateFloatingFilterParent(params, model) {\n  params.parentFilterInstance((instance) => {\n    (instance.setModel(model) || AgPromise5.resolve()).then(() => {\n      params.filterParams.filterChangedCallback();\n    });\n  });\n}\nvar FloatingFilterComponentProxy = class {\n  constructor(floatingFilterParams, refreshProps) {\n    this.floatingFilterParams = floatingFilterParams;\n    this.refreshProps = refreshProps;\n    this.model = null;\n    this.onModelChange = (model) => this.updateModel(model);\n  }\n  getProps() {\n    return {\n      ...this.floatingFilterParams,\n      model: this.model,\n      onModelChange: this.onModelChange\n    };\n  }\n  onParentModelChanged(parentModel) {\n    this.model = parentModel;\n    this.refreshProps();\n  }\n  refresh(params) {\n    this.floatingFilterParams = params;\n    this.refreshProps();\n  }\n  setMethods(methods) {\n    addOptionalMethods(this.getOptionalMethods(), methods, this);\n  }\n  getOptionalMethods() {\n    return [\"afterGuiAttached\"];\n  }\n  updateModel(model) {\n    this.model = model;\n    this.refreshProps();\n    updateFloatingFilterParent(this.floatingFilterParams, model);\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/floatingFilterComponentWrapper.ts\nvar FloatingFilterComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.model = null;\n    this.onModelChange = (model) => this.updateModel(model);\n  }\n  onParentModelChanged(parentModel) {\n    this.model = parentModel;\n    this.refreshProps();\n  }\n  refresh(newParams) {\n    this.sourceParams = newParams;\n    this.refreshProps();\n  }\n  getOptionalMethods() {\n    return [\"afterGuiAttached\"];\n  }\n  updateModel(model) {\n    this.model = model;\n    this.refreshProps();\n    updateFloatingFilterParent(this.sourceParams, model);\n  }\n  getProps() {\n    const props = super.getProps();\n    props.model = this.model;\n    props.onModelChange = this.onModelChange;\n    return props;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/floatingFilterDisplayComponentWrapper.ts\nvar FloatingFilterDisplayComponentWrapper = class extends CustomComponentWrapper {\n  refresh(newParams) {\n    this.sourceParams = newParams;\n    this.refreshProps();\n  }\n  getOptionalMethods() {\n    return [\"afterGuiAttached\"];\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/innerHeaderComponentWrapper.ts\nvar InnerHeaderComponentWrapper = class extends CustomComponentWrapper {\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n    return true;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/loadingOverlayComponentWrapper.ts\nvar LoadingOverlayComponentWrapper = class extends CustomComponentWrapper {\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/menuItemComponentWrapper.ts\nvar MenuItemComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.active = false;\n    this.expanded = false;\n    this.onActiveChange = (active) => this.updateActive(active);\n  }\n  setActive(active) {\n    this.awaitSetActive(active);\n  }\n  setExpanded(expanded) {\n    this.expanded = expanded;\n    this.refreshProps();\n  }\n  getOptionalMethods() {\n    return [\"select\", \"configureDefaults\"];\n  }\n  awaitSetActive(active) {\n    this.active = active;\n    return this.refreshProps();\n  }\n  updateActive(active) {\n    const result = this.awaitSetActive(active);\n    if (active) {\n      result.then(() => this.sourceParams.onItemActivated());\n    }\n  }\n  getProps() {\n    const props = super.getProps();\n    props.active = this.active;\n    props.expanded = this.expanded;\n    props.onActiveChange = this.onActiveChange;\n    delete props.onItemActivated;\n    return props;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/noRowsOverlayComponentWrapper.ts\nvar NoRowsOverlayComponentWrapper = class extends CustomComponentWrapper {\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/statusPanelComponentWrapper.ts\nvar StatusPanelComponentWrapper = class extends CustomComponentWrapper {\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n    return true;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/toolPanelComponentWrapper.ts\nvar ToolPanelComponentWrapper = class extends CustomComponentWrapper {\n  constructor() {\n    super(...arguments);\n    this.onStateChange = (state) => this.updateState(state);\n  }\n  refresh(params) {\n    this.sourceParams = params;\n    this.refreshProps();\n    return true;\n  }\n  getState() {\n    return this.state;\n  }\n  updateState(state) {\n    this.state = state;\n    this.refreshProps();\n    this.sourceParams.onStateUpdated();\n  }\n  getProps() {\n    const props = super.getProps();\n    props.state = this.state;\n    props.onStateChange = this.onStateChange;\n    return props;\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/util.ts\nimport { AgPromise as AgPromise6, _warn } from \"ag-grid-community\";\nfunction getInstance(wrapperComponent, callback) {\n  const promise = wrapperComponent?.getInstance?.() ?? AgPromise6.resolve(void 0);\n  promise.then((comp) => callback(comp));\n}\nfunction warnReactiveCustomComponents() {\n  _warn(231);\n}\n\n// packages/ag-grid-react/src/shared/portalManager.ts\nvar MAX_COMPONENT_CREATION_TIME_IN_MS = 1e3;\nvar PortalManager = class {\n  constructor(refresher, wrappingElement, maxComponentCreationTimeMs) {\n    this.destroyed = false;\n    this.portals = [];\n    this.hasPendingPortalUpdate = false;\n    this.wrappingElement = wrappingElement ? wrappingElement : \"div\";\n    this.refresher = refresher;\n    this.maxComponentCreationTimeMs = maxComponentCreationTimeMs ? maxComponentCreationTimeMs : MAX_COMPONENT_CREATION_TIME_IN_MS;\n  }\n  getPortals() {\n    return this.portals;\n  }\n  destroy() {\n    this.destroyed = true;\n  }\n  destroyPortal(portal) {\n    this.portals = this.portals.filter((curPortal) => curPortal !== portal);\n    this.batchUpdate();\n  }\n  getComponentWrappingElement() {\n    return this.wrappingElement;\n  }\n  mountReactPortal(portal, reactComponent, resolve) {\n    this.portals = [...this.portals, portal];\n    this.waitForInstance(reactComponent, resolve);\n    this.batchUpdate();\n  }\n  updateReactPortal(oldPortal, newPortal) {\n    this.portals[this.portals.indexOf(oldPortal)] = newPortal;\n    this.batchUpdate();\n  }\n  batchUpdate() {\n    if (this.hasPendingPortalUpdate) {\n      return;\n    }\n    setTimeout(() => {\n      if (!this.destroyed) {\n        this.refresher();\n        this.hasPendingPortalUpdate = false;\n      }\n    });\n    this.hasPendingPortalUpdate = true;\n  }\n  waitForInstance(reactComponent, resolve, startTime = Date.now()) {\n    if (this.destroyed) {\n      resolve(null);\n      return;\n    }\n    if (reactComponent.rendered()) {\n      resolve(reactComponent);\n    } else {\n      if (Date.now() - startTime >= this.maxComponentCreationTimeMs && !this.hasPendingPortalUpdate) {\n        agFlushSync(true, () => this.refresher());\n        if (reactComponent.rendered()) {\n          resolve(reactComponent);\n        }\n        return;\n      }\n      window.setTimeout(() => {\n        this.waitForInstance(reactComponent, resolve, startTime);\n      });\n    }\n  }\n};\n\n// packages/ag-grid-react/src/reactUi/gridComp.tsx\nimport React18, { memo as memo14, useCallback as useCallback14, useEffect as useEffect9, useMemo as useMemo12, useRef as useRef15, useState as useState15 } from \"react\";\nimport { GridCtrl } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/gridBodyComp.tsx\nimport React16, { memo as memo12, useCallback as useCallback12, useContext as useContext13, useMemo as useMemo11, useRef as useRef13, useState as useState14 } from \"react\";\nimport {\n  CssClassManager as CssClassManager4,\n  FakeHScrollComp,\n  FakeVScrollComp,\n  GridBodyCtrl,\n  _observeResize,\n  _setAriaColCount,\n  _setAriaRowCount\n} from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/header/gridHeaderComp.tsx\nimport React10, { memo as memo7, useCallback as useCallback7, useContext as useContext7, useMemo as useMemo6, useRef as useRef7, useState as useState8 } from \"react\";\nimport { GridHeaderCtrl } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/header/headerRowContainerComp.tsx\nimport React9, { memo as memo6, useCallback as useCallback6, useContext as useContext6, useRef as useRef6, useState as useState7 } from \"react\";\nimport { HeaderRowContainerCtrl } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/header/headerRowComp.tsx\nimport React8, { memo as memo5, useCallback as useCallback5, useContext as useContext5, useMemo as useMemo5, useRef as useRef5, useState as useState6 } from \"react\";\nimport { _EmptyBean as _EmptyBean4 } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/header/headerCellComp.tsx\nimport React5, { memo as memo2, useCallback as useCallback2, useContext as useContext2, useEffect as useEffect2, useLayoutEffect as useLayoutEffect2, useMemo as useMemo2, useRef as useRef2, useState as useState3 } from \"react\";\nimport { CssClassManager, _EmptyBean, _removeAriaSort, _setAriaSort } from \"ag-grid-community\";\nvar HeaderCellComp = ({ ctrl }) => {\n  const isAlive = ctrl.isAlive();\n  const { context } = useContext2(BeansContext);\n  const [userCompDetails, setUserCompDetails] = useState3();\n  const [userStyles, setUserStyles] = useState3();\n  const compBean = useRef2();\n  const eGui = useRef2(null);\n  const eResize = useRef2(null);\n  const eHeaderCompWrapper = useRef2(null);\n  const userCompRef = useRef2();\n  const cssManager = useRef2();\n  if (isAlive && !cssManager.current) {\n    cssManager.current = new CssClassManager(() => eGui.current);\n  }\n  const setRef2 = useCallback2((eRef) => {\n    eGui.current = eRef;\n    if (!eRef || !ctrl.isAlive() || context.isDestroyed()) {\n      compBean.current = context.destroyBean(compBean.current);\n      return;\n    }\n    compBean.current = context.createBean(new _EmptyBean());\n    const refreshSelectAllGui = () => {\n      const selectAllGui = ctrl.getSelectAllGui();\n      if (selectAllGui) {\n        eResize.current?.insertAdjacentElement(\"afterend\", selectAllGui);\n        compBean.current.addDestroyFunc(() => selectAllGui.remove());\n      }\n    };\n    const compProxy = {\n      setWidth: (width) => {\n        if (eGui.current) {\n          eGui.current.style.width = width;\n        }\n      },\n      toggleCss: (name, on) => cssManager.current.toggleCss(name, on),\n      setUserStyles: (styles) => setUserStyles(styles),\n      setAriaSort: (sort) => {\n        if (eGui.current) {\n          sort ? _setAriaSort(eGui.current, sort) : _removeAriaSort(eGui.current);\n        }\n      },\n      setUserCompDetails: (compDetails) => setUserCompDetails(compDetails),\n      getUserCompInstance: () => userCompRef.current || void 0,\n      refreshSelectAllGui,\n      removeSelectAllGui: () => ctrl.getSelectAllGui()?.remove()\n    };\n    ctrl.setComp(compProxy, eRef, eResize.current, eHeaderCompWrapper.current, compBean.current);\n    refreshSelectAllGui();\n  }, []);\n  useLayoutEffect2(\n    () => showJsComp(userCompDetails, context, eHeaderCompWrapper.current, userCompRef),\n    [userCompDetails]\n  );\n  useEffect2(() => {\n    ctrl.setDragSource(eGui.current);\n  }, [userCompDetails]);\n  const userCompStateless = useMemo2(() => {\n    const res = userCompDetails?.componentFromFramework && isComponentStateless(userCompDetails.componentClass);\n    return !!res;\n  }, [userCompDetails]);\n  const reactUserComp = userCompDetails?.componentFromFramework;\n  const UserCompClass = userCompDetails?.componentClass;\n  return /* @__PURE__ */ React5.createElement(\"div\", { ref: setRef2, style: userStyles, className: \"ag-header-cell\", role: \"columnheader\" }, /* @__PURE__ */ React5.createElement(\"div\", { ref: eResize, className: \"ag-header-cell-resize\", role: \"presentation\" }), /* @__PURE__ */ React5.createElement(\"div\", { ref: eHeaderCompWrapper, className: \"ag-header-cell-comp-wrapper\", role: \"presentation\" }, reactUserComp ? userCompStateless ? /* @__PURE__ */ React5.createElement(UserCompClass, { ...userCompDetails.params }) : /* @__PURE__ */ React5.createElement(UserCompClass, { ...userCompDetails.params, ref: userCompRef }) : null));\n};\nvar headerCellComp_default = memo2(HeaderCellComp);\n\n// packages/ag-grid-react/src/reactUi/header/headerFilterCellComp.tsx\nimport React6, { memo as memo3, useCallback as useCallback3, useContext as useContext3, useLayoutEffect as useLayoutEffect3, useMemo as useMemo3, useRef as useRef3, useState as useState4 } from \"react\";\nimport { useEffect as useEffect3 } from \"react\";\nimport { AgPromise as AgPromise7, _EmptyBean as _EmptyBean2 } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/shared/customComp/floatingFilterDisplayComponentProxy.ts\nvar FloatingFilterDisplayComponentProxy = class {\n  constructor(floatingFilterParams, refreshProps) {\n    this.floatingFilterParams = floatingFilterParams;\n    this.refreshProps = refreshProps;\n  }\n  getProps() {\n    return this.floatingFilterParams;\n  }\n  refresh(params) {\n    this.floatingFilterParams = params;\n    this.refreshProps();\n  }\n  setMethods(methods) {\n    addOptionalMethods(this.getOptionalMethods(), methods, this);\n  }\n  getOptionalMethods() {\n    return [\"afterGuiAttached\"];\n  }\n};\n\n// packages/ag-grid-react/src/reactUi/header/headerFilterCellComp.tsx\nvar HeaderFilterCellComp = ({ ctrl }) => {\n  const { context, gos } = useContext3(BeansContext);\n  const [userStyles, setUserStyles] = useState4();\n  const [cssClasses, setCssClasses] = useState4(\n    () => new CssClasses(\"ag-header-cell\", \"ag-floating-filter\")\n  );\n  const [cssBodyClasses, setBodyCssClasses] = useState4(() => new CssClasses());\n  const [cssButtonWrapperClasses, setButtonWrapperCssClasses] = useState4(\n    () => new CssClasses(\"ag-floating-filter-button\", \"ag-hidden\")\n  );\n  const [buttonWrapperAriaHidden, setButtonWrapperAriaHidden] = useState4(\"false\");\n  const [userCompDetails, setUserCompDetails] = useState4();\n  const [, setRenderKey] = useState4(1);\n  const compBean = useRef3();\n  const eGui = useRef3(null);\n  const eFloatingFilterBody = useRef3(null);\n  const eButtonWrapper = useRef3(null);\n  const eButtonShowMainFilter = useRef3(null);\n  const userCompResolve = useRef3();\n  const userCompPromise = useRef3();\n  const userCompRef = (value) => {\n    if (value == null) {\n      return;\n    }\n    userCompResolve.current && userCompResolve.current(value);\n  };\n  const setRef2 = useCallback3((eRef) => {\n    eGui.current = eRef;\n    if (!eRef || !ctrl.isAlive() || context.isDestroyed()) {\n      compBean.current = context.destroyBean(compBean.current);\n      return;\n    }\n    compBean.current = context.createBean(new _EmptyBean2());\n    userCompPromise.current = new AgPromise7((resolve) => {\n      userCompResolve.current = resolve;\n    });\n    const compProxy = {\n      toggleCss: (name, on) => setCssClasses((prev) => prev.setClass(name, on)),\n      setUserStyles: (styles) => setUserStyles(styles),\n      addOrRemoveBodyCssClass: (name, on) => setBodyCssClasses((prev) => prev.setClass(name, on)),\n      setButtonWrapperDisplayed: (displayed) => {\n        setButtonWrapperCssClasses((prev) => prev.setClass(\"ag-hidden\", !displayed));\n        setButtonWrapperAriaHidden(!displayed ? \"true\" : \"false\");\n      },\n      setWidth: (width) => {\n        if (eGui.current) {\n          eGui.current.style.width = width;\n        }\n      },\n      setCompDetails: (compDetails) => setUserCompDetails(compDetails),\n      getFloatingFilterComp: () => userCompPromise.current ? userCompPromise.current : null,\n      setMenuIcon: (eIcon) => eButtonShowMainFilter.current?.appendChild(eIcon)\n    };\n    ctrl.setComp(compProxy, eRef, eButtonShowMainFilter.current, eFloatingFilterBody.current, compBean.current);\n  }, []);\n  useLayoutEffect3(\n    () => showJsComp(userCompDetails, context, eFloatingFilterBody.current, userCompRef),\n    [userCompDetails]\n  );\n  const className = useMemo3(() => cssClasses.toString(), [cssClasses]);\n  const bodyClassName = useMemo3(() => cssBodyClasses.toString(), [cssBodyClasses]);\n  const buttonWrapperClassName = useMemo3(() => cssButtonWrapperClasses.toString(), [cssButtonWrapperClasses]);\n  const userCompStateless = useMemo3(() => {\n    const res = userCompDetails && userCompDetails.componentFromFramework && isComponentStateless(userCompDetails.componentClass);\n    return !!res;\n  }, [userCompDetails]);\n  const reactiveCustomComponents = useMemo3(() => gos.get(\"reactiveCustomComponents\"), []);\n  const enableFilterHandlers = useMemo3(() => gos.get(\"enableFilterHandlers\"), []);\n  const [floatingFilterCompProxy, setFloatingFilterCompProxy] = useState4();\n  useEffect3(() => {\n    if (userCompDetails?.componentFromFramework) {\n      if (reactiveCustomComponents) {\n        const ProxyClass = enableFilterHandlers ? FloatingFilterDisplayComponentProxy : FloatingFilterComponentProxy;\n        const compProxy = new ProxyClass(userCompDetails.params, () => setRenderKey((prev) => prev + 1));\n        userCompRef(compProxy);\n        setFloatingFilterCompProxy(compProxy);\n      } else {\n        warnReactiveCustomComponents();\n      }\n    }\n  }, [userCompDetails]);\n  const floatingFilterProps = floatingFilterCompProxy?.getProps();\n  const reactUserComp = userCompDetails?.componentFromFramework;\n  const UserCompClass = userCompDetails?.componentClass;\n  return /* @__PURE__ */ React6.createElement(\"div\", { ref: setRef2, style: userStyles, className, role: \"gridcell\" }, /* @__PURE__ */ React6.createElement(\"div\", { ref: eFloatingFilterBody, className: bodyClassName, role: \"presentation\" }, reactUserComp ? reactiveCustomComponents ? floatingFilterProps && /* @__PURE__ */ React6.createElement(\n    CustomContext.Provider,\n    {\n      value: {\n        setMethods: (methods) => floatingFilterCompProxy.setMethods(methods)\n      }\n    },\n    /* @__PURE__ */ React6.createElement(UserCompClass, { ...floatingFilterProps })\n  ) : /* @__PURE__ */ React6.createElement(UserCompClass, { ...userCompDetails.params, ref: userCompStateless ? () => {\n  } : userCompRef }) : null), /* @__PURE__ */ React6.createElement(\n    \"div\",\n    {\n      ref: eButtonWrapper,\n      \"aria-hidden\": buttonWrapperAriaHidden,\n      className: buttonWrapperClassName,\n      role: \"presentation\"\n    },\n    /* @__PURE__ */ React6.createElement(\n      \"button\",\n      {\n        ref: eButtonShowMainFilter,\n        type: \"button\",\n        className: \"ag-button ag-floating-filter-button-button\",\n        tabIndex: -1\n      }\n    )\n  ));\n};\nvar headerFilterCellComp_default = memo3(HeaderFilterCellComp);\n\n// packages/ag-grid-react/src/reactUi/header/headerGroupCellComp.tsx\nimport React7, { memo as memo4, useCallback as useCallback4, useContext as useContext4, useEffect as useEffect4, useLayoutEffect as useLayoutEffect4, useMemo as useMemo4, useRef as useRef4, useState as useState5 } from \"react\";\nimport { _EmptyBean as _EmptyBean3 } from \"ag-grid-community\";\nvar HeaderGroupCellComp = ({ ctrl }) => {\n  const { context } = useContext4(BeansContext);\n  const [userStyles, setUserStyles] = useState5();\n  const [cssClasses, setCssClasses] = useState5(() => new CssClasses());\n  const [cssResizableClasses, setResizableCssClasses] = useState5(() => new CssClasses());\n  const [resizableAriaHidden, setResizableAriaHidden] = useState5(\"false\");\n  const [ariaExpanded, setAriaExpanded] = useState5();\n  const [userCompDetails, setUserCompDetails] = useState5();\n  const compBean = useRef4();\n  const eGui = useRef4(null);\n  const eResize = useRef4(null);\n  const eHeaderCompWrapper = useRef4(null);\n  const userCompRef = useRef4();\n  const setRef2 = useCallback4((eRef) => {\n    eGui.current = eRef;\n    if (!eRef || !ctrl.isAlive() || context.isDestroyed()) {\n      compBean.current = context.destroyBean(compBean.current);\n      return;\n    }\n    compBean.current = context.createBean(new _EmptyBean3());\n    const compProxy = {\n      setWidth: (width) => {\n        if (eGui.current) {\n          eGui.current.style.width = width;\n        }\n      },\n      toggleCss: (name, on) => setCssClasses((prev) => prev.setClass(name, on)),\n      setUserStyles: (styles) => setUserStyles(styles),\n      setHeaderWrapperHidden: (hidden) => {\n        const headerCompWrapper = eHeaderCompWrapper.current;\n        if (!headerCompWrapper) {\n          return;\n        }\n        if (hidden) {\n          headerCompWrapper.style.setProperty(\"display\", \"none\");\n        } else {\n          headerCompWrapper.style.removeProperty(\"display\");\n        }\n      },\n      setHeaderWrapperMaxHeight: (value) => {\n        const headerCompWrapper = eHeaderCompWrapper.current;\n        if (!headerCompWrapper) {\n          return;\n        }\n        if (value != null) {\n          headerCompWrapper.style.setProperty(\"max-height\", `${value}px`);\n        } else {\n          headerCompWrapper.style.removeProperty(\"max-height\");\n        }\n        headerCompWrapper.classList.toggle(\"ag-header-cell-comp-wrapper-limited-height\", value != null);\n      },\n      setUserCompDetails: (compDetails) => setUserCompDetails(compDetails),\n      setResizableDisplayed: (displayed) => {\n        setResizableCssClasses((prev) => prev.setClass(\"ag-hidden\", !displayed));\n        setResizableAriaHidden(!displayed ? \"true\" : \"false\");\n      },\n      setAriaExpanded: (expanded) => setAriaExpanded(expanded),\n      getUserCompInstance: () => userCompRef.current || void 0\n    };\n    ctrl.setComp(compProxy, eRef, eResize.current, eHeaderCompWrapper.current, compBean.current);\n  }, []);\n  useLayoutEffect4(() => showJsComp(userCompDetails, context, eHeaderCompWrapper.current), [userCompDetails]);\n  useEffect4(() => {\n    if (eGui.current) {\n      ctrl.setDragSource(eGui.current);\n    }\n  }, [userCompDetails]);\n  const userCompStateless = useMemo4(() => {\n    const res = userCompDetails?.componentFromFramework && isComponentStateless(userCompDetails.componentClass);\n    return !!res;\n  }, [userCompDetails]);\n  const className = useMemo4(() => \"ag-header-group-cell \" + cssClasses.toString(), [cssClasses]);\n  const resizableClassName = useMemo4(\n    () => \"ag-header-cell-resize \" + cssResizableClasses.toString(),\n    [cssResizableClasses]\n  );\n  const reactUserComp = userCompDetails?.componentFromFramework;\n  const UserCompClass = userCompDetails?.componentClass;\n  return /* @__PURE__ */ React7.createElement(\"div\", { ref: setRef2, style: userStyles, className, role: \"columnheader\", \"aria-expanded\": ariaExpanded }, /* @__PURE__ */ React7.createElement(\"div\", { ref: eHeaderCompWrapper, className: \"ag-header-cell-comp-wrapper\", role: \"presentation\" }, reactUserComp ? userCompStateless ? /* @__PURE__ */ React7.createElement(UserCompClass, { ...userCompDetails.params }) : /* @__PURE__ */ React7.createElement(UserCompClass, { ...userCompDetails.params, ref: userCompRef }) : null), /* @__PURE__ */ React7.createElement(\"div\", { ref: eResize, \"aria-hidden\": resizableAriaHidden, className: resizableClassName }));\n};\nvar headerGroupCellComp_default = memo4(HeaderGroupCellComp);\n\n// packages/ag-grid-react/src/reactUi/header/headerRowComp.tsx\nvar HeaderRowComp = ({ ctrl }) => {\n  const { gos, context } = useContext5(BeansContext);\n  const { topOffset, rowHeight } = useMemo5(() => ctrl.getTopAndHeight(), []);\n  const tabIndex = useMemo5(() => gos.get(\"tabIndex\"), []);\n  const [ariaRowIndex, setAriaRowIndex] = useState6(() => ctrl.getAriaRowIndex());\n  const className = ctrl.headerRowClass;\n  const [height, setHeight] = useState6(() => rowHeight + \"px\");\n  const [top, setTop] = useState6(() => topOffset + \"px\");\n  const cellCtrlsRef = useRef5(null);\n  const [cellCtrls, setCellCtrls] = useState6(() => ctrl.getUpdatedHeaderCtrls());\n  const compBean = useRef5();\n  const eGui = useRef5(null);\n  const setRef2 = useCallback5((eRef) => {\n    eGui.current = eRef;\n    if (!eRef || !ctrl.isAlive() || context.isDestroyed()) {\n      compBean.current = context.destroyBean(compBean.current);\n      return;\n    }\n    compBean.current = context.createBean(new _EmptyBean4());\n    const compProxy = {\n      setHeight: (height2) => setHeight(height2),\n      setTop: (top2) => setTop(top2),\n      setHeaderCtrls: (ctrls, forceOrder, afterScroll) => {\n        const prevCellCtrls = cellCtrlsRef.current;\n        const nextCells = getNextValueIfDifferent(prevCellCtrls, ctrls, forceOrder);\n        if (nextCells !== prevCellCtrls) {\n          cellCtrlsRef.current = nextCells;\n          agFlushSync(afterScroll, () => setCellCtrls(nextCells));\n        }\n      },\n      setWidth: (width) => {\n        if (eGui.current) {\n          eGui.current.style.width = width;\n        }\n      },\n      setRowIndex: (rowIndex) => {\n        setAriaRowIndex(rowIndex);\n      }\n    };\n    ctrl.setComp(compProxy, compBean.current, false);\n  }, []);\n  const style = useMemo5(\n    () => ({\n      height,\n      top\n    }),\n    [height, top]\n  );\n  const createCellJsx = useCallback5((cellCtrl) => {\n    switch (ctrl.type) {\n      case \"group\":\n        return /* @__PURE__ */ React8.createElement(headerGroupCellComp_default, { ctrl: cellCtrl, key: cellCtrl.instanceId });\n      case \"filter\":\n        return /* @__PURE__ */ React8.createElement(headerFilterCellComp_default, { ctrl: cellCtrl, key: cellCtrl.instanceId });\n      default:\n        return /* @__PURE__ */ React8.createElement(headerCellComp_default, { ctrl: cellCtrl, key: cellCtrl.instanceId });\n    }\n  }, []);\n  return /* @__PURE__ */ React8.createElement(\n    \"div\",\n    {\n      ref: setRef2,\n      className,\n      role: \"row\",\n      style,\n      tabIndex,\n      \"aria-rowindex\": ariaRowIndex\n    },\n    cellCtrls.map(createCellJsx)\n  );\n};\nvar headerRowComp_default = memo5(HeaderRowComp);\n\n// packages/ag-grid-react/src/reactUi/header/headerRowContainerComp.tsx\nvar HeaderRowContainerComp = ({ pinned }) => {\n  const [displayed, setDisplayed] = useState7(true);\n  const [headerRowCtrls, setHeaderRowCtrls] = useState7([]);\n  const { context } = useContext6(BeansContext);\n  const eGui = useRef6(null);\n  const eCenterContainer = useRef6(null);\n  const headerRowCtrlRef = useRef6();\n  const pinnedLeft = pinned === \"left\";\n  const pinnedRight = pinned === \"right\";\n  const centre = !pinnedLeft && !pinnedRight;\n  const setRef2 = useCallback6((eRef) => {\n    eGui.current = eRef;\n    if (!eRef || context.isDestroyed()) {\n      headerRowCtrlRef.current = context.destroyBean(headerRowCtrlRef.current);\n      return;\n    }\n    headerRowCtrlRef.current = context.createBean(new HeaderRowContainerCtrl(pinned));\n    const compProxy = {\n      setDisplayed,\n      setCtrls: (ctrls) => setHeaderRowCtrls(ctrls),\n      // centre only\n      setCenterWidth: (width) => {\n        if (eCenterContainer.current) {\n          eCenterContainer.current.style.width = width;\n        }\n      },\n      setViewportScrollLeft: (left) => {\n        if (eGui.current) {\n          eGui.current.scrollLeft = left;\n        }\n      },\n      // pinned only\n      setPinnedContainerWidth: (width) => {\n        if (eGui.current) {\n          eGui.current.style.width = width;\n          eGui.current.style.minWidth = width;\n          eGui.current.style.maxWidth = width;\n        }\n      }\n    };\n    headerRowCtrlRef.current.setComp(compProxy, eGui.current);\n  }, []);\n  const className = !displayed ? \"ag-hidden\" : \"\";\n  const insertRowsJsx = () => headerRowCtrls.map((ctrl) => /* @__PURE__ */ React9.createElement(headerRowComp_default, { ctrl, key: ctrl.instanceId }));\n  return pinnedLeft ? /* @__PURE__ */ React9.createElement(\"div\", { ref: setRef2, className: \"ag-pinned-left-header \" + className, \"aria-hidden\": !displayed, role: \"rowgroup\" }, insertRowsJsx()) : pinnedRight ? /* @__PURE__ */ React9.createElement(\"div\", { ref: setRef2, className: \"ag-pinned-right-header \" + className, \"aria-hidden\": !displayed, role: \"rowgroup\" }, insertRowsJsx()) : centre ? /* @__PURE__ */ React9.createElement(\"div\", { ref: setRef2, className: \"ag-header-viewport \" + className, role: \"rowgroup\", tabIndex: -1 }, /* @__PURE__ */ React9.createElement(\"div\", { ref: eCenterContainer, className: \"ag-header-container\", role: \"presentation\" }, insertRowsJsx())) : null;\n};\nvar headerRowContainerComp_default = memo6(HeaderRowContainerComp);\n\n// packages/ag-grid-react/src/reactUi/header/gridHeaderComp.tsx\nvar GridHeaderComp = () => {\n  const [cssClasses, setCssClasses] = useState8(() => new CssClasses());\n  const [height, setHeight] = useState8();\n  const { context } = useContext7(BeansContext);\n  const eGui = useRef7(null);\n  const gridCtrlRef = useRef7();\n  const setRef2 = useCallback7((eRef) => {\n    eGui.current = eRef;\n    if (!eRef || context.isDestroyed()) {\n      gridCtrlRef.current = context.destroyBean(gridCtrlRef.current);\n      return;\n    }\n    gridCtrlRef.current = context.createBean(new GridHeaderCtrl());\n    const compProxy = {\n      toggleCss: (name, on) => setCssClasses((prev) => prev.setClass(name, on)),\n      setHeightAndMinHeight: (height2) => setHeight(height2)\n    };\n    gridCtrlRef.current.setComp(compProxy, eRef, eRef);\n  }, []);\n  const className = useMemo6(() => {\n    const res = cssClasses.toString();\n    return \"ag-header \" + res;\n  }, [cssClasses]);\n  const style = useMemo6(\n    () => ({\n      height,\n      minHeight: height\n    }),\n    [height]\n  );\n  return /* @__PURE__ */ React10.createElement(\"div\", { ref: setRef2, className, style, role: \"presentation\" }, /* @__PURE__ */ React10.createElement(headerRowContainerComp_default, { pinned: \"left\" }), /* @__PURE__ */ React10.createElement(headerRowContainerComp_default, { pinned: null }), /* @__PURE__ */ React10.createElement(headerRowContainerComp_default, { pinned: \"right\" }));\n};\nvar gridHeaderComp_default = memo7(GridHeaderComp);\n\n// packages/ag-grid-react/src/reactUi/reactComment.tsx\nimport { useEffect as useEffect5 } from \"react\";\nvar useReactCommentEffect = (comment, eForCommentRef) => {\n  useEffect5(() => {\n    const eForComment = eForCommentRef.current;\n    if (eForComment) {\n      const eParent = eForComment.parentElement;\n      if (eParent) {\n        const eComment = document.createComment(comment);\n        eParent.insertBefore(eComment, eForComment);\n        return () => {\n          eParent.removeChild(eComment);\n        };\n      }\n    }\n  }, [comment]);\n};\nvar reactComment_default = useReactCommentEffect;\n\n// packages/ag-grid-react/src/reactUi/rows/rowContainerComp.tsx\nimport React15, { memo as memo11, useCallback as useCallback11, useContext as useContext12, useMemo as useMemo10, useRef as useRef12, useState as useState13 } from \"react\";\nimport {\n  RowContainerCtrl,\n  _getRowContainerClass,\n  _getRowContainerOptions,\n  _getRowSpanContainerClass,\n  _getRowViewportClass\n} from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/rows/rowComp.tsx\nimport React14, { memo as memo10, useCallback as useCallback10, useContext as useContext11, useEffect as useEffect8, useLayoutEffect as useLayoutEffect7, useMemo as useMemo9, useRef as useRef11, useState as useState12 } from \"react\";\nimport { CssClassManager as CssClassManager3, _EmptyBean as _EmptyBean6 } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/cells/cellComp.tsx\nimport React13, { Suspense, memo as memo9, useCallback as useCallback9, useContext as useContext10, useLayoutEffect as useLayoutEffect6, useMemo as useMemo8, useRef as useRef10, useState as useState11 } from \"react\";\nimport { CssClassManager as CssClassManager2, _EmptyBean as _EmptyBean5, _removeFromParent } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/shared/customComp/cellEditorComponentProxy.ts\nimport { AgPromise as AgPromise8 } from \"ag-grid-community\";\nvar CellEditorComponentProxy = class {\n  constructor(cellEditorParams, refreshProps) {\n    this.cellEditorParams = cellEditorParams;\n    this.refreshProps = refreshProps;\n    this.instanceCreated = new AgPromise8((resolve) => {\n      this.resolveInstanceCreated = resolve;\n    });\n    this.onValueChange = (value) => this.updateValue(value);\n    this.value = cellEditorParams.value;\n  }\n  getProps() {\n    return {\n      ...this.cellEditorParams,\n      initialValue: this.cellEditorParams.value,\n      value: this.value,\n      onValueChange: this.onValueChange\n    };\n  }\n  getValue() {\n    return this.value;\n  }\n  refresh(params) {\n    this.cellEditorParams = params;\n    this.refreshProps();\n  }\n  setMethods(methods) {\n    addOptionalMethods(this.getOptionalMethods(), methods, this);\n  }\n  getInstance() {\n    return this.instanceCreated.then(() => this.componentInstance);\n  }\n  setRef(componentInstance) {\n    this.componentInstance = componentInstance;\n    this.resolveInstanceCreated?.();\n    this.resolveInstanceCreated = void 0;\n  }\n  getOptionalMethods() {\n    return [\n      \"isCancelBeforeStart\",\n      \"isCancelAfterEnd\",\n      \"focusIn\",\n      \"focusOut\",\n      \"afterGuiAttached\",\n      \"getValidationErrors\",\n      \"getValidationElement\"\n    ];\n  }\n  updateValue(value) {\n    this.value = value;\n    this.refreshProps();\n  }\n};\n\n// packages/ag-grid-react/src/reactUi/cells/cellEditorComp.tsx\nimport React11 from \"react\";\n\n// packages/ag-grid-react/src/reactUi/cells/popupEditorComp.tsx\nimport { memo as memo8, useContext as useContext8, useLayoutEffect as useLayoutEffect5, useState as useState10 } from \"react\";\nimport { createPortal as createPortal2 } from \"react-dom\";\nimport { _getActiveDomElement } from \"ag-grid-community\";\n\n// packages/ag-grid-react/src/reactUi/useEffectOnce.tsx\nimport { useEffect as useEffect6, useRef as useRef8, useState as useState9 } from \"react\";\nvar useEffectOnce = (effect) => {\n  const effectFn = useRef8(effect);\n  const destroyFn = useRef8();\n  const effectCalled = useRef8(false);\n  const rendered = useRef8(false);\n  const [, setVal] = useState9(0);\n  if (effectCalled.current) {\n    rendered.current = true;\n  }\n  useEffect6(() => {\n    if (!effectCalled.current) {\n      destroyFn.current = effectFn.current();\n      effectCalled.current = true;\n    }\n    setVal((val) => val + 1);\n    return () => {\n      if (!rendered.current) {\n        return;\n      }\n      destroyFn.current?.();\n    };\n  }, []);\n};\n\n// packages/ag-grid-react/src/reactUi/cells/popupEditorComp.tsx\nvar PopupEditorComp = (props) => {\n  const [popupEditorWrapper, setPopupEditorWrapper] = useState10();\n  const beans = useContext8(BeansContext);\n  const { context, popupSvc, gos, editSvc } = beans;\n  const { editDetails, cellCtrl, eParentCell } = props;\n  useEffectOnce(() => {\n    const { compDetails } = editDetails;\n    const useModelPopup = gos.get(\"stopEditingWhenCellsLoseFocus\");\n    let hideEditorPopup = void 0;\n    let wrapper;\n    if (!context.isDestroyed()) {\n      wrapper = context.createBean(editSvc.createPopupEditorWrapper(compDetails.params));\n      const ePopupGui = wrapper.getGui();\n      if (props.jsChildComp) {\n        const eChildGui = props.jsChildComp.getGui();\n        if (eChildGui) {\n          ePopupGui.appendChild(eChildGui);\n        }\n      }\n      const { column, rowNode } = cellCtrl;\n      const positionParams = {\n        column,\n        rowNode,\n        type: \"popupCellEditor\",\n        eventSource: eParentCell,\n        ePopup: ePopupGui,\n        position: editDetails.popupPosition,\n        keepWithinBounds: true\n      };\n      const positionCallback = popupSvc?.positionPopupByComponent.bind(popupSvc, positionParams);\n      const addPopupRes = popupSvc?.addPopup({\n        modal: useModelPopup,\n        eChild: ePopupGui,\n        closeOnEsc: true,\n        closedCallback: () => {\n          cellCtrl.onPopupEditorClosed();\n        },\n        anchorToElement: eParentCell,\n        positionCallback,\n        ariaOwns: eParentCell\n      });\n      hideEditorPopup = addPopupRes ? addPopupRes.hideFunc : void 0;\n      setPopupEditorWrapper(wrapper);\n      props.jsChildComp?.afterGuiAttached?.();\n    }\n    return () => {\n      hideEditorPopup?.();\n      context.destroyBean(wrapper);\n    };\n  });\n  useLayoutEffect5(() => {\n    return () => {\n      if (cellCtrl.isCellFocused() && popupEditorWrapper?.getGui().contains(_getActiveDomElement(beans))) {\n        eParentCell.focus({ preventScroll: true });\n      }\n    };\n  }, [popupEditorWrapper]);\n  return popupEditorWrapper && props.wrappedContent ? createPortal2(props.wrappedContent, popupEditorWrapper.getGui()) : null;\n};\nvar popupEditorComp_default = memo8(PopupEditorComp);\n\n// packages/ag-grid-react/src/reactUi/cells/cellEditorComp.tsx\nvar jsxEditorProxy = (editDetails, CellEditorClass, setRef2) => {\n  const { compProxy } = editDetails;\n  setRef2(compProxy);\n  const props = compProxy.getProps();\n  const isStateless = isComponentStateless(CellEditorClass);\n  return /* @__PURE__ */ React11.createElement(\n    CustomContext.Provider,\n    {\n      value: {\n        setMethods: (methods) => compProxy.setMethods(methods)\n      }\n    },\n    isStateless ? /* @__PURE__ */ React11.createElement(CellEditorClass, { ...props }) : /* @__PURE__ */ React11.createElement(CellEditorClass, { ...props, ref: (ref) => compProxy.setRef(ref) })\n  );\n};\nvar jsxEditor = (editDetails, CellEditorClass, setRef2) => {\n  const newFormat = editDetails.compProxy;\n  return newFormat ? jsxEditorProxy(editDetails, CellEditorClass, setRef2) : /* @__PURE__ */ React11.createElement(CellEditorClass, { ...editDetails.compDetails.params, ref: setRef2 });\n};\nvar jsxEditValue = (editDetails, setCellEditorRef, eGui, cellCtrl, jsEditorComp) => {\n  const compDetails = editDetails.compDetails;\n  const CellEditorClass = compDetails.componentClass;\n  const reactInlineEditor = compDetails.componentFromFramework && !editDetails.popup;\n  const reactPopupEditor = compDetails.componentFromFramework && editDetails.popup;\n  const jsPopupEditor = !compDetails.componentFromFramework && editDetails.popup;\n  return reactInlineEditor ? jsxEditor(editDetails, CellEditorClass, setCellEditorRef) : reactPopupEditor ? /* @__PURE__ */ React11.createElement(\n    popupEditorComp_default,\n    {\n      editDetails,\n      cellCtrl,\n      eParentCell: eGui,\n      wrappedContent: jsxEditor(editDetails, CellEditorClass, setCellEditorRef)\n    }\n  ) : jsPopupEditor && jsEditorComp ? /* @__PURE__ */ React11.createElement(popupEditorComp_default, { editDetails, cellCtrl, eParentCell: eGui, jsChildComp: jsEditorComp }) : null;\n};\n\n// packages/ag-grid-react/src/reactUi/cells/showJsRenderer.tsx\nimport { useCallback as useCallback8, useContext as useContext9, useEffect as useEffect7 } from \"react\";\nvar useJsCellRenderer = (showDetails, showTools, eCellValue, cellValueVersion, jsCellRendererRef, eGui) => {\n  const { context } = useContext9(BeansContext);\n  const destroyCellRenderer = useCallback8(() => {\n    const comp = jsCellRendererRef.current;\n    if (!comp) {\n      return;\n    }\n    const compGui = comp.getGui();\n    if (compGui && compGui.parentElement) {\n      compGui.parentElement.removeChild(compGui);\n    }\n    context.destroyBean(comp);\n    jsCellRendererRef.current = void 0;\n  }, []);\n  useEffect7(() => {\n    const showValue = showDetails != null;\n    const jsCompDetails = showDetails?.compDetails && !showDetails.compDetails.componentFromFramework;\n    const waitingForToolsSetup = showTools && eCellValue == null;\n    const showComp = showValue && jsCompDetails && !waitingForToolsSetup;\n    if (!showComp) {\n      destroyCellRenderer();\n      return;\n    }\n    const compDetails = showDetails.compDetails;\n    if (jsCellRendererRef.current) {\n      const comp = jsCellRendererRef.current;\n      const attemptRefresh = comp.refresh != null && showDetails.force == false;\n      const refreshResult = attemptRefresh ? comp.refresh(compDetails.params) : false;\n      const refreshWorked = refreshResult === true || refreshResult === void 0;\n      if (refreshWorked) {\n        return;\n      }\n      destroyCellRenderer();\n    }\n    const promise = compDetails.newAgStackInstance();\n    promise.then((comp) => {\n      if (!comp) {\n        return;\n      }\n      const compGui = comp.getGui();\n      if (!compGui) {\n        return;\n      }\n      const parent = showTools ? eCellValue : eGui.current;\n      parent.appendChild(compGui);\n      jsCellRendererRef.current = comp;\n    });\n  }, [showDetails, showTools, cellValueVersion]);\n  useEffect7(() => {\n    return destroyCellRenderer;\n  }, []);\n};\nvar showJsRenderer_default = useJsCellRenderer;\n\n// packages/ag-grid-react/src/reactUi/cells/skeletonCellComp.tsx\nimport React12, { useMemo as useMemo7, useRef as useRef9 } from \"react\";\nvar SkeletonCellRenderer = ({\n  cellCtrl,\n  parent\n}) => {\n  const jsCellRendererRef = useRef9();\n  const renderDetails = useMemo7(() => {\n    const { loadingComp } = cellCtrl.getDeferLoadingCellRenderer();\n    return loadingComp ? {\n      value: void 0,\n      compDetails: loadingComp,\n      force: false\n    } : void 0;\n  }, [cellCtrl]);\n  showJsRenderer_default(renderDetails, false, void 0, 1, jsCellRendererRef, parent);\n  if (renderDetails?.compDetails?.componentFromFramework) {\n    const CellRendererClass = renderDetails.compDetails.componentClass;\n    return /* @__PURE__ */ React12.createElement(CellRendererClass, { ...renderDetails.compDetails.params });\n  }\n  return /* @__PURE__ */ React12.createElement(React12.Fragment, null);\n};\n\n// packages/ag-grid-react/src/reactUi/cells/cellComp.tsx\nvar CellComp = ({\n  cellCtrl,\n  printLayout,\n  editingCell\n}) => {\n  const beans = useContext10(BeansContext);\n  const { context } = beans;\n  const {\n    column: { colIdSanitised },\n    instanceId\n  } = cellCtrl;\n  const compBean = useRef10();\n  const [renderDetails, setRenderDetails] = useState11(\n    () => cellCtrl.isCellRenderer() ? void 0 : { compDetails: void 0, value: cellCtrl.getValueToDisplay(), force: false }\n  );\n  const [editDetails, setEditDetails] = useState11();\n  const [renderKey, setRenderKey] = useState11(1);\n  const [userStyles, setUserStyles] = useState11();\n  const [includeSelection, setIncludeSelection] = useState11(false);\n  const [includeRowDrag, setIncludeRowDrag] = useState11(false);\n  const [includeDndSource, setIncludeDndSource] = useState11(false);\n  const [jsEditorComp, setJsEditorComp] = useState11();\n  const forceWrapper = useMemo8(() => cellCtrl.isForceWrapper(), [cellCtrl]);\n  const cellAriaRole = useMemo8(() => cellCtrl.getCellAriaRole(), [cellCtrl]);\n  const eGui = useRef10(null);\n  const eWrapper = useRef10(null);\n  const cellRendererRef = useRef10(null);\n  const jsCellRendererRef = useRef10();\n  const cellEditorRef = useRef10();\n  const eCellWrapper = useRef10();\n  const cellWrapperDestroyFuncs = useRef10([]);\n  const rowDragCompRef = useRef10();\n  const eCellValue = useRef10();\n  const [cellValueVersion, setCellValueVersion] = useState11(0);\n  const setCellValueRef = useCallback9((ref) => {\n    eCellValue.current = ref;\n    setCellValueVersion((v) => v + 1);\n  }, []);\n  const showTools = renderDetails != null && (includeSelection || includeDndSource || includeRowDrag) && (editDetails == null || !!editDetails.popup);\n  const showCellWrapper = forceWrapper || showTools;\n  const setCellEditorRef = useCallback9(\n    (cellEditor) => {\n      cellEditorRef.current = cellEditor;\n      if (cellEditor) {\n        const editingCancelledByUserComp = cellEditor.isCancelBeforeStart && cellEditor.isCancelBeforeStart();\n        setTimeout(() => {\n          if (editingCancelledByUserComp) {\n            cellCtrl.stopEditing(true);\n            cellCtrl.focusCell(true);\n          } else {\n            cellCtrl.cellEditorAttached();\n            cellCtrl.enableEditorTooltipFeature(cellEditor);\n          }\n        });\n      }\n    },\n    [cellCtrl]\n  );\n  const cssManager = useRef10();\n  if (!cssManager.current) {\n    cssManager.current = new CssClassManager2(() => eGui.current);\n  }\n  showJsRenderer_default(renderDetails, showCellWrapper, eCellValue.current, cellValueVersion, jsCellRendererRef, eGui);\n  const lastRenderDetails = useRef10();\n  useLayoutEffect6(() => {\n    const oldDetails = lastRenderDetails.current;\n    const newDetails = renderDetails;\n    lastRenderDetails.current = renderDetails;\n    if (oldDetails == null || oldDetails.compDetails == null || newDetails == null || newDetails.compDetails == null) {\n      return;\n    }\n    rowDragCompRef.current?.refreshVisibility();\n    const oldCompDetails = oldDetails.compDetails;\n    const newCompDetails = newDetails.compDetails;\n    if (oldCompDetails.componentClass != newCompDetails.componentClass) {\n      return;\n    }\n    if (cellRendererRef.current?.refresh == null) {\n      return;\n    }\n    const result = cellRendererRef.current.refresh(newCompDetails.params);\n    if (result != true) {\n      setRenderKey((prev) => prev + 1);\n    }\n  }, [renderDetails]);\n  useLayoutEffect6(() => {\n    const doingJsEditor = editDetails && !editDetails.compDetails.componentFromFramework;\n    if (!doingJsEditor || context.isDestroyed()) {\n      return;\n    }\n    const compDetails = editDetails.compDetails;\n    const isPopup = editDetails.popup === true;\n    const cellEditorPromise = compDetails.newAgStackInstance();\n    cellEditorPromise.then((cellEditor) => {\n      if (!cellEditor) {\n        return;\n      }\n      const compGui = cellEditor.getGui();\n      setCellEditorRef(cellEditor);\n      if (!isPopup) {\n        const parentEl = (forceWrapper ? eCellWrapper : eGui).current;\n        parentEl?.appendChild(compGui);\n        cellEditor.afterGuiAttached && cellEditor.afterGuiAttached();\n      }\n      setJsEditorComp(cellEditor);\n    });\n    return () => {\n      cellEditorPromise.then((cellEditor) => {\n        const compGui = cellEditor.getGui();\n        cellCtrl.disableEditorTooltipFeature();\n        context.destroyBean(cellEditor);\n        setCellEditorRef(void 0);\n        setJsEditorComp(void 0);\n        compGui?.parentElement?.removeChild(compGui);\n      });\n    };\n  }, [editDetails]);\n  const setCellWrapperRef = useCallback9(\n    (eRef) => {\n      eCellWrapper.current = eRef;\n      if (!eRef || context.isDestroyed() || !cellCtrl.isAlive()) {\n        const callbacks = cellWrapperDestroyFuncs.current;\n        cellWrapperDestroyFuncs.current = [];\n        for (const cb of callbacks) {\n          cb();\n        }\n        return;\n      }\n      let rowDragComp;\n      const addComp = (comp) => {\n        if (comp) {\n          eRef.insertAdjacentElement(\"afterbegin\", comp.getGui());\n          cellWrapperDestroyFuncs.current.push(() => {\n            _removeFromParent(comp.getGui());\n            context.destroyBean(comp);\n            if (rowDragCompRef.current === rowDragComp) {\n              rowDragCompRef.current = void 0;\n            }\n          });\n        }\n      };\n      if (includeSelection) {\n        addComp(cellCtrl.createSelectionCheckbox());\n      }\n      if (includeDndSource) {\n        addComp(cellCtrl.createDndSource());\n      }\n      if (includeRowDrag) {\n        rowDragComp = cellCtrl.createRowDragComp();\n        rowDragCompRef.current = rowDragComp;\n        if (rowDragComp) {\n          addComp(rowDragComp);\n          rowDragComp.refreshVisibility();\n        }\n      }\n    },\n    [cellCtrl, context, includeDndSource, includeRowDrag, includeSelection]\n  );\n  const init = useCallback9(() => {\n    const spanReady = !cellCtrl.isCellSpanning() || eWrapper.current;\n    const eRef = eGui.current;\n    if (!eRef || !spanReady || !cellCtrl || !cellCtrl.isAlive() || context.isDestroyed()) {\n      compBean.current = context.destroyBean(compBean.current);\n      return;\n    }\n    compBean.current = context.createBean(new _EmptyBean5());\n    const compProxy = {\n      toggleCss: (name, on) => cssManager.current.toggleCss(name, on),\n      setUserStyles: (styles) => setUserStyles(styles),\n      getFocusableElement: () => eGui.current,\n      setIncludeSelection: (include) => setIncludeSelection(include),\n      setIncludeRowDrag: (include) => setIncludeRowDrag(include),\n      setIncludeDndSource: (include) => setIncludeDndSource(include),\n      getCellEditor: () => cellEditorRef.current || null,\n      getCellRenderer: () => cellRendererRef.current ?? jsCellRendererRef.current,\n      getParentOfValue: () => eCellValue.current ?? eCellWrapper.current ?? eGui.current,\n      setRenderDetails: (compDetails, value, force) => {\n        const setDetails = () => {\n          setRenderDetails((prev) => {\n            if (prev?.compDetails !== compDetails || prev?.value !== value || prev?.force !== force) {\n              return {\n                value,\n                compDetails,\n                force\n              };\n            } else {\n              return prev;\n            }\n          });\n        };\n        if (compDetails?.params?.deferRender && !cellCtrl.rowNode.group) {\n          const { loadingComp, onReady } = cellCtrl.getDeferLoadingCellRenderer();\n          if (loadingComp) {\n            setRenderDetails({\n              value: void 0,\n              compDetails: loadingComp,\n              force: false\n            });\n            onReady.then(() => agStartTransition(setDetails));\n            return;\n          }\n        }\n        setDetails();\n      },\n      setEditDetails: (compDetails, popup, popupPosition, reactiveCustomComponents) => {\n        if (compDetails) {\n          let compProxy2 = void 0;\n          if (compDetails.componentFromFramework) {\n            if (reactiveCustomComponents) {\n              compProxy2 = new CellEditorComponentProxy(\n                compDetails.params,\n                () => setRenderKey((prev) => prev + 1)\n              );\n            } else {\n              warnReactiveCustomComponents();\n            }\n          }\n          setEditDetails({\n            compDetails,\n            popup,\n            popupPosition,\n            compProxy: compProxy2\n          });\n          if (!popup) {\n            setRenderDetails(void 0);\n          }\n        } else {\n          const recoverFocus = cellCtrl.hasBrowserFocus();\n          if (recoverFocus) {\n            compProxy.getFocusableElement().focus({ preventScroll: true });\n          }\n          setEditDetails((editDetails2) => {\n            if (editDetails2?.compProxy) {\n              cellEditorRef.current = void 0;\n            }\n            return void 0;\n          });\n        }\n      },\n      refreshEditStyles: (editing, isPopup) => {\n        if (!eGui.current) {\n          return;\n        }\n        const { current } = cssManager;\n        current.toggleCss(\"ag-cell-value\", !showCellWrapper);\n        current.toggleCss(\"ag-cell-inline-editing\", !!editing && !isPopup);\n        current.toggleCss(\"ag-cell-popup-editing\", !!editing && !!isPopup);\n        current.toggleCss(\"ag-cell-not-inline-editing\", !editing || !!isPopup);\n      }\n    };\n    const cellWrapperOrUndefined = eCellWrapper.current || void 0;\n    cellCtrl.setComp(\n      compProxy,\n      eRef,\n      eWrapper.current ?? void 0,\n      cellWrapperOrUndefined,\n      printLayout,\n      editingCell,\n      compBean.current\n    );\n  }, []);\n  const setGuiRef = useCallback9((ref) => {\n    eGui.current = ref;\n    init();\n  }, []);\n  const setWrapperRef = useCallback9((ref) => {\n    eWrapper.current = ref;\n    init();\n  }, []);\n  const reactCellRendererStateless = useMemo8(() => {\n    const res = renderDetails?.compDetails?.componentFromFramework && isComponentStateless(renderDetails.compDetails.componentClass);\n    return !!res;\n  }, [renderDetails]);\n  useLayoutEffect6(() => {\n    if (!eGui.current) {\n      return;\n    }\n    const { current } = cssManager;\n    current.toggleCss(\"ag-cell-value\", !showCellWrapper);\n    current.toggleCss(\"ag-cell-inline-editing\", !!editDetails && !editDetails.popup);\n    current.toggleCss(\"ag-cell-popup-editing\", !!editDetails && !!editDetails.popup);\n    current.toggleCss(\"ag-cell-not-inline-editing\", !editDetails || !!editDetails.popup);\n  });\n  const valueOrCellComp = () => {\n    const { compDetails, value } = renderDetails;\n    if (!compDetails) {\n      return value?.toString?.() ?? value;\n    }\n    if (compDetails.componentFromFramework) {\n      const CellRendererClass = compDetails.componentClass;\n      return /* @__PURE__ */ React13.createElement(Suspense, { fallback: /* @__PURE__ */ React13.createElement(SkeletonCellRenderer, { cellCtrl, parent: eGui }) }, reactCellRendererStateless ? /* @__PURE__ */ React13.createElement(CellRendererClass, { ...compDetails.params, key: renderKey }) : /* @__PURE__ */ React13.createElement(CellRendererClass, { ...compDetails.params, key: renderKey, ref: cellRendererRef }));\n    }\n  };\n  const showCellOrEditor = () => {\n    const showCellValue = () => {\n      if (renderDetails == null) {\n        return null;\n      }\n      return showCellWrapper ? /* @__PURE__ */ React13.createElement(\"span\", { role: \"presentation\", id: `cell-${instanceId}`, className: \"ag-cell-value\", ref: setCellValueRef }, valueOrCellComp()) : valueOrCellComp();\n    };\n    const showEditValue = (details) => jsxEditValue(details, setCellEditorRef, eGui.current, cellCtrl, jsEditorComp);\n    if (editDetails != null) {\n      if (editDetails.popup) {\n        return /* @__PURE__ */ React13.createElement(React13.Fragment, null, showCellValue(), showEditValue(editDetails));\n      }\n      return showEditValue(editDetails);\n    }\n    return showCellValue();\n  };\n  const renderCell = () => /* @__PURE__ */ React13.createElement(\"div\", { ref: setGuiRef, style: userStyles, role: cellAriaRole, \"col-id\": colIdSanitised }, showCellWrapper ? /* @__PURE__ */ React13.createElement(\"div\", { className: \"ag-cell-wrapper\", role: \"presentation\", ref: setCellWrapperRef }, showCellOrEditor()) : showCellOrEditor());\n  if (cellCtrl.isCellSpanning()) {\n    return /* @__PURE__ */ React13.createElement(\"div\", { ref: setWrapperRef, className: \"ag-spanned-cell-wrapper\", role: \"presentation\" }, renderCell());\n  }\n  return renderCell();\n};\nvar cellComp_default = memo9(CellComp);\n\n// packages/ag-grid-react/src/reactUi/rows/rowComp.tsx\nvar RowComp = ({ rowCtrl, containerType }) => {\n  const { context, gos, editSvc } = useContext11(BeansContext);\n  const enableUses = useContext11(RenderModeContext) === \"default\";\n  const compBean = useRef11();\n  const domOrderRef = useRef11(rowCtrl.getDomOrder());\n  const isFullWidth = rowCtrl.isFullWidth();\n  const isDisplayed = rowCtrl.rowNode.displayed;\n  const [rowIndex, setRowIndex] = useState12(\n    () => isDisplayed ? rowCtrl.rowNode.getRowIndexString() : null\n  );\n  const [rowId, setRowId] = useState12(() => rowCtrl.rowId);\n  const [rowBusinessKey, setRowBusinessKey] = useState12(() => rowCtrl.businessKey);\n  const [userStyles, setUserStyles] = useState12(() => rowCtrl.rowStyles);\n  const cellCtrlsRef = useRef11(null);\n  const [cellCtrlsFlushSync, setCellCtrlsFlushSync] = useState12(() => null);\n  const [fullWidthCompDetails, setFullWidthCompDetails] = useState12();\n  const [top, setTop] = useState12(\n    () => isDisplayed ? rowCtrl.getInitialRowTop(containerType) : void 0\n  );\n  const [transform, setTransform] = useState12(\n    () => isDisplayed ? rowCtrl.getInitialTransform(containerType) : void 0\n  );\n  const eGui = useRef11(null);\n  const fullWidthCompRef = useRef11();\n  const fullWidthParamsRef = useRef11();\n  const autoHeightSetup = useRef11(false);\n  const [autoHeightSetupAttempt, setAutoHeightSetupAttempt] = useState12(0);\n  useEffect8(() => {\n    if (autoHeightSetup.current || !fullWidthCompDetails || autoHeightSetupAttempt > 10) {\n      return;\n    }\n    const eChild = eGui.current?.firstChild;\n    if (eChild) {\n      rowCtrl.setupDetailRowAutoHeight(eChild);\n      autoHeightSetup.current = true;\n    } else {\n      setAutoHeightSetupAttempt((prev) => prev + 1);\n    }\n  }, [fullWidthCompDetails, autoHeightSetupAttempt]);\n  const cssManager = useRef11();\n  if (!cssManager.current) {\n    cssManager.current = new CssClassManager3(() => eGui.current);\n  }\n  const cellsChanged = useRef11(() => {\n  });\n  const sub = useCallback10((onStoreChange) => {\n    cellsChanged.current = onStoreChange;\n    return () => {\n      cellsChanged.current = () => {\n      };\n    };\n  }, []);\n  const cellCtrlsUses = agUseSyncExternalStore(\n    sub,\n    () => {\n      return cellCtrlsRef.current;\n    },\n    []\n  );\n  const cellCtrlsMerged = enableUses ? cellCtrlsUses : cellCtrlsFlushSync;\n  const setRef2 = useCallback10((eRef) => {\n    eGui.current = eRef;\n    compBean.current = eRef ? context.createBean(new _EmptyBean6()) : context.destroyBean(compBean.current);\n    if (!eRef) {\n      rowCtrl.unsetComp(containerType);\n      return;\n    }\n    if (!rowCtrl.isAlive() || context.isDestroyed()) {\n      return;\n    }\n    const compProxy = {\n      // the rowTop is managed by state, instead of direct style manipulation by rowCtrl (like all the other styles)\n      // as we need to have an initial value when it's placed into he DOM for the first time, for animation to work.\n      setTop,\n      setTransform,\n      // i found using React for managing classes at the row level was to slow, as modifying classes caused a lot of\n      // React code to execute, so avoiding React for managing CSS Classes made the grid go much faster.\n      toggleCss: (name, on) => cssManager.current.toggleCss(name, on),\n      setDomOrder: (domOrder) => domOrderRef.current = domOrder,\n      setRowIndex,\n      setRowId,\n      setRowBusinessKey,\n      setUserStyles,\n      // if we don't maintain the order, then cols will be ripped out and into the dom\n      // when cols reordered, which would stop the CSS transitions from working\n      setCellCtrls: (next, useFlushSync) => {\n        const prevCellCtrls = cellCtrlsRef.current;\n        const nextCells = getNextValueIfDifferent(prevCellCtrls, next, domOrderRef.current);\n        if (nextCells !== prevCellCtrls) {\n          cellCtrlsRef.current = nextCells;\n          if (enableUses) {\n            cellsChanged.current();\n          } else {\n            agFlushSync(useFlushSync, () => setCellCtrlsFlushSync(nextCells));\n          }\n        }\n      },\n      showFullWidth: (compDetails) => {\n        fullWidthParamsRef.current = compDetails.params;\n        setFullWidthCompDetails(compDetails);\n      },\n      getFullWidthCellRenderer: () => fullWidthCompRef.current,\n      getFullWidthCellRendererParams: () => fullWidthParamsRef.current,\n      refreshFullWidth: (getUpdatedParams) => {\n        const fullWidthParams = getUpdatedParams();\n        fullWidthParamsRef.current = fullWidthParams;\n        if (canRefreshFullWidthRef.current) {\n          setFullWidthCompDetails((prevFullWidthCompDetails) => ({\n            ...prevFullWidthCompDetails,\n            params: fullWidthParams\n          }));\n          return true;\n        } else {\n          if (!fullWidthCompRef.current || !fullWidthCompRef.current.refresh) {\n            return false;\n          }\n          return fullWidthCompRef.current.refresh(fullWidthParams);\n        }\n      }\n    };\n    rowCtrl.setComp(compProxy, eRef, containerType, compBean.current);\n  }, []);\n  useLayoutEffect7(\n    () => showJsComp(fullWidthCompDetails, context, eGui.current, fullWidthCompRef),\n    [fullWidthCompDetails]\n  );\n  const rowStyles = useMemo9(() => {\n    const res = { top, transform };\n    Object.assign(res, userStyles);\n    return res;\n  }, [top, transform, userStyles]);\n  const showFullWidthFramework = isFullWidth && fullWidthCompDetails?.componentFromFramework;\n  const showCells = !isFullWidth && cellCtrlsMerged != null;\n  const reactFullWidthCellRendererStateless = useMemo9(() => {\n    const res = fullWidthCompDetails?.componentFromFramework && isComponentStateless(fullWidthCompDetails.componentClass);\n    return !!res;\n  }, [fullWidthCompDetails]);\n  const canRefreshFullWidthRef = useRef11(false);\n  useEffect8(() => {\n    canRefreshFullWidthRef.current = reactFullWidthCellRendererStateless && !!fullWidthCompDetails && !!gos.get(\"reactiveCustomComponents\");\n  }, [reactFullWidthCellRendererStateless, fullWidthCompDetails]);\n  const showCellsJsx = () => cellCtrlsMerged?.map((cellCtrl) => /* @__PURE__ */ React14.createElement(\n    cellComp_default,\n    {\n      cellCtrl,\n      editingCell: editSvc?.isEditing(cellCtrl, { withOpenEditor: true }) ?? false,\n      printLayout: rowCtrl.printLayout,\n      key: cellCtrl.instanceId\n    }\n  ));\n  const showFullWidthFrameworkJsx = () => {\n    const FullWidthComp = fullWidthCompDetails.componentClass;\n    return reactFullWidthCellRendererStateless ? /* @__PURE__ */ React14.createElement(FullWidthComp, { ...fullWidthCompDetails.params }) : /* @__PURE__ */ React14.createElement(FullWidthComp, { ...fullWidthCompDetails.params, ref: fullWidthCompRef });\n  };\n  return /* @__PURE__ */ React14.createElement(\n    \"div\",\n    {\n      ref: setRef2,\n      role: \"row\",\n      style: rowStyles,\n      \"row-index\": rowIndex,\n      \"row-id\": rowId,\n      \"row-business-key\": rowBusinessKey\n    },\n    showCells ? showCellsJsx() : showFullWidthFramework ? showFullWidthFrameworkJsx() : null\n  );\n};\nvar rowComp_default = memo10(RowComp);\n\n// packages/ag-grid-react/src/reactUi/rows/rowContainerComp.tsx\nvar RowContainerComp = ({ name }) => {\n  const { context, gos } = useContext12(BeansContext);\n  const containerOptions = useMemo10(() => _getRowContainerOptions(name), [name]);\n  const eViewport = useRef12(null);\n  const eContainer = useRef12(null);\n  const eSpanContainer = useRef12(null);\n  const rowCtrlsRef = useRef12([]);\n  const prevRowCtrlsRef = useRef12([]);\n  const [rowCtrlsOrdered, setRowCtrlsOrdered] = useState13(() => []);\n  const isSpanning = !!gos.get(\"enableCellSpan\") && !!containerOptions.getSpannedRowCtrls;\n  const spannedRowCtrlsRef = useRef12([]);\n  const prevSpannedRowCtrlsRef = useRef12([]);\n  const [spannedRowCtrlsOrdered, setSpannedRowCtrlsOrdered] = useState13(() => []);\n  const domOrderRef = useRef12(false);\n  const rowContainerCtrlRef = useRef12();\n  const viewportClasses = useMemo10(() => classesList(\"ag-viewport\", _getRowViewportClass(name)), [name]);\n  const containerClasses = useMemo10(() => classesList(_getRowContainerClass(name)), [name]);\n  const spanClasses = useMemo10(() => classesList(\"ag-spanning-container\", _getRowSpanContainerClass(name)), [name]);\n  const shouldRenderViewport = containerOptions.type === \"center\" || isSpanning;\n  const topLevelRef = shouldRenderViewport ? eViewport : eContainer;\n  reactComment_default(\" AG Row Container \" + name + \" \", topLevelRef);\n  const areElementsReady = useCallback11(() => {\n    const viewportReady = !shouldRenderViewport || eViewport.current != null;\n    const containerReady = eContainer.current != null;\n    const spanContainerReady = !isSpanning || eSpanContainer.current != null;\n    return viewportReady && containerReady && spanContainerReady;\n  }, []);\n  const areElementsRemoved = useCallback11(() => {\n    return eViewport.current == null && eContainer.current == null && eSpanContainer.current == null;\n  }, []);\n  const setRef2 = useCallback11(() => {\n    if (areElementsRemoved()) {\n      rowContainerCtrlRef.current = context.destroyBean(rowContainerCtrlRef.current);\n    }\n    if (context.isDestroyed()) {\n      return;\n    }\n    if (areElementsReady()) {\n      const updateRowCtrlsOrdered = (useFlushSync) => {\n        const next = getNextValueIfDifferent(\n          prevRowCtrlsRef.current,\n          rowCtrlsRef.current,\n          domOrderRef.current\n        );\n        if (next !== prevRowCtrlsRef.current) {\n          prevRowCtrlsRef.current = next;\n          agFlushSync(useFlushSync, () => setRowCtrlsOrdered(next));\n        }\n      };\n      const updateSpannedRowCtrlsOrdered = (useFlushSync) => {\n        const next = getNextValueIfDifferent(\n          prevSpannedRowCtrlsRef.current,\n          spannedRowCtrlsRef.current,\n          domOrderRef.current\n        );\n        if (next !== prevSpannedRowCtrlsRef.current) {\n          prevSpannedRowCtrlsRef.current = next;\n          agFlushSync(useFlushSync, () => setSpannedRowCtrlsOrdered(next));\n        }\n      };\n      const compProxy = {\n        setHorizontalScroll: (offset) => {\n          if (eViewport.current) {\n            eViewport.current.scrollLeft = offset;\n          }\n        },\n        setViewportHeight: (height) => {\n          if (eViewport.current) {\n            eViewport.current.style.height = height;\n          }\n        },\n        setRowCtrls: ({ rowCtrls, useFlushSync }) => {\n          const useFlush = !!useFlushSync && rowCtrlsRef.current.length > 0 && rowCtrls.length > 0;\n          rowCtrlsRef.current = rowCtrls;\n          updateRowCtrlsOrdered(useFlush);\n        },\n        setSpannedRowCtrls: (rowCtrls, useFlushSync) => {\n          const useFlush = !!useFlushSync && spannedRowCtrlsRef.current.length > 0 && rowCtrls.length > 0;\n          spannedRowCtrlsRef.current = rowCtrls;\n          updateSpannedRowCtrlsOrdered(useFlush);\n        },\n        setDomOrder: (domOrder) => {\n          if (domOrderRef.current != domOrder) {\n            domOrderRef.current = domOrder;\n            updateRowCtrlsOrdered(false);\n          }\n        },\n        setContainerWidth: (width) => {\n          if (eContainer.current) {\n            eContainer.current.style.width = width;\n          }\n        },\n        setOffsetTop: (offset) => {\n          if (eContainer.current) {\n            eContainer.current.style.transform = `translateY(${offset})`;\n          }\n        }\n      };\n      rowContainerCtrlRef.current = context.createBean(new RowContainerCtrl(name));\n      rowContainerCtrlRef.current.setComp(\n        compProxy,\n        eContainer.current,\n        eSpanContainer.current ?? void 0,\n        eViewport.current\n      );\n    }\n  }, [areElementsReady, areElementsRemoved]);\n  const setContainerRef = useCallback11(\n    (e) => {\n      eContainer.current = e;\n      setRef2();\n    },\n    [setRef2]\n  );\n  const setSpanContainerRef = useCallback11(\n    (e) => {\n      eSpanContainer.current = e;\n      setRef2();\n    },\n    [setRef2]\n  );\n  const setViewportRef = useCallback11(\n    (e) => {\n      eViewport.current = e;\n      setRef2();\n    },\n    [setRef2]\n  );\n  const buildContainer = () => /* @__PURE__ */ React15.createElement(\n    \"div\",\n    {\n      className: containerClasses,\n      ref: setContainerRef,\n      role: shouldRenderViewport ? \"presentation\" : \"rowgroup\"\n    },\n    rowCtrlsOrdered.map((rowCtrl) => /* @__PURE__ */ React15.createElement(rowComp_default, { rowCtrl, containerType: containerOptions.type, key: rowCtrl.instanceId }))\n  );\n  if (!shouldRenderViewport) {\n    return buildContainer();\n  }\n  const buildSpanContainer = () => /* @__PURE__ */ React15.createElement(\"div\", { className: spanClasses, ref: setSpanContainerRef, role: \"presentation\" }, spannedRowCtrlsOrdered.map((rowCtrl) => /* @__PURE__ */ React15.createElement(rowComp_default, { rowCtrl, containerType: containerOptions.type, key: rowCtrl.instanceId })));\n  return /* @__PURE__ */ React15.createElement(\"div\", { className: viewportClasses, ref: setViewportRef, role: \"rowgroup\" }, buildContainer(), isSpanning ? buildSpanContainer() : null);\n};\nvar rowContainerComp_default = memo11(RowContainerComp);\n\n// packages/ag-grid-react/src/reactUi/gridBodyComp.tsx\nvar GridBodyComp = () => {\n  const beans = useContext13(BeansContext);\n  const { context, overlays } = beans;\n  const [rowAnimationClass, setRowAnimationClass] = useState14(\"\");\n  const [topHeight, setTopHeight] = useState14(0);\n  const [bottomHeight, setBottomHeight] = useState14(0);\n  const [stickyTopHeight, setStickyTopHeight] = useState14(\"0px\");\n  const [stickyTopTop, setStickyTopTop] = useState14(\"0px\");\n  const [stickyTopWidth, setStickyTopWidth] = useState14(\"100%\");\n  const [stickyBottomHeight, setStickyBottomHeight] = useState14(\"0px\");\n  const [stickyBottomBottom, setStickyBottomBottom] = useState14(\"0px\");\n  const [stickyBottomWidth, setStickyBottomWidth] = useState14(\"100%\");\n  const [topInvisible, setTopInvisible] = useState14(true);\n  const [bottomInvisible, setBottomInvisible] = useState14(true);\n  const [forceVerticalScrollClass, setForceVerticalScrollClass] = useState14(null);\n  const [topAndBottomOverflowY, setTopAndBottomOverflowY] = useState14(\"\");\n  const [cellSelectableCss, setCellSelectableCss] = useState14(null);\n  const [layoutClass, setLayoutClass] = useState14(\"ag-layout-normal\");\n  const cssManager = useRef13();\n  if (!cssManager.current) {\n    cssManager.current = new CssClassManager4(() => eRoot.current);\n  }\n  const eRoot = useRef13(null);\n  const eTop = useRef13(null);\n  const eStickyTop = useRef13(null);\n  const eStickyBottom = useRef13(null);\n  const eBody = useRef13(null);\n  const eBodyViewport = useRef13(null);\n  const eBottom = useRef13(null);\n  const beansToDestroy = useRef13([]);\n  const destroyFuncs = useRef13([]);\n  reactComment_default(\" AG Grid Body \", eRoot);\n  reactComment_default(\" AG Pinned Top \", eTop);\n  reactComment_default(\" AG Sticky Top \", eStickyTop);\n  reactComment_default(\" AG Middle \", eBodyViewport);\n  reactComment_default(\" AG Pinned Bottom \", eBottom);\n  const setRef2 = useCallback12((eRef) => {\n    eRoot.current = eRef;\n    if (!eRef || context.isDestroyed()) {\n      beansToDestroy.current = context.destroyBeans(beansToDestroy.current);\n      destroyFuncs.current.forEach((f) => f());\n      destroyFuncs.current = [];\n      return;\n    }\n    const attachToDom = (eParent, eChild) => {\n      eParent.appendChild(eChild);\n      destroyFuncs.current.push(() => eParent.removeChild(eChild));\n    };\n    const newComp = (compClass) => {\n      const comp = context.createBean(new compClass());\n      beansToDestroy.current.push(comp);\n      return comp;\n    };\n    const addComp = (eParent, compClass, comment) => {\n      attachToDom(eParent, document.createComment(comment));\n      attachToDom(eParent, newComp(compClass).getGui());\n    };\n    addComp(eRef, FakeHScrollComp, \" AG Fake Horizontal Scroll \");\n    const overlayComp = overlays?.getOverlayWrapperCompClass();\n    if (overlayComp) {\n      addComp(eRef, overlayComp, \" AG Overlay Wrapper \");\n    }\n    if (eBody.current) {\n      addComp(eBody.current, FakeVScrollComp, \" AG Fake Vertical Scroll \");\n    }\n    const compProxy = {\n      setRowAnimationCssOnBodyViewport: setRowAnimationClass,\n      setColumnCount: (count) => {\n        if (eRoot.current) {\n          _setAriaColCount(eRoot.current, count);\n        }\n      },\n      setRowCount: (count) => {\n        if (eRoot.current) {\n          _setAriaRowCount(eRoot.current, count);\n        }\n      },\n      setTopHeight,\n      setBottomHeight,\n      setStickyTopHeight,\n      setStickyTopTop,\n      setStickyTopWidth,\n      setTopInvisible,\n      setBottomInvisible,\n      setColumnMovingCss: (cssClass, flag) => cssManager.current.toggleCss(cssClass, flag),\n      updateLayoutClasses: setLayoutClass,\n      setAlwaysVerticalScrollClass: setForceVerticalScrollClass,\n      setPinnedTopBottomOverflowY: setTopAndBottomOverflowY,\n      setCellSelectableCss: (cssClass, flag) => setCellSelectableCss(flag ? cssClass : null),\n      setBodyViewportWidth: (width) => {\n        if (eBodyViewport.current) {\n          eBodyViewport.current.style.width = width;\n        }\n      },\n      registerBodyViewportResizeListener: (listener) => {\n        if (eBodyViewport.current) {\n          const unsubscribeFromResize = _observeResize(beans, eBodyViewport.current, listener);\n          destroyFuncs.current.push(() => unsubscribeFromResize());\n        }\n      },\n      setStickyBottomHeight,\n      setStickyBottomBottom,\n      setStickyBottomWidth,\n      setGridRootRole: (role) => eRef.setAttribute(\"role\", role)\n    };\n    const ctrl = context.createBean(new GridBodyCtrl());\n    beansToDestroy.current.push(ctrl);\n    ctrl.setComp(\n      compProxy,\n      eRef,\n      eBodyViewport.current,\n      eTop.current,\n      eBottom.current,\n      eStickyTop.current,\n      eStickyBottom.current\n    );\n  }, []);\n  const rootClasses = useMemo11(() => classesList(\"ag-root\", \"ag-unselectable\", layoutClass), [layoutClass]);\n  const bodyViewportClasses = useMemo11(\n    () => classesList(\n      \"ag-body-viewport\",\n      rowAnimationClass,\n      layoutClass,\n      forceVerticalScrollClass,\n      cellSelectableCss\n    ),\n    [rowAnimationClass, layoutClass, forceVerticalScrollClass, cellSelectableCss]\n  );\n  const bodyClasses = useMemo11(() => classesList(\"ag-body\", layoutClass), [layoutClass]);\n  const topClasses = useMemo11(\n    () => classesList(\"ag-floating-top\", topInvisible ? \"ag-invisible\" : null, cellSelectableCss),\n    [cellSelectableCss, topInvisible]\n  );\n  const stickyTopClasses = useMemo11(() => classesList(\"ag-sticky-top\", cellSelectableCss), [cellSelectableCss]);\n  const stickyBottomClasses = useMemo11(\n    () => classesList(\"ag-sticky-bottom\", stickyBottomHeight === \"0px\" ? \"ag-invisible\" : null, cellSelectableCss),\n    [cellSelectableCss, stickyBottomHeight]\n  );\n  const bottomClasses = useMemo11(\n    () => classesList(\"ag-floating-bottom\", bottomInvisible ? \"ag-invisible\" : null, cellSelectableCss),\n    [cellSelectableCss, bottomInvisible]\n  );\n  const topStyle = useMemo11(\n    () => ({\n      height: topHeight,\n      minHeight: topHeight,\n      overflowY: topAndBottomOverflowY\n    }),\n    [topHeight, topAndBottomOverflowY]\n  );\n  const stickyTopStyle = useMemo11(\n    () => ({\n      height: stickyTopHeight,\n      top: stickyTopTop,\n      width: stickyTopWidth\n    }),\n    [stickyTopHeight, stickyTopTop, stickyTopWidth]\n  );\n  const stickyBottomStyle = useMemo11(\n    () => ({\n      height: stickyBottomHeight,\n      bottom: stickyBottomBottom,\n      width: stickyBottomWidth\n    }),\n    [stickyBottomHeight, stickyBottomBottom, stickyBottomWidth]\n  );\n  const bottomStyle = useMemo11(\n    () => ({\n      height: bottomHeight,\n      minHeight: bottomHeight,\n      overflowY: topAndBottomOverflowY\n    }),\n    [bottomHeight, topAndBottomOverflowY]\n  );\n  const createRowContainer = (container) => /* @__PURE__ */ React16.createElement(rowContainerComp_default, { name: container, key: `${container}-container` });\n  const createSection = ({\n    section,\n    children,\n    className,\n    style\n  }) => /* @__PURE__ */ React16.createElement(\"div\", { ref: section, className, role: \"presentation\", style }, children.map(createRowContainer));\n  return /* @__PURE__ */ React16.createElement(\"div\", { ref: setRef2, className: rootClasses }, /* @__PURE__ */ React16.createElement(gridHeaderComp_default, null), createSection({\n    section: eTop,\n    className: topClasses,\n    style: topStyle,\n    children: [\"topLeft\", \"topCenter\", \"topRight\", \"topFullWidth\"]\n  }), /* @__PURE__ */ React16.createElement(\"div\", { className: bodyClasses, ref: eBody, role: \"presentation\" }, createSection({\n    section: eBodyViewport,\n    className: bodyViewportClasses,\n    children: [\"left\", \"center\", \"right\", \"fullWidth\"]\n  })), createSection({\n    section: eStickyTop,\n    className: stickyTopClasses,\n    style: stickyTopStyle,\n    children: [\"stickyTopLeft\", \"stickyTopCenter\", \"stickyTopRight\", \"stickyTopFullWidth\"]\n  }), createSection({\n    section: eStickyBottom,\n    className: stickyBottomClasses,\n    style: stickyBottomStyle,\n    children: [\"stickyBottomLeft\", \"stickyBottomCenter\", \"stickyBottomRight\", \"stickyBottomFullWidth\"]\n  }), createSection({\n    section: eBottom,\n    className: bottomClasses,\n    style: bottomStyle,\n    children: [\"bottomLeft\", \"bottomCenter\", \"bottomRight\", \"bottomFullWidth\"]\n  }));\n};\nvar gridBodyComp_default = memo12(GridBodyComp);\n\n// packages/ag-grid-react/src/reactUi/tabGuardComp.tsx\nimport React17, { forwardRef as forwardRef2, memo as memo13, useCallback as useCallback13, useContext as useContext14, useImperativeHandle as useImperativeHandle2, useRef as useRef14 } from \"react\";\nimport { TabGuardClassNames, TabGuardCtrl } from \"ag-grid-community\";\nvar TabGuardCompRef = (props, forwardRef4) => {\n  const { children, eFocusableElement, onTabKeyDown, gridCtrl, forceFocusOutWhenTabGuardsAreEmpty, isEmpty } = props;\n  const { context } = useContext14(BeansContext);\n  const topTabGuardRef = useRef14(null);\n  const bottomTabGuardRef = useRef14(null);\n  const tabGuardCtrlRef = useRef14();\n  const setTabIndex = (value) => {\n    const processedValue = value == null ? void 0 : parseInt(value, 10).toString();\n    [topTabGuardRef, bottomTabGuardRef].forEach((tabGuard) => {\n      if (processedValue === void 0) {\n        tabGuard.current?.removeAttribute(\"tabindex\");\n      } else {\n        tabGuard.current?.setAttribute(\"tabindex\", processedValue);\n      }\n    });\n  };\n  useImperativeHandle2(forwardRef4, () => ({\n    forceFocusOutOfContainer(up) {\n      tabGuardCtrlRef.current?.forceFocusOutOfContainer(up);\n    }\n  }));\n  const setupCtrl = useCallback13(() => {\n    const topTabGuard = topTabGuardRef.current;\n    const bottomTabGuard = bottomTabGuardRef.current;\n    if (!topTabGuard && !bottomTabGuard || context.isDestroyed()) {\n      tabGuardCtrlRef.current = context.destroyBean(tabGuardCtrlRef.current);\n      return;\n    }\n    if (topTabGuard && bottomTabGuard) {\n      const compProxy = {\n        setTabIndex\n      };\n      tabGuardCtrlRef.current = context.createBean(\n        new TabGuardCtrl({\n          comp: compProxy,\n          eTopGuard: topTabGuard,\n          eBottomGuard: bottomTabGuard,\n          eFocusableElement,\n          onTabKeyDown,\n          forceFocusOutWhenTabGuardsAreEmpty,\n          focusInnerElement: (fromBottom) => gridCtrl.focusInnerElement(fromBottom),\n          isEmpty\n        })\n      );\n    }\n  }, []);\n  const setTopRef = useCallback13(\n    (e) => {\n      topTabGuardRef.current = e;\n      setupCtrl();\n    },\n    [setupCtrl]\n  );\n  const setBottomRef = useCallback13(\n    (e) => {\n      bottomTabGuardRef.current = e;\n      setupCtrl();\n    },\n    [setupCtrl]\n  );\n  const createTabGuard = (side) => {\n    const className = side === \"top\" ? TabGuardClassNames.TAB_GUARD_TOP : TabGuardClassNames.TAB_GUARD_BOTTOM;\n    return /* @__PURE__ */ React17.createElement(\n      \"div\",\n      {\n        className: `${TabGuardClassNames.TAB_GUARD} ${className}`,\n        role: \"presentation\",\n        ref: side === \"top\" ? setTopRef : setBottomRef\n      }\n    );\n  };\n  return /* @__PURE__ */ React17.createElement(React17.Fragment, null, createTabGuard(\"top\"), children, createTabGuard(\"bottom\"));\n};\nvar TabGuardComp = forwardRef2(TabGuardCompRef);\nvar tabGuardComp_default = memo13(TabGuardComp);\n\n// packages/ag-grid-react/src/reactUi/gridComp.tsx\nvar GridComp = ({ context }) => {\n  const [rtlClass, setRtlClass] = useState15(\"\");\n  const [layoutClass, setLayoutClass] = useState15(\"\");\n  const [cursor, setCursor] = useState15(null);\n  const [userSelect, setUserSelect] = useState15(null);\n  const [initialised, setInitialised] = useState15(false);\n  const [tabGuardReady, setTabGuardReady] = useState15();\n  const gridCtrlRef = useRef15();\n  const eRootWrapperRef = useRef15(null);\n  const tabGuardRef = useRef15();\n  const [eGridBodyParent, setGridBodyParent] = useState15(null);\n  const focusInnerElementRef = useRef15(() => void 0);\n  const paginationCompRef = useRef15();\n  const focusableContainersRef = useRef15([]);\n  const onTabKeyDown = useCallback14(() => void 0, []);\n  reactComment_default(\" AG Grid \", eRootWrapperRef);\n  const setRef2 = useCallback14((eRef) => {\n    eRootWrapperRef.current = eRef;\n    gridCtrlRef.current = eRef ? context.createBean(new GridCtrl()) : context.destroyBean(gridCtrlRef.current);\n    if (!eRef || context.isDestroyed()) {\n      return;\n    }\n    const gridCtrl = gridCtrlRef.current;\n    focusInnerElementRef.current = gridCtrl.focusInnerElement.bind(gridCtrl);\n    const compProxy = {\n      destroyGridUi: () => {\n      },\n      // do nothing, as framework users destroy grid by removing the comp\n      setRtlClass,\n      forceFocusOutOfContainer: (up) => {\n        if (!up && paginationCompRef.current?.isDisplayed()) {\n          paginationCompRef.current.forceFocusOutOfContainer(up);\n          return;\n        }\n        tabGuardRef.current?.forceFocusOutOfContainer(up);\n      },\n      updateLayoutClasses: setLayoutClass,\n      getFocusableContainers: () => {\n        const comps = [];\n        const gridBodyCompEl = eRootWrapperRef.current?.querySelector(\".ag-root\");\n        if (gridBodyCompEl) {\n          comps.push({ getGui: () => gridBodyCompEl });\n        }\n        focusableContainersRef.current.forEach((comp) => {\n          if (comp.isDisplayed()) {\n            comps.push(comp);\n          }\n        });\n        return comps;\n      },\n      setCursor,\n      setUserSelect\n    };\n    gridCtrl.setComp(compProxy, eRef, eRef);\n    setInitialised(true);\n  }, []);\n  useEffect9(() => {\n    const gridCtrl = gridCtrlRef.current;\n    const eRootWrapper = eRootWrapperRef.current;\n    if (!tabGuardReady || !gridCtrl || !eGridBodyParent || !eRootWrapper || context.isDestroyed()) {\n      return;\n    }\n    const beansToDestroy = [];\n    const {\n      watermarkSelector,\n      paginationSelector,\n      sideBarSelector,\n      statusBarSelector,\n      gridHeaderDropZonesSelector\n    } = gridCtrl.getOptionalSelectors();\n    const additionalEls = [];\n    if (gridHeaderDropZonesSelector) {\n      const headerDropZonesComp = context.createBean(new gridHeaderDropZonesSelector.component());\n      const eGui = headerDropZonesComp.getGui();\n      eRootWrapper.insertAdjacentElement(\"afterbegin\", eGui);\n      additionalEls.push(eGui);\n      beansToDestroy.push(headerDropZonesComp);\n    }\n    if (sideBarSelector) {\n      const sideBarComp = context.createBean(new sideBarSelector.component());\n      const eGui = sideBarComp.getGui();\n      const bottomTabGuard = eGridBodyParent.querySelector(\".ag-tab-guard-bottom\");\n      if (bottomTabGuard) {\n        bottomTabGuard.insertAdjacentElement(\"beforebegin\", eGui);\n        additionalEls.push(eGui);\n      }\n      beansToDestroy.push(sideBarComp);\n      focusableContainersRef.current.push(sideBarComp);\n    }\n    const addComponentToDom = (component) => {\n      const comp = context.createBean(new component());\n      const eGui = comp.getGui();\n      eRootWrapper.insertAdjacentElement(\"beforeend\", eGui);\n      additionalEls.push(eGui);\n      beansToDestroy.push(comp);\n      return comp;\n    };\n    if (statusBarSelector) {\n      addComponentToDom(statusBarSelector.component);\n    }\n    if (paginationSelector) {\n      const paginationComp = addComponentToDom(paginationSelector.component);\n      paginationCompRef.current = paginationComp;\n      focusableContainersRef.current.push(paginationComp);\n    }\n    if (watermarkSelector) {\n      addComponentToDom(watermarkSelector.component);\n    }\n    return () => {\n      context.destroyBeans(beansToDestroy);\n      additionalEls.forEach((el) => {\n        el.parentElement?.removeChild(el);\n      });\n    };\n  }, [tabGuardReady, eGridBodyParent, context]);\n  const rootWrapperClasses = useMemo12(\n    () => classesList(\"ag-root-wrapper\", rtlClass, layoutClass),\n    [rtlClass, layoutClass]\n  );\n  const rootWrapperBodyClasses = useMemo12(\n    () => classesList(\"ag-root-wrapper-body\", \"ag-focus-managed\", layoutClass),\n    [layoutClass]\n  );\n  const topStyle = useMemo12(\n    () => ({\n      userSelect: userSelect != null ? userSelect : \"\",\n      WebkitUserSelect: userSelect != null ? userSelect : \"\",\n      cursor: cursor != null ? cursor : \"\"\n    }),\n    [userSelect, cursor]\n  );\n  const setTabGuardCompRef = useCallback14((ref) => {\n    tabGuardRef.current = ref;\n    setTabGuardReady(ref !== null);\n  }, []);\n  const isFocusable = useCallback14(() => !gridCtrlRef.current?.isFocusable(), []);\n  return /* @__PURE__ */ React18.createElement(\"div\", { ref: setRef2, className: rootWrapperClasses, style: topStyle, role: \"presentation\" }, /* @__PURE__ */ React18.createElement(\"div\", { className: rootWrapperBodyClasses, ref: setGridBodyParent, role: \"presentation\" }, initialised && eGridBodyParent && !context.isDestroyed() && /* @__PURE__ */ React18.createElement(BeansContext.Provider, { value: context.getBeans() }, /* @__PURE__ */ React18.createElement(\n    tabGuardComp_default,\n    {\n      ref: setTabGuardCompRef,\n      eFocusableElement: eGridBodyParent,\n      onTabKeyDown,\n      gridCtrl: gridCtrlRef.current,\n      forceFocusOutWhenTabGuardsAreEmpty: true,\n      isEmpty: isFocusable\n    },\n    // we wait for initialised before rending the children, so GridComp has created and registered with it's\n    // GridCtrl before we create the child GridBodyComp. Otherwise the GridBodyComp would initialise first,\n    // before we have set the the Layout CSS classes, causing the GridBodyComp to render rows to a grid that\n    // doesn't have it's height specified, which would result if all the rows getting rendered (and if many rows,\n    // hangs the UI)\n    /* @__PURE__ */ React18.createElement(gridBodyComp_default, null)\n  ))));\n};\nvar gridComp_default = memo14(GridComp);\n\n// packages/ag-grid-react/src/reactUi/renderStatusService.tsx\nimport { BeanStub } from \"ag-grid-community\";\nvar RenderStatusService = class extends BeanStub {\n  postConstruct() {\n    if (this.beans.colAutosize) {\n      const queueResizeOperationsForTick = this.queueResizeOperationsForTick.bind(this);\n      this.addManagedEventListeners({\n        rowExpansionStateChanged: queueResizeOperationsForTick,\n        expandOrCollapseAll: queueResizeOperationsForTick,\n        // Enable devs to resize after they updated via the API\n        cellValueChanged: queueResizeOperationsForTick,\n        rowNodeDataChanged: queueResizeOperationsForTick,\n        rowDataUpdated: queueResizeOperationsForTick\n      });\n    }\n  }\n  queueResizeOperationsForTick() {\n    const colAutosize = this.beans.colAutosize;\n    colAutosize.shouldQueueResizeOperations = true;\n    setTimeout(() => {\n      colAutosize.processResizeOperations();\n    }, 0);\n  }\n  areHeaderCellsRendered() {\n    return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every((container) => container.getAllCtrls().every((ctrl) => ctrl.areCellsRendered()));\n  }\n  areCellsRendered() {\n    return this.beans.rowRenderer.getAllRowCtrls().every((row) => row.isRowRendered() && row.getAllCellCtrls().every((cellCtrl) => !!cellCtrl.eGui));\n  }\n};\n\n// packages/ag-grid-react/src/reactUi/agGridReactUi.tsx\nvar deprecatedProps = {\n  setGridApi: void 0,\n  maxComponentCreationTimeMs: void 0,\n  children: void 0\n};\nvar reactPropsNotGridOptions = {\n  gridOptions: void 0,\n  modules: void 0,\n  containerStyle: void 0,\n  className: void 0,\n  passGridApi: void 0,\n  componentWrappingElement: void 0,\n  ...deprecatedProps\n};\nvar excludeReactCompProps = new Set(Object.keys(reactPropsNotGridOptions));\nvar deprecatedReactCompProps = new Set(Object.keys(deprecatedProps));\nvar AgGridReactUi = (props) => {\n  const apiRef = useRef16();\n  const eGui = useRef16(null);\n  const portalManager = useRef16(null);\n  const destroyFuncs = useRef16([]);\n  const whenReadyFuncs = useRef16([]);\n  const prevProps = useRef16(props);\n  const frameworkOverridesRef = useRef16();\n  const gridIdRef = useRef16();\n  const ready = useRef16(false);\n  const [context, setContext] = useState16(void 0);\n  const [, setPortalRefresher] = useState16(0);\n  const setRef2 = useCallback15((eRef) => {\n    eGui.current = eRef;\n    if (!eRef) {\n      destroyFuncs.current.forEach((f) => f());\n      destroyFuncs.current.length = 0;\n      return;\n    }\n    const modules = props.modules || [];\n    if (!portalManager.current) {\n      portalManager.current = new PortalManager(\n        () => setPortalRefresher((prev) => prev + 1),\n        props.componentWrappingElement,\n        props.maxComponentCreationTimeMs\n      );\n      destroyFuncs.current.push(() => {\n        portalManager.current?.destroy();\n        portalManager.current = null;\n      });\n    }\n    const mergedGridOps = _combineAttributesAndGridOptions(\n      props.gridOptions,\n      props,\n      Object.keys(props).filter((key) => !excludeReactCompProps.has(key))\n    );\n    const processQueuedUpdates = () => {\n      if (ready.current) {\n        const getFn = () => frameworkOverridesRef.current?.shouldQueueUpdates() ? void 0 : whenReadyFuncs.current.shift();\n        let fn = getFn();\n        while (fn) {\n          fn();\n          fn = getFn();\n        }\n      }\n    };\n    const frameworkOverrides = new ReactFrameworkOverrides(processQueuedUpdates);\n    frameworkOverridesRef.current = frameworkOverrides;\n    const renderStatus = new RenderStatusService();\n    const gridParams = {\n      providedBeanInstances: {\n        frameworkCompWrapper: new ReactFrameworkComponentWrapper(portalManager.current, mergedGridOps),\n        renderStatus\n      },\n      modules,\n      frameworkOverrides,\n      setThemeOnGridDiv: true\n    };\n    const createUiCallback = (ctx) => {\n      setContext(ctx);\n      ctx.createBean(renderStatus);\n      destroyFuncs.current.push(() => {\n        ctx.destroy();\n      });\n      ctx.getBean(\"ctrlsSvc\").whenReady(\n        {\n          addDestroyFunc: (func) => {\n            destroyFuncs.current.push(func);\n          }\n        },\n        () => {\n          if (ctx.isDestroyed()) {\n            return;\n          }\n          const api = apiRef.current;\n          if (api) {\n            props.passGridApi?.(api);\n          }\n        }\n      );\n    };\n    const acceptChangesCallback = (context2) => {\n      context2.getBean(\"ctrlsSvc\").whenReady(\n        {\n          addDestroyFunc: (func) => {\n            destroyFuncs.current.push(func);\n          }\n        },\n        () => {\n          whenReadyFuncs.current.forEach((f) => f());\n          whenReadyFuncs.current.length = 0;\n          ready.current = true;\n        }\n      );\n    };\n    const gridCoreCreator = new GridCoreCreator();\n    mergedGridOps.gridId ?? (mergedGridOps.gridId = gridIdRef.current);\n    apiRef.current = gridCoreCreator.create(\n      eRef,\n      mergedGridOps,\n      createUiCallback,\n      acceptChangesCallback,\n      gridParams\n    );\n    destroyFuncs.current.push(() => {\n      apiRef.current = void 0;\n    });\n    if (apiRef.current) {\n      gridIdRef.current = apiRef.current.getGridId();\n    }\n  }, []);\n  const style = useMemo13(() => {\n    return {\n      height: \"100%\",\n      ...props.containerStyle || {}\n    };\n  }, [props.containerStyle]);\n  const processWhenReady = useCallback15((func) => {\n    if (ready.current && !frameworkOverridesRef.current?.shouldQueueUpdates()) {\n      func();\n    } else {\n      whenReadyFuncs.current.push(func);\n    }\n  }, []);\n  useEffect10(() => {\n    const changes = extractGridPropertyChanges(prevProps.current, props);\n    prevProps.current = props;\n    processWhenReady(() => {\n      if (apiRef.current) {\n        _processOnChange(changes, apiRef.current);\n      }\n    });\n  }, [props]);\n  const renderMode = !React19.useSyncExternalStore || _getGridOption(props, \"renderingMode\") === \"legacy\" ? \"legacy\" : \"default\";\n  return /* @__PURE__ */ React19.createElement(\"div\", { style, className: props.className, ref: setRef2 }, /* @__PURE__ */ React19.createElement(RenderModeContext.Provider, { value: renderMode }, context && !context.isDestroyed() ? /* @__PURE__ */ React19.createElement(gridComp_default, { key: context.instanceId, context }) : null, portalManager.current?.getPortals() ?? null));\n};\nfunction extractGridPropertyChanges(prevProps, nextProps) {\n  const changes = {};\n  Object.keys(nextProps).forEach((propKey) => {\n    if (excludeReactCompProps.has(propKey)) {\n      if (deprecatedReactCompProps.has(propKey)) {\n        _warn2(274, { prop: propKey });\n      }\n      return;\n    }\n    const propValue = nextProps[propKey];\n    if (prevProps[propKey] !== propValue) {\n      changes[propKey] = propValue;\n    }\n  });\n  return changes;\n}\nvar ReactFrameworkComponentWrapper = class extends BaseComponentWrapper {\n  constructor(parent, gridOptions) {\n    super();\n    this.parent = parent;\n    this.gridOptions = gridOptions;\n  }\n  createWrapper(UserReactComponent, componentType) {\n    const gridOptions = this.gridOptions;\n    const reactiveCustomComponents = _getGridOption(gridOptions, \"reactiveCustomComponents\");\n    if (reactiveCustomComponents) {\n      const getComponentClass = (propertyName) => {\n        switch (propertyName) {\n          case \"filter\":\n            return _getGridOption(gridOptions, \"enableFilterHandlers\") ? FilterDisplayComponentWrapper : FilterComponentWrapper;\n          case \"floatingFilterComponent\":\n            return _getGridOption(gridOptions, \"enableFilterHandlers\") ? FloatingFilterDisplayComponentWrapper : FloatingFilterComponentWrapper;\n          case \"dateComponent\":\n            return DateComponentWrapper;\n          case \"dragAndDropImageComponent\":\n            return DragAndDropImageComponentWrapper;\n          case \"loadingOverlayComponent\":\n            return LoadingOverlayComponentWrapper;\n          case \"noRowsOverlayComponent\":\n            return NoRowsOverlayComponentWrapper;\n          case \"statusPanel\":\n            return StatusPanelComponentWrapper;\n          case \"toolPanel\":\n            return ToolPanelComponentWrapper;\n          case \"menuItem\":\n            return MenuItemComponentWrapper;\n          case \"cellRenderer\":\n            return CellRendererComponentWrapper;\n          case \"innerHeaderComponent\":\n            return InnerHeaderComponentWrapper;\n        }\n      };\n      const ComponentClass = getComponentClass(componentType.name);\n      if (ComponentClass) {\n        return new ComponentClass(UserReactComponent, this.parent, componentType);\n      }\n    } else {\n      switch (componentType.name) {\n        case \"filter\":\n        case \"floatingFilterComponent\":\n        case \"dateComponent\":\n        case \"dragAndDropImageComponent\":\n        case \"loadingOverlayComponent\":\n        case \"noRowsOverlayComponent\":\n        case \"statusPanel\":\n        case \"toolPanel\":\n        case \"menuItem\":\n        case \"cellRenderer\":\n          warnReactiveCustomComponents();\n          break;\n      }\n    }\n    const suppressFallbackMethods = !componentType.cellRenderer && componentType.name !== \"toolPanel\";\n    return new ReactComponent(UserReactComponent, this.parent, componentType, suppressFallbackMethods);\n  }\n};\nvar DetailCellRenderer = forwardRef3((props, ref) => {\n  const beans = useContext15(BeansContext);\n  const { registry, context, gos, rowModel } = beans;\n  const [cssClasses, setCssClasses] = useState16(() => new CssClasses());\n  const [gridCssClasses, setGridCssClasses] = useState16(() => new CssClasses());\n  const [detailGridOptions, setDetailGridOptions] = useState16();\n  const [detailRowData, setDetailRowData] = useState16();\n  const ctrlRef = useRef16();\n  const eGuiRef = useRef16(null);\n  const resizeObserverDestroyFunc = useRef16();\n  const parentModules = useMemo13(\n    () => _getGridRegisteredModules(props.api.getGridId(), detailGridOptions?.rowModelType ?? \"clientSide\"),\n    [props]\n  );\n  const topClassName = useMemo13(() => cssClasses.toString() + \" ag-details-row\", [cssClasses]);\n  const gridClassName = useMemo13(() => gridCssClasses.toString() + \" ag-details-grid\", [gridCssClasses]);\n  if (ref) {\n    useImperativeHandle3(ref, () => ({\n      refresh() {\n        return ctrlRef.current?.refresh() ?? false;\n      }\n    }));\n  }\n  if (props.template) {\n    _warn2(230);\n  }\n  const setRef2 = useCallback15((eRef) => {\n    eGuiRef.current = eRef;\n    if (!eRef || context.isDestroyed()) {\n      ctrlRef.current = context.destroyBean(ctrlRef.current);\n      resizeObserverDestroyFunc.current?.();\n      return;\n    }\n    const compProxy = {\n      toggleCss: (name, on) => setCssClasses((prev) => prev.setClass(name, on)),\n      toggleDetailGridCss: (name, on) => setGridCssClasses((prev) => prev.setClass(name, on)),\n      setDetailGrid: (gridOptions) => setDetailGridOptions(gridOptions),\n      setRowData: (rowData) => setDetailRowData(rowData),\n      getGui: () => eGuiRef.current\n    };\n    const ctrl = registry.createDynamicBean(\"detailCellRendererCtrl\", true);\n    if (!ctrl) {\n      return;\n    }\n    context.createBean(ctrl);\n    ctrl.init(compProxy, props);\n    ctrlRef.current = ctrl;\n    if (gos.get(\"detailRowAutoHeight\")) {\n      const checkRowSizeFunc = () => {\n        if (eGuiRef.current == null) {\n          return;\n        }\n        const clientHeight = eGuiRef.current.clientHeight;\n        if (clientHeight != null && clientHeight > 0) {\n          const updateRowHeightFunc = () => {\n            props.node.setRowHeight(clientHeight);\n            if (_isClientSideRowModel(gos, rowModel) || _isServerSideRowModel(gos, rowModel)) {\n              rowModel.onRowHeightChanged();\n            }\n          };\n          setTimeout(updateRowHeightFunc, 0);\n        }\n      };\n      resizeObserverDestroyFunc.current = _observeResize2(beans, eRef, checkRowSizeFunc);\n      checkRowSizeFunc();\n    }\n  }, []);\n  const registerGridApi = useCallback15((api) => {\n    ctrlRef.current?.registerDetailWithMaster(api);\n  }, []);\n  return /* @__PURE__ */ React19.createElement(\"div\", { className: topClassName, ref: setRef2 }, detailGridOptions && /* @__PURE__ */ React19.createElement(\n    AgGridReactUi,\n    {\n      className: gridClassName,\n      ...detailGridOptions,\n      modules: parentModules,\n      rowData: detailRowData,\n      passGridApi: registerGridApi\n    }\n  ));\n});\nvar ReactFrameworkOverrides = class extends VanillaFrameworkOverrides {\n  constructor(processQueuedUpdates) {\n    super(\"react\");\n    this.processQueuedUpdates = processQueuedUpdates;\n    this.queueUpdates = false;\n    this.renderingEngine = \"react\";\n    this.frameworkComponents = {\n      agGroupCellRenderer: groupCellRenderer_default,\n      agGroupRowRenderer: groupCellRenderer_default,\n      agDetailCellRenderer: DetailCellRenderer\n    };\n    this.wrapIncoming = (callback, source) => {\n      if (source === \"ensureVisible\") {\n        return runWithoutFlushSync(callback);\n      }\n      return callback();\n    };\n  }\n  frameworkComponent(name) {\n    return this.frameworkComponents[name];\n  }\n  isFrameworkComponent(comp) {\n    if (!comp) {\n      return false;\n    }\n    const prototype = comp.prototype;\n    const isJsComp = prototype && \"getGui\" in prototype;\n    return !isJsComp;\n  }\n  getLockOnRefresh() {\n    this.queueUpdates = true;\n  }\n  releaseLockOnRefresh() {\n    this.queueUpdates = false;\n    this.processQueuedUpdates();\n  }\n  shouldQueueUpdates() {\n    return this.queueUpdates;\n  }\n  runWhenReadyAsync() {\n    return isReact19();\n  }\n};\n\n// packages/ag-grid-react/src/agGridReact.tsx\nvar AgGridReact = class extends Component {\n  constructor() {\n    super(...arguments);\n    this.apiListeners = [];\n    this.setGridApi = (api) => {\n      this.api = api;\n      this.apiListeners.forEach((listener) => listener(api));\n    };\n  }\n  registerApiListener(listener) {\n    this.apiListeners.push(listener);\n  }\n  componentWillUnmount() {\n    this.apiListeners.length = 0;\n  }\n  render() {\n    return /* @__PURE__ */ React20.createElement(AgGridReactUi, { ...this.props, passGridApi: this.setGridApi });\n  }\n};\n\n// packages/ag-grid-react/src/shared/customComp/interfaces.ts\nimport { useContext as useContext16 } from \"react\";\nfunction useGridCustomComponent(methods) {\n  const { setMethods } = useContext16(CustomContext);\n  setMethods(methods);\n}\nfunction useGridCellEditor(callbacks) {\n  useGridCustomComponent(callbacks);\n}\nfunction useGridDate(callbacks) {\n  return useGridCustomComponent(callbacks);\n}\nfunction useGridFilter(callbacks) {\n  return useGridCustomComponent(callbacks);\n}\nfunction useGridFilterDisplay(callbacks) {\n  return useGridCustomComponent(callbacks);\n}\nfunction useGridFloatingFilter(callbacks) {\n  useGridCustomComponent(callbacks);\n}\nfunction useGridMenuItem(callbacks) {\n  useGridCustomComponent(callbacks);\n}\nexport {\n  AgGridReact,\n  CustomContext as CustomComponentContext,\n  getInstance,\n  useGridCellEditor,\n  useGridDate,\n  useGridFilter,\n  useGridFilterDisplay,\n  useGridFloatingFilter,\n  useGridMenuItem,\n  warnReactiveCustomComponents\n};\n"],"mappings":"AAAA;AACA,OAAOA,OAAO,IAAIC,SAAS,QAAQ,OAAO;;AAE1C;AACA,OAAOC,OAAO,IACZC,UAAU,IAAIC,WAAW,EACzBC,WAAW,IAAIC,aAAa,EAC5BC,UAAU,IAAIC,YAAY,EAC1BC,SAAS,IAAIC,WAAW,EACxBC,mBAAmB,IAAIC,oBAAoB,EAC3CC,OAAO,IAAIC,SAAS,EACpBC,MAAM,IAAIC,QAAQ,EAClBC,QAAQ,IAAIC,UAAU,QACjB,OAAO;AACd,SACEC,oBAAoB,EACpBC,eAAe,EACfC,yBAAyB,EACzBC,gCAAgC,EAChCC,cAAc,EACdC,yBAAyB,EACzBC,qBAAqB,EACrBC,qBAAqB,EACrBC,cAAc,IAAIC,eAAe,EACjCC,gBAAgB,EAChBC,KAAK,IAAIC,MAAM,QACV,mBAAmB;;AAE1B;AACA,OAAOC,MAAM,IACX7B,UAAU,EACVE,WAAW,EACXE,UAAU,EACVI,mBAAmB,EACnBsB,eAAe,EACfpB,OAAO,EACPE,MAAM,EACNE,QAAQ,QACH,OAAO;AACd,SAASiB,SAAS,QAAQ,mBAAmB;;AAE7C;AACA,OAAOC,KAAK,MAAM,OAAO;AACzB,IAAIC,YAAY,GAAGD,KAAK,CAACE,aAAa,CAAC,CAAC,CAAC,CAAC;AAC1C,IAAIC,iBAAiB,GAAGH,KAAK,CAACE,aAAa,CAAC,SAAS,CAAC;;AAEtD;AACA,IAAIE,UAAU,GAAGA,CAACC,WAAW,EAAEC,OAAO,EAAEC,OAAO,EAAEC,GAAG,KAAK;EACvD,MAAMC,SAAS,GAAG,CAACJ,WAAW,IAAIA,WAAW,CAACK,sBAAsB,IAAIJ,OAAO,CAACK,WAAW,CAAC,CAAC;EAC7F,IAAIF,SAAS,EAAE;IACb;EACF;EACA,MAAMG,OAAO,GAAGP,WAAW,CAACQ,kBAAkB,CAAC,CAAC;EAChD,IAAIC,IAAI;EACR,IAAIC,OAAO;EACX,IAAIC,SAAS,GAAG,KAAK;EACrBJ,OAAO,CAACK,IAAI,CAAEC,CAAC,IAAK;IAClB,IAAIF,SAAS,EAAE;MACbV,OAAO,CAACa,WAAW,CAACD,CAAC,CAAC;MACtB;IACF;IACAJ,IAAI,GAAGI,CAAC;IACRH,OAAO,GAAGD,IAAI,CAACM,MAAM,CAAC,CAAC;IACvBb,OAAO,CAACc,WAAW,CAACN,OAAO,CAAC;IAC5BO,MAAM,CAACd,GAAG,EAAEM,IAAI,CAAC;EACnB,CAAC,CAAC;EACF,OAAO,MAAM;IACXE,SAAS,GAAG,IAAI;IAChB,IAAI,CAACF,IAAI,EAAE;MACT;IACF;IACAC,OAAO,EAAEQ,aAAa,EAAEC,WAAW,CAACT,OAAO,CAAC;IAC5CT,OAAO,CAACa,WAAW,CAACL,IAAI,CAAC;IACzB,IAAIN,GAAG,EAAE;MACPc,MAAM,CAACd,GAAG,EAAE,KAAK,CAAC,CAAC;IACrB;EACF,CAAC;AACH,CAAC;AACD,IAAIc,MAAM,GAAGA,CAACd,GAAG,EAAEiB,KAAK,KAAK;EAC3B,IAAI,CAACjB,GAAG,EAAE;IACR;EACF;EACA,IAAIA,GAAG,YAAYkB,QAAQ,EAAE;IAC3B,MAAMC,WAAW,GAAGnB,GAAG;IACvBmB,WAAW,CAACF,KAAK,CAAC;EACpB,CAAC,MAAM;IACL,MAAMG,MAAM,GAAGpB,GAAG;IAClBoB,MAAM,CAACC,OAAO,GAAGJ,KAAK;EACxB;AACF,CAAC;;AAED;AACA,OAAOK,MAAM,MAAM,OAAO;AAC1B,OAAOC,QAAQ,MAAM,WAAW;AAChC,IAAIC,WAAW,GAAGA,CAAC,GAAGC,IAAI,KAAK;EAC7B,MAAMC,QAAQ,GAAGD,IAAI,CAACE,MAAM,CAAEC,CAAC,IAAKA,CAAC,IAAI,IAAI,IAAIA,CAAC,KAAK,EAAE,CAAC;EAC1D,OAAOF,QAAQ,CAACG,IAAI,CAAC,GAAG,CAAC;AAC3B,CAAC;AACD,IAAIC,UAAU,GAAG,MAAMC,WAAW,CAAC;EACjCC,WAAWA,CAAC,GAAGC,cAAc,EAAE;IAC7B,IAAI,CAACC,UAAU,GAAG,CAAC,CAAC;IACpBD,cAAc,CAACE,OAAO,CAAEC,SAAS,IAAK;MACpC,IAAI,CAACF,UAAU,CAACE,SAAS,CAAC,GAAG,IAAI;IACnC,CAAC,CAAC;EACJ;EACAC,QAAQA,CAACD,SAAS,EAAEE,EAAE,EAAE;IACtB,MAAMC,iBAAiB,GAAG,CAAC,CAAC,IAAI,CAACL,UAAU,CAACE,SAAS,CAAC,IAAIE,EAAE;IAC5D,IAAIC,iBAAiB,EAAE;MACrB,OAAO,IAAI;IACb;IACA,MAAMC,GAAG,GAAG,IAAIT,WAAW,CAAC,CAAC;IAC7BS,GAAG,CAACN,UAAU,GAAG;MAAE,GAAG,IAAI,CAACA;IAAW,CAAC;IACvCM,GAAG,CAACN,UAAU,CAACE,SAAS,CAAC,GAAGE,EAAE;IAC9B,OAAOE,GAAG;EACZ;EACAC,QAAQA,CAAA,EAAG;IACT,MAAMD,GAAG,GAAGE,MAAM,CAACC,IAAI,CAAC,IAAI,CAACT,UAAU,CAAC,CAACP,MAAM,CAAEiB,GAAG,IAAK,IAAI,CAACV,UAAU,CAACU,GAAG,CAAC,CAAC,CAACf,IAAI,CAAC,GAAG,CAAC;IACxF,OAAOW,GAAG;EACZ;AACF,CAAC;AACD,IAAIK,oBAAoB,GAAIC,UAAU,IAAK;EACzC,MAAMC,SAAS,GAAGA,CAAA,KAAM,OAAOC,MAAM,KAAK,UAAU,IAAIA,MAAM,CAACC,GAAG;EAClE,MAAMC,WAAW,GAAGA,CAAA,KAAMH,SAAS,CAAC,CAAC,GAAGC,MAAM,CAACC,GAAG,CAAC,YAAY,CAAC,GAAG,KAAK;EACxE,OAAO,OAAOH,UAAU,KAAK,UAAU,IAAI,EAAEA,UAAU,CAACK,SAAS,IAAIL,UAAU,CAACK,SAAS,CAACC,gBAAgB,CAAC,IAAI,OAAON,UAAU,KAAK,QAAQ,IAAIA,UAAU,CAACO,QAAQ,KAAKH,WAAW,CAAC,CAAC;AACxL,CAAC;AACD,IAAII,YAAY,GAAGhC,MAAM,CAACiC,OAAO,EAAEC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAChD,IAAIC,qBAAqB,GAAGH,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,IAAI;AAC1E,SAASI,SAASA,CAAA,EAAG;EACnB,OAAOJ,YAAY,KAAK,IAAI;AAC9B;AACA,IAAIK,gBAAgB,GAAG,KAAK;AAC5B,SAASC,mBAAmBA,CAACC,IAAI,EAAE;EACjC,IAAI,CAACF,gBAAgB,EAAE;IACrBG,UAAU,CAAC,MAAMH,gBAAgB,GAAG,KAAK,EAAE,CAAC,CAAC;EAC/C;EACAA,gBAAgB,GAAG,IAAI;EACvB,OAAOE,IAAI,CAAC,CAAC;AACf;AACA,IAAIE,WAAW,GAAGA,CAACC,YAAY,EAAEC,EAAE,KAAK;EACtC,IAAI,CAACR,qBAAqB,IAAIO,YAAY,IAAI,CAACL,gBAAgB,EAAE;IAC/DpC,QAAQ,CAAC2C,SAAS,CAACD,EAAE,CAAC;EACxB,CAAC,MAAM;IACLA,EAAE,CAAC,CAAC;EACN;AACF,CAAC;AACD,IAAIE,iBAAiB,GAAIF,EAAE,IAAK;EAC9B,IAAI,CAACR,qBAAqB,EAAE;IAC1BnC,MAAM,CAAC8C,eAAe,CAACH,EAAE,CAAC;EAC5B,CAAC,MAAM;IACLA,EAAE,CAAC,CAAC;EACN;AACF,CAAC;AACD,SAASI,sBAAsBA,CAACC,SAAS,EAAEC,WAAW,EAAEC,eAAe,EAAE;EACvE,IAAIlD,MAAM,CAACmD,oBAAoB,EAAE;IAC/B,OAAOnD,MAAM,CAACmD,oBAAoB,CAACH,SAAS,EAAEC,WAAW,CAAC;EAC5D,CAAC,MAAM;IACL,OAAOC,eAAe;EACxB;AACF;AACA,SAASE,uBAAuBA,CAACC,IAAI,EAAEC,IAAI,EAAEC,aAAa,EAAE;EAC1D,IAAID,IAAI,IAAI,IAAI,IAAID,IAAI,IAAI,IAAI,EAAE;IAChC,OAAOC,IAAI;EACb;EACA,IAAID,IAAI,KAAKC,IAAI,IAAIA,IAAI,CAACE,MAAM,KAAK,CAAC,IAAIH,IAAI,CAACG,MAAM,KAAK,CAAC,EAAE;IAC3D,OAAOH,IAAI;EACb;EACA,IAAIE,aAAa,IAAIF,IAAI,CAACG,MAAM,KAAK,CAAC,IAAIF,IAAI,CAACE,MAAM,GAAG,CAAC,IAAIH,IAAI,CAACG,MAAM,GAAG,CAAC,IAAIF,IAAI,CAACE,MAAM,KAAK,CAAC,EAAE;IACjG,OAAOF,IAAI;EACb;EACA,MAAMG,SAAS,GAAG,EAAE;EACpB,MAAMC,SAAS,GAAG,EAAE;EACpB,MAAMC,OAAO,GAAG,eAAgB,IAAIC,GAAG,CAAC,CAAC;EACzC,MAAMC,OAAO,GAAG,eAAgB,IAAID,GAAG,CAAC,CAAC;EACzC,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,IAAI,CAACE,MAAM,EAAEM,CAAC,EAAE,EAAE;IACpC,MAAM1E,CAAC,GAAGkE,IAAI,CAACQ,CAAC,CAAC;IACjBD,OAAO,CAACE,GAAG,CAAC3E,CAAC,CAAC4E,UAAU,EAAE5E,CAAC,CAAC;EAC9B;EACA,KAAK,IAAI0E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,IAAI,CAACG,MAAM,EAAEM,CAAC,EAAE,EAAE;IACpC,MAAM1E,CAAC,GAAGiE,IAAI,CAACS,CAAC,CAAC;IACjBH,OAAO,CAACI,GAAG,CAAC3E,CAAC,CAAC4E,UAAU,EAAE5E,CAAC,CAAC;IAC5B,IAAIyE,OAAO,CAACI,GAAG,CAAC7E,CAAC,CAAC4E,UAAU,CAAC,EAAE;MAC7BP,SAAS,CAACS,IAAI,CAAC9E,CAAC,CAAC;IACnB;EACF;EACA,KAAK,IAAI0E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,IAAI,CAACE,MAAM,EAAEM,CAAC,EAAE,EAAE;IACpC,MAAM1E,CAAC,GAAGkE,IAAI,CAACQ,CAAC,CAAC;IACjB,MAAME,UAAU,GAAG5E,CAAC,CAAC4E,UAAU;IAC/B,IAAI,CAACL,OAAO,CAACM,GAAG,CAACD,UAAU,CAAC,EAAE;MAC5BN,SAAS,CAACQ,IAAI,CAAC9E,CAAC,CAAC;IACnB;EACF;EACA,IAAIqE,SAAS,CAACD,MAAM,KAAKH,IAAI,CAACG,MAAM,IAAIE,SAAS,CAACF,MAAM,KAAK,CAAC,EAAE;IAC9D,OAAOH,IAAI;EACb;EACA,IAAII,SAAS,CAACD,MAAM,KAAK,CAAC,IAAIE,SAAS,CAACF,MAAM,KAAKF,IAAI,CAACE,MAAM,EAAE;IAC9D,OAAOF,IAAI;EACb;EACA,IAAIG,SAAS,CAACD,MAAM,KAAK,CAAC,EAAE;IAC1B,OAAOE,SAAS;EAClB;EACA,IAAIA,SAAS,CAACF,MAAM,KAAK,CAAC,EAAE;IAC1B,OAAOC,SAAS;EAClB;EACA,OAAO,CAAC,GAAGA,SAAS,EAAE,GAAGC,SAAS,CAAC;AACrC;;AAEA;AACA,IAAIS,iBAAiB,GAAGjI,UAAU,CAAC,CAACkI,KAAK,EAAE1F,GAAG,KAAK;EACjD,MAAM;IAAE2F,QAAQ;IAAE7F;EAAQ,CAAC,GAAGlC,UAAU,CAAC6B,YAAY,CAAC;EACtD,MAAMmG,IAAI,GAAGxH,MAAM,CAAC,IAAI,CAAC;EACzB,MAAMyH,SAAS,GAAGzH,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM0H,YAAY,GAAG1H,MAAM,CAAC,IAAI,CAAC;EACjC,MAAM2H,YAAY,GAAG3H,MAAM,CAAC,IAAI,CAAC;EACjC,MAAM4H,cAAc,GAAG5H,MAAM,CAAC,IAAI,CAAC;EACnC,MAAM6H,OAAO,GAAG7H,MAAM,CAAC,CAAC;EACxB,MAAM,CAAC8H,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG7H,QAAQ,CAAC,CAAC;EAC1D,MAAM,CAAC8H,UAAU,EAAEC,aAAa,CAAC,GAAG/H,QAAQ,CAAC,CAAC;EAC9C,MAAM,CAAC2C,KAAK,EAAEqF,QAAQ,CAAC,GAAGhI,QAAQ,CAAC,CAAC;EACpC,MAAM,CAACiI,UAAU,EAAEC,aAAa,CAAC,GAAGlI,QAAQ,CAAC,MAAM,IAAIwD,UAAU,CAAC,CAAC,CAAC;EACpE,MAAM,CAAC2E,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGpI,QAAQ,CAAC,MAAM,IAAIwD,UAAU,CAAC,WAAW,CAAC,CAAC;EAC/F,MAAM,CAAC6E,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGtI,QAAQ,CAAC,MAAM,IAAIwD,UAAU,CAAC,WAAW,CAAC,CAAC;EACnG,MAAM,CAAC+E,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGxI,QAAQ,CAAC,MAAM,IAAIwD,UAAU,CAAC,cAAc,CAAC,CAAC;EAClG9D,mBAAmB,CAACgC,GAAG,EAAE,MAAM;IAC7B,OAAO;MACL;MACA+G,OAAOA,CAAA,EAAG;QACR,OAAO,KAAK;MACd;IACF,CAAC;EACH,CAAC,CAAC;EACFzH,eAAe,CAAC,MAAM;IACpB,OAAOM,UAAU,CAACsG,gBAAgB,EAAEpG,OAAO,EAAE+F,SAAS,CAACxE,OAAO,CAAC;EACjE,CAAC,EAAE,CAAC6E,gBAAgB,CAAC,CAAC;EACtB,MAAMc,OAAO,GAAGtJ,WAAW,CAAEuJ,IAAI,IAAK;IACpCrB,IAAI,CAACvE,OAAO,GAAG4F,IAAI;IACnB,IAAI,CAACA,IAAI,IAAInH,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MAClC8F,OAAO,CAAC5E,OAAO,GAAGvB,OAAO,CAACa,WAAW,CAACsF,OAAO,CAAC5E,OAAO,CAAC;MACtD;IACF;IACA,MAAM6F,SAAS,GAAG;MAChBC,gBAAgB,EAAEA,CAACC,OAAO,EAAEC,cAAc,KAAK;QAC7ClB,mBAAmB,CAACiB,OAAO,CAAC;QAC5Bd,QAAQ,CAACe,cAAc,CAAC;MAC1B,CAAC;MACDhB,aAAa,EAAGiB,KAAK,IAAKjB,aAAa,CAACiB,KAAK,CAAC;MAC9CC,SAAS,EAAEA,CAACC,IAAI,EAAElF,EAAE,KAAKkE,aAAa,CAAE7B,IAAI,IAAKA,IAAI,CAACtC,QAAQ,CAACmF,IAAI,EAAElF,EAAE,CAAC,CAAC;MACzEmF,sBAAsB,EAAGC,SAAS,IAAKd,uBAAuB,CAAEjC,IAAI,IAAKA,IAAI,CAACtC,QAAQ,CAAC,WAAW,EAAE,CAACqF,SAAS,CAAC,CAAC;MAChHC,oBAAoB,EAAGD,SAAS,IAAKhB,qBAAqB,CAAE/B,IAAI,IAAKA,IAAI,CAACtC,QAAQ,CAAC,WAAW,EAAE,CAACqF,SAAS,CAAC,CAAC;MAC5GE,kBAAkB,EAAGC,OAAO,IAAKf,qBAAqB,CAAEnC,IAAI,IAAKA,IAAI,CAACtC,QAAQ,CAAC,cAAc,EAAE,CAACwF,OAAO,CAAC,CAAC;MACzGC,kBAAkB,EAAGC,GAAG,IAAKjB,qBAAqB,CAAEnC,IAAI,IAAKA,IAAI,CAACtC,QAAQ,CAAC,2BAA2B,EAAE0F,GAAG,CAAC;IAC9G,CAAC;IACD,MAAMC,qBAAqB,GAAGrC,QAAQ,CAACsC,iBAAiB,CAAC,uBAAuB,EAAE,IAAI,CAAC;IACvF,IAAID,qBAAqB,EAAE;MACzB/B,OAAO,CAAC5E,OAAO,GAAGvB,OAAO,CAACoI,UAAU,CAACF,qBAAqB,CAAC;MAC3D/B,OAAO,CAAC5E,OAAO,CAAC8G,IAAI,CAClBjB,SAAS,EACTD,IAAI,EACJnB,YAAY,CAACzE,OAAO,EACpB0E,YAAY,CAAC1E,OAAO,EACpB2E,cAAc,CAAC3E,OAAO,EACtBoE,iBAAiB,EACjBC,KACF,CAAC;IACH;EACF,CAAC,EAAE,EAAE,CAAC;EACN,MAAMtD,SAAS,GAAGlE,OAAO,CAAC,MAAM,mBAAmBqI,UAAU,CAAC9D,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC8D,UAAU,CAAC,CAAC;EACzF,MAAM6B,iBAAiB,GAAGlK,OAAO,CAAC,MAAM,qBAAqBuI,kBAAkB,CAAChE,QAAQ,CAAC,CAAC,EAAE,EAAE,CAACgE,kBAAkB,CAAC,CAAC;EACnH,MAAM4B,mBAAmB,GAAGnK,OAAO,CACjC,MAAM,uBAAuByI,oBAAoB,CAAClE,QAAQ,CAAC,CAAC,EAAE,EAC9D,CAACkE,oBAAoB,CACvB,CAAC;EACD,MAAM2B,iBAAiB,GAAGpK,OAAO,CAAC,MAAM,qBAAqB2I,kBAAkB,CAACpE,QAAQ,CAAC,CAAC,EAAE,EAAE,CAACoE,kBAAkB,CAAC,CAAC;EACnH,MAAM0B,aAAa,GAAGrC,gBAAgB,EAAEhG,sBAAsB;EAC9D,MAAMsI,UAAU,GAAGD,aAAa,GAAGrC,gBAAgB,CAACuC,cAAc,GAAG,KAAK,CAAC;EAC3E,MAAMC,QAAQ,GAAGxC,gBAAgB,IAAI,IAAI,IAAIjF,KAAK,IAAI,IAAI;EAC1D,MAAM0H,YAAY,GAAGpJ,SAAS,CAAC0B,KAAK,CAAC;EACrC,OAAO,eAAgB5B,MAAM,CAACuJ,aAAa,CACzC,MAAM,EACN;IACExG,SAAS;IACTpC,GAAG,EAAEgH,OAAO;IACZ,IAAG,CAACtB,KAAK,CAACmD,MAAM,GAAG;MAAEC,IAAI,EAAE7C,OAAO,CAAC5E,OAAO,EAAE0H,eAAe,CAAC;IAAE,CAAC,GAAG,CAAC,CAAC;EACtE,CAAC,EACD,eAAgB1J,MAAM,CAACuJ,aAAa,CAAC,MAAM,EAAE;IAAExG,SAAS,EAAEgG,iBAAiB;IAAEpI,GAAG,EAAE+F;EAAa,CAAC,CAAC,EACjG,eAAgB1G,MAAM,CAACuJ,aAAa,CAAC,MAAM,EAAE;IAAExG,SAAS,EAAEiG,mBAAmB;IAAErI,GAAG,EAAEgG;EAAe,CAAC,CAAC,EACrG,eAAgB3G,MAAM,CAACuJ,aAAa,CAAC,MAAM,EAAE;IAAExG,SAAS,EAAEkG,iBAAiB;IAAEtI,GAAG,EAAE8F;EAAa,CAAC,CAAC,EACjG,eAAgBzG,MAAM,CAACuJ,aAAa,CAAC,MAAM,EAAE;IAAExG,SAAS,EAAE,gBAAgB;IAAEpC,GAAG,EAAE6F;EAAU,CAAC,EAAE6C,QAAQ,GAAGC,YAAY,GAAGJ,aAAa,GAAG,eAAgBlJ,MAAM,CAACuJ,aAAa,CAACJ,UAAU,EAAE;IAAE,GAAGtC,gBAAgB,CAAC8C;EAAO,CAAC,CAAC,GAAG,IAAI,CAAC,EAChO,eAAgB3J,MAAM,CAACuJ,aAAa,CAAC,MAAM,EAAE;IAAExG,SAAS,EAAE;EAAuB,CAAC,EAAEgE,UAAU,CAChG,CAAC;AACH,CAAC,CAAC;AACF,IAAI6C,yBAAyB,GAAGxD,iBAAiB;;AAEjD;AACA,SAASyD,SAAS,IAAIC,UAAU,QAAQ,mBAAmB;;AAE3D;AACA,OAAOC,MAAM,IAAIC,IAAI,EAAEvL,SAAS,EAAEQ,QAAQ,IAAIgL,SAAS,QAAQ,OAAO;;AAEtE;AACA,SAAS5J,aAAa,QAAQ,OAAO;AACrC,IAAI6J,aAAa,GAAG7J,aAAa,CAAC;EAChC8J,UAAU,EAAEA,CAAA,KAAM,CAClB;AACF,CAAC,CAAC;;AAEF;AACA,IAAIC,iBAAiB,GAAIT,MAAM,IAAK;EAClC,MAAM;IAAEU,YAAY;IAAEC,iBAAiB;IAAEC,oBAAoB;IAAEJ;EAAW,CAAC,GAAGR,MAAM;EACpF,MAAM,CAAC;IAAEpG,GAAG;IAAE,GAAG8C;EAAM,CAAC,EAAEmE,QAAQ,CAAC,GAAGP,SAAS,CAACI,YAAY,CAAC;EAC7D5L,SAAS,CAAC,MAAM;IACd6L,iBAAiB,CAAEG,QAAQ,IAAKD,QAAQ,CAACC,QAAQ,CAAC,CAAC;EACrD,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,eAAgBV,MAAM,CAACR,aAAa,CAACW,aAAa,CAACQ,QAAQ,EAAE;IAAE9I,KAAK,EAAE;MAAEuI;IAAW;EAAE,CAAC,EAAE,eAAgBJ,MAAM,CAACR,aAAa,CAACgB,oBAAoB,EAAE;IAAEhH,GAAG;IAAE,GAAG8C;EAAM,CAAC,CAAC,CAAC;AAC/K,CAAC;AACD,IAAIsE,yBAAyB,GAAGX,IAAI,CAACI,iBAAiB,CAAC;;AAEvD;AACA,SAASb,aAAa,QAAQ,OAAO;AACrC,SAASqB,YAAY,QAAQ,WAAW;AACxC,SAASf,SAAS,QAAQ,mBAAmB;;AAE7C;AACA,IAAIgB,OAAO,GAAG,CAAC;AACf,SAASC,cAAcA,CAAA,EAAG;EACxB,OAAO,eAAe,EAAED,OAAO,EAAE;AACnC;;AAEA;AACA,IAAIE,cAAc,GAAG,MAAM;EACzBpI,WAAWA,CAACqI,cAAc,EAAEC,aAAa,EAAEC,aAAa,EAAEC,uBAAuB,EAAE;IACjF,IAAI,CAACC,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,SAAS,GAAG,IAAI;IACrB,IAAI,CAACL,cAAc,GAAGA,cAAc;IACpC,IAAI,CAACC,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACC,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACC,uBAAuB,GAAG,CAAC,CAACA,uBAAuB;IACxD,IAAI,CAACG,kBAAkB,GAAG,IAAI,CAACC,WAAW,CAAC,IAAI,CAACP,cAAc,CAAC;IAC/D,IAAI,CAACzH,GAAG,GAAGuH,cAAc,CAAC,CAAC;IAC3B,IAAI,CAACU,SAAS,GAAGV,cAAc,CAAC,CAAC;IACjC,IAAI,CAACW,eAAe,GAAG,IAAI,CAACC,oBAAoB,CAAC,CAAC,GAAG7B,SAAS,CAAC8B,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI9B,SAAS,CAAE8B,OAAO,IAAK;MACzG,IAAI,CAACC,sBAAsB,GAAGD,OAAO;IACvC,CAAC,CAAC;EACJ;EACApK,MAAMA,CAAA,EAAG;IACP,OAAO,IAAI,CAACsK,cAAc;EAC5B;EACA;EACAC,cAAcA,CAAA,EAAG;IACf,MAAMC,UAAU,GAAG,IAAI,CAACF,cAAc,CAACE,UAAU;IACjD,OAAOA,UAAU;EACnB;EACAC,OAAOA,CAAA,EAAG;IACR,IAAI,IAAI,CAACC,iBAAiB,IAAI,OAAO,IAAI,CAACA,iBAAiB,CAACD,OAAO,IAAI,UAAU,EAAE;MACjF,IAAI,CAACC,iBAAiB,CAACD,OAAO,CAAC,CAAC;IAClC;IACA,MAAMZ,MAAM,GAAG,IAAI,CAACA,MAAM;IAC1B,IAAIA,MAAM,EAAE;MACV,IAAI,CAACH,aAAa,CAACiB,aAAa,CAACd,MAAM,CAAC;IAC1C;EACF;EACAe,mBAAmBA,CAACxC,MAAM,EAAE;IAC1B,MAAMyC,wBAAwB,GAAG,IAAI,CAACnB,aAAa,CAACoB,2BAA2B,CAAC,CAAC;IACjF,MAAMR,cAAc,GAAGS,QAAQ,CAAC/C,aAAa,CAAC6C,wBAAwB,IAAI,KAAK,CAAC;IAChFP,cAAc,CAACU,SAAS,CAAC7D,GAAG,CAAC,oBAAoB,CAAC;IAClDiB,MAAM,CAAC6C,cAAc,GAAGX,cAAc;IACtC,OAAOA,cAAc;EACvB;EACAY,0BAA0BA,CAAA,EAAG;IAC3B,OAAO,IAAI,CAACZ,cAAc,CAACa,iBAAiB,GAAG,CAAC,IAAI,IAAI,CAACb,cAAc,CAACc,UAAU,CAAClH,MAAM,GAAG,CAAC;EAC/F;EACAmH,6BAA6BA,CAAA,EAAG;IAC9B,OAAO,IAAI,CAACX,iBAAiB;EAC/B;EACAP,oBAAoBA,CAAA,EAAG;IACrB,OAAO,IAAI,CAACJ,kBAAkB;EAChC;EACAuB,qBAAqBA,CAAA,EAAG;IACtB,OAAO,IAAI,CAAC7B,cAAc,CAAC7C,IAAI;EACjC;EACAtE,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACH,SAAS,CAAC,CAAC,GAAGC,MAAM,CAACC,GAAG,CAAC,YAAY,CAAC,GAAG,KAAK;EAC5D;EACAF,SAASA,CAAA,EAAG;IACV,OAAO,OAAOC,MAAM,KAAK,UAAU,IAAIA,MAAM,CAACC,GAAG;EACnD;EACA2H,WAAWA,CAAC9H,UAAU,EAAE;IACtB,OAAO,OAAOA,UAAU,KAAK,UAAU,IAAI,EAAEA,UAAU,CAACK,SAAS,IAAIL,UAAU,CAACK,SAAS,CAACC,gBAAgB,CAAC,IAAI,OAAON,UAAU,KAAK,QAAQ,IAAIA,UAAU,CAACO,QAAQ,KAAK,IAAI,CAACH,WAAW,CAAC,CAAC;EAC7L;EACAiJ,SAASA,CAAC3E,IAAI,EAAE;IACd,MAAM4E,0BAA0B,GAAG,IAAI,CAACH,6BAA6B,CAAC,CAAC;IACvE,OAAO,CAAC,CAACG,0BAA0B,IAAIA,0BAA0B,CAAC5E,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC6E,uBAAuB,CAAC7E,IAAI,CAAC;EACvH;EACA8E,UAAUA,CAAC9E,IAAI,EAAE+E,IAAI,EAAE;IACrB,MAAMH,0BAA0B,GAAG,IAAI,CAACH,6BAA6B,CAAC,CAAC;IACvE,IAAI,IAAI,CAAClB,oBAAoB,CAAC,CAAC,EAAE;MAC/B,OAAO,IAAI,CAACyB,cAAc,CAAChF,IAAI,EAAE,CAAC,CAAC+E,IAAI,IAAIA,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACpE,CAAC,MAAM,IAAI,CAACH,0BAA0B,EAAE;MACtCtI,UAAU,CAAC,MAAM,IAAI,CAACwI,UAAU,CAAC9E,IAAI,EAAE+E,IAAI,CAAC,CAAC;MAC7C;IACF;IACA,MAAME,MAAM,GAAGL,0BAA0B,CAAC5E,IAAI,CAAC;IAC/C,IAAIiF,MAAM,EAAE;MACV,OAAOA,MAAM,CAACC,KAAK,CAACN,0BAA0B,EAAEG,IAAI,CAAC;IACvD;IACA,IAAI,IAAI,CAACF,uBAAuB,CAAC7E,IAAI,CAAC,EAAE;MACtC,OAAO,IAAI,CAACgF,cAAc,CAAChF,IAAI,EAAE,CAAC,CAAC+E,IAAI,IAAIA,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACpE;EACF;EACAI,SAASA,CAACnF,IAAI,EAAEoF,QAAQ,EAAE;IACxB,IAAI,CAACpF,IAAI,CAAC,GAAGoF,QAAQ;EACvB;EACAzE,IAAIA,CAACa,MAAM,EAAE;IACX,IAAI,CAACkC,cAAc,GAAG,IAAI,CAACM,mBAAmB,CAACxC,MAAM,CAAC;IACtD,IAAI,CAAC6D,oBAAoB,CAAC7D,MAAM,CAAC;IACjC,OAAO,IAAIE,SAAS,CAAE8B,OAAO,IAAK,IAAI,CAAC8B,oBAAoB,CAAC9B,OAAO,CAAC,CAAC;EACvE;EACA6B,oBAAoBA,CAAC7D,MAAM,EAAE;IAC3B,IAAI,CAAC,IAAI,CAAC+B,oBAAoB,CAAC,CAAC,EAAE;MAChC,IAAI,CAAC/K,GAAG,GAAI+M,OAAO,IAAK;QACtB,IAAI,CAACzB,iBAAiB,GAAGyB,OAAO;QAChC,IAAI,CAAC9B,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,CAACA,sBAAsB,GAAG,KAAK,CAAC;MACtC,CAAC;MACDjC,MAAM,CAAChJ,GAAG,GAAG,IAAI,CAACA,GAAG;IACvB;IACA,IAAI,CAACgN,YAAY,GAAG,IAAI,CAACpE,aAAa,CAAC,IAAI,CAACyB,cAAc,EAAE;MAAE,GAAGrB,MAAM;MAAEpG,GAAG,EAAE,IAAI,CAACA;IAAI,CAAC,CAAC;IACzF,IAAI,CAAC6H,MAAM,GAAGR,YAAY,CACxB,IAAI,CAAC+C,YAAY,EACjB,IAAI,CAAC9B,cAAc,EACnB,IAAI,CAACL;IACL;IACF,CAAC;EACH;EACAjC,aAAaA,CAACyB,cAAc,EAAE3E,KAAK,EAAE;IACnC,OAAOkD,aAAa,CAACyB,cAAc,EAAE3E,KAAK,CAAC;EAC7C;EACAoH,oBAAoBA,CAAC9B,OAAO,EAAE;IAC5B,IAAI,CAACV,aAAa,CAAC2C,gBAAgB,CAAC,IAAI,CAACxC,MAAM,EAAE,IAAI,EAAEO,OAAO,CAAC;EACjE;EACAkC,QAAQA,CAAA,EAAG;IACT,OAAO,IAAI,CAACnC,oBAAoB,CAAC,CAAC,IAAI,IAAI,CAACe,0BAA0B,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAACf,oBAAoB,CAAC,CAAC,IAAI,IAAI,CAACkB,6BAA6B,CAAC,CAAC,CAAC;EACrJ;EACA;AACF;AACA;AACA;AACA;AACA;AACA;EACEkB,gBAAgBA,CAACZ,IAAI,EAAE;IACrB,IAAI,CAAC7B,SAAS,GAAG,IAAI,CAACD,MAAM;IAC5B,IAAI,CAACoC,oBAAoB,CAACN,IAAI,CAAC;IAC/B,IAAI,CAACjC,aAAa,CAAC8C,iBAAiB,CAAC,IAAI,CAAC1C,SAAS,EAAE,IAAI,CAACD,MAAM,CAAC;EACnE;EACA+B,cAAcA,CAAChF,IAAI,EAAEwB,MAAM,EAAE;IAC3B,MAAMyD,MAAM,GAAG,IAAI,CAAC,GAAGjF,IAAI,WAAW,CAAC;IACvC,IAAI,CAAC,IAAI,CAACgD,uBAAuB,IAAI,CAAC,CAACiC,MAAM,EAAE;MAC7C,OAAOA,MAAM,CAACY,IAAI,CAAC,IAAI,CAAC,CAACrE,MAAM,CAAC;IAClC;EACF;EACAqD,uBAAuBA,CAAC7E,IAAI,EAAE;IAC5B,IAAI,IAAI,CAACgD,uBAAuB,EAAE;MAChC,OAAO,KAAK;IACd;IACA,MAAMiC,MAAM,GAAG,IAAI,CAAC,GAAGjF,IAAI,WAAW,CAAC;IACvC,OAAO,CAAC,CAACiF,MAAM;EACjB;AACF,CAAC;;AAED;AACA,SAASa,kBAAkBA,CAACC,mBAAmB,EAAEC,eAAe,EAAEC,SAAS,EAAE;EAC3EF,mBAAmB,CAACpL,OAAO,CAAEuL,UAAU,IAAK;IAC1C,MAAMC,cAAc,GAAGH,eAAe,CAACE,UAAU,CAAC;IAClD,IAAIC,cAAc,EAAE;MAClBF,SAAS,CAACC,UAAU,CAAC,GAAGC,cAAc;IACxC;EACF,CAAC,CAAC;AACJ;AACA,IAAIC,sBAAsB,GAAG,cAAcxD,cAAc,CAAC;EACxDpI,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAG6L,SAAS,CAAC;IACnB,IAAI,CAACC,mBAAmB,GAAG,IAAI3E,UAAU,CAAE6B,OAAO,IAAK;MACrD,IAAI,CAAC+C,qBAAqB,GAAG/C,OAAO;IACtC,CAAC,CAAC;IACF,IAAI,CAACgD,gBAAgB,GAAGhE,yBAAyB;EACnD;EACA7B,IAAIA,CAACa,MAAM,EAAE;IACX,IAAI,CAACiF,YAAY,GAAGjF,MAAM;IAC1B,OAAO,KAAK,CAACb,IAAI,CAAC,IAAI,CAAC+F,QAAQ,CAAC,CAAC,CAAC;EACpC;EACAvB,SAASA,CAAA,EAAG,CACZ;EACAwB,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACrD,eAAe,CAACrK,IAAI,CAAC,MAAM,IAAI,CAAC6K,iBAAiB,CAAC;EAChE;EACAW,6BAA6BA,CAAA,EAAG;IAC9B,OAAO,IAAI;EACb;EACArD,aAAaA,CAACyB,cAAc,EAAE3E,KAAK,EAAE;IACnC,OAAO,KAAK,CAACkD,aAAa,CAAC,IAAI,CAACoF,gBAAgB,EAAE;MAChDtE,YAAY,EAAEhE,KAAK;MACnBkE,oBAAoB,EAAES,cAAc;MACpCb,UAAU,EAAG4E,OAAO,IAAK,IAAI,CAAC5E,UAAU,CAAC4E,OAAO,CAAC;MACjDzE,iBAAiB,EAAGiD,QAAQ,IAAK;QAC/B,IAAI,CAACyB,cAAc,GAAG,MAAM;UAC1BzB,QAAQ,CAAC,IAAI,CAACsB,QAAQ,CAAC,CAAC,CAAC;UACzB,OAAO,IAAI/E,UAAU,CAAE6B,OAAO,IAAK;YACjClH,UAAU,CAAC,MAAM;cACfkH,OAAO,CAAC,CAAC;YACX,CAAC,CAAC;UACJ,CAAC,CAAC;QACJ,CAAC;QACD,IAAI,CAAC+C,qBAAqB,CAAC,CAAC;MAC9B;IACF,CAAC,CAAC;EACJ;EACAvE,UAAUA,CAAC4E,OAAO,EAAE;IAClB,IAAI,CAACZ,eAAe,GAAGY,OAAO;IAC9Bd,kBAAkB,CAAC,IAAI,CAACgB,kBAAkB,CAAC,CAAC,EAAE,IAAI,CAACd,eAAe,EAAE,IAAI,CAAC;EAC3E;EACAc,kBAAkBA,CAAA,EAAG;IACnB,OAAO,EAAE;EACX;EACAJ,QAAQA,CAAA,EAAG;IACT,OAAO;MACL,GAAG,IAAI,CAACD,YAAY;MACpBrL,GAAG,EAAE,IAAI,CAACA,GAAG;MACb5C,GAAG,EAAE,IAAI,CAACA;IACZ,CAAC;EACH;EACAuO,YAAYA,CAAA,EAAG;IACb,IAAI,IAAI,CAACF,cAAc,EAAE;MACvB,OAAO,IAAI,CAACA,cAAc,CAAC,CAAC;IAC9B;IACA,OAAO,IAAIlF,UAAU,CAClB6B,OAAO,IAAK,IAAI,CAAC8C,mBAAmB,CAACrN,IAAI,CAAC,MAAM;MAC/C,IAAI,CAAC4N,cAAc,CAAC,CAAC,CAAC5N,IAAI,CAAC,MAAMuK,OAAO,CAAC,CAAC,CAAC;IAC7C,CAAC,CACH,CAAC;EACH;AACF,CAAC;;AAED;AACA,IAAIwD,4BAA4B,GAAG,cAAcZ,sBAAsB,CAAC;EACtE7G,OAAOA,CAACiC,MAAM,EAAE;IACd,IAAI,CAACiF,YAAY,GAAGjF,MAAM;IAC1B,IAAI,CAACuF,YAAY,CAAC,CAAC;IACnB,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA,IAAIE,oBAAoB,GAAG,cAAcb,sBAAsB,CAAC;EAC9D5L,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAG6L,SAAS,CAAC;IACnB,IAAI,CAACa,IAAI,GAAG,IAAI;IAChB,IAAI,CAACC,YAAY,GAAID,IAAI,IAAK,IAAI,CAACE,UAAU,CAACF,IAAI,CAAC;EACrD;EACAG,OAAOA,CAAA,EAAG;IACR,OAAO,IAAI,CAACH,IAAI;EAClB;EACAI,OAAOA,CAACJ,IAAI,EAAE;IACZ,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACH,YAAY,CAAC,CAAC;EACrB;EACAxH,OAAOA,CAACiC,MAAM,EAAE;IACd,IAAI,CAACiF,YAAY,GAAGjF,MAAM;IAC1B,IAAI,CAACuF,YAAY,CAAC,CAAC;EACrB;EACAD,kBAAkBA,CAAA,EAAG;IACnB,OAAO,CAAC,kBAAkB,EAAE,qBAAqB,EAAE,mBAAmB,EAAE,aAAa,CAAC;EACxF;EACAM,UAAUA,CAACF,IAAI,EAAE;IACf,IAAI,CAACI,OAAO,CAACJ,IAAI,CAAC;IAClB,IAAI,CAACT,YAAY,CAACc,aAAa,CAAC,CAAC;EACnC;EACAb,QAAQA,CAAA,EAAG;IACT,MAAMxI,KAAK,GAAG,KAAK,CAACwI,QAAQ,CAAC,CAAC;IAC9BxI,KAAK,CAACgJ,IAAI,GAAG,IAAI,CAACA,IAAI;IACtBhJ,KAAK,CAACiJ,YAAY,GAAG,IAAI,CAACA,YAAY;IACtC,OAAOjJ,KAAK,CAACqJ,aAAa;IAC1B,OAAOrJ,KAAK;EACd;AACF,CAAC;;AAED;AACA,IAAIsJ,gCAAgC,GAAG,cAAcpB,sBAAsB,CAAC;EAC1E5L,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAG6L,SAAS,CAAC;IACnB,IAAI,CAACoB,KAAK,GAAG,EAAE;IACf,IAAI,CAACC,IAAI,GAAG,IAAI;IAChB,IAAI,CAACC,KAAK,GAAG,KAAK;EACpB;EACAC,OAAOA,CAACC,QAAQ,EAAEF,KAAK,EAAE;IACvB,IAAI,CAACD,IAAI,GAAGG,QAAQ;IACpB,IAAI,CAACF,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACZ,YAAY,CAAC,CAAC;EACrB;EACAe,QAAQA,CAACL,KAAK,EAAE;IACd,IAAI,CAACA,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACV,YAAY,CAAC,CAAC;EACrB;EACAL,QAAQA,CAAA,EAAG;IACT,MAAMxI,KAAK,GAAG,KAAK,CAACwI,QAAQ,CAAC,CAAC;IAC9B,MAAM;MAAEe,KAAK;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAG,IAAI;IACnCzJ,KAAK,CAACuJ,KAAK,GAAGA,KAAK;IACnBvJ,KAAK,CAACwJ,IAAI,GAAGA,IAAI;IACjBxJ,KAAK,CAACyJ,KAAK,GAAGA,KAAK;IACnB,OAAOzJ,KAAK;EACd;AACF,CAAC;;AAED;AACA,SAASwD,SAAS,IAAIqG,UAAU,QAAQ,mBAAmB;AAC3D,IAAIC,sBAAsB,GAAG,cAAc5B,sBAAsB,CAAC;EAChE5L,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAG6L,SAAS,CAAC;IACnB,IAAI,CAAC4B,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,aAAa,GAAID,KAAK,IAAK,IAAI,CAACE,WAAW,CAACF,KAAK,CAAC;IACvD,IAAI,CAACG,UAAU,GAAG,MAAM,IAAI,CAAC3B,YAAY,CAAC4B,sBAAsB,CAAC,CAAC;IAClE,IAAI,CAACC,mBAAmB,GAAG,IAAI;IAC/B,IAAI,CAACC,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACC,uBAAuB,GAAG,IAAIT,UAAU,CAAEvE,OAAO,IAAK;MACzD,IAAI,CAACiF,yBAAyB,GAAGjF,OAAO;IAC1C,CAAC,CAAC;EACJ;EACAkF,cAAcA,CAAA,EAAG;IACf,OAAO,IAAI,CAACT,KAAK,IAAI,IAAI;EAC3B;EACAU,cAAcA,CAACnH,MAAM,EAAE;IACrB,OAAO,IAAI,CAACwE,eAAe,CAAC2C,cAAc,CAACnH,MAAM,CAAC;EACpD;EACAoH,QAAQA,CAAA,EAAG;IACT,OAAO,IAAI,CAACX,KAAK;EACnB;EACAY,QAAQA,CAACZ,KAAK,EAAE;IACd,IAAI,CAACK,mBAAmB,GAAG,IAAI;IAC/B,IAAI,CAACL,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACM,aAAa,KAAK,IAAI,CAACA,aAAa,GAAG,IAAI,CAACG,cAAc,CAAC,CAAC,CAAC;IAClE,OAAO,IAAI,CAAC3B,YAAY,CAAC,CAAC;EAC5B;EACAxH,OAAOA,CAACuJ,SAAS,EAAE;IACjB,IAAI,CAACrC,YAAY,GAAGqC,SAAS;IAC7B,IAAI,CAAC/B,YAAY,CAAC,CAAC;IACnB,OAAO,IAAI;EACb;EACAgC,gBAAgBA,CAACvH,MAAM,EAAE;IACvB,MAAMwE,eAAe,GAAG,IAAI,CAACA,eAAe;IAC5C,IAAI,CAACA,eAAe,EAAE;MACpB,IAAI,CAACwC,uBAAuB,CAACvP,IAAI,CAAC,MAAM,IAAI,CAAC+M,eAAe,EAAE+C,gBAAgB,GAAGvH,MAAM,CAAC,CAAC;IAC3F,CAAC,MAAM;MACLwE,eAAe,CAAC+C,gBAAgB,GAAGvH,MAAM,CAAC;IAC5C;EACF;EACAsF,kBAAkBA,CAAA,EAAG;IACnB,OAAO,CAAC,kBAAkB,EAAE,iBAAiB,EAAE,kBAAkB,EAAE,oBAAoB,CAAC;EAC1F;EACA9E,UAAUA,CAAC4E,OAAO,EAAE;IAClB,IAAI,IAAI,CAAC0B,mBAAmB,KAAK,KAAK,IAAI,IAAI,CAACC,aAAa,IAAI,IAAI,CAACvC,eAAe,EAAE2C,cAAc,KAAK/B,OAAO,EAAE+B,cAAc,EAAE;MAChIrM,UAAU,CAAC,MAAM;QACf,IAAI,CAACmK,YAAY,CAACuC,qBAAqB,CAAC,CAAC;MAC3C,CAAC,CAAC;IACJ;IACA,IAAI,CAACV,mBAAmB,GAAG,KAAK;IAChC,KAAK,CAACtG,UAAU,CAAC4E,OAAO,CAAC;IACzB,IAAI,CAAC6B,yBAAyB,CAAC,CAAC;IAChC,IAAI,CAACQ,yBAAyB,GAAG,CAAC;IAClC,IAAI,CAACA,yBAAyB,GAAG,KAAK,CAAC;EACzC;EACAd,WAAWA,CAACF,KAAK,EAAE;IACjB,IAAI,CAACgB,yBAAyB,GAAG,CAAC;IAClC,MAAMC,uBAAuB,GAAG,IAAInB,UAAU,CAAEvE,OAAO,IAAK;MAC1D,IAAI,CAACyF,yBAAyB,GAAGzF,OAAO;IAC1C,CAAC,CAAC;IACF,IAAI,CAACqF,QAAQ,CAACZ,KAAK,CAAC,CAAChP,IAAI,CAAC,MAAM;MAC9BiQ,uBAAuB,CAACjQ,IAAI,CAAC,MAAM;QACjC,IAAI,CAACwN,YAAY,CAACuC,qBAAqB,CAAC,CAAC;MAC3C,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAtC,QAAQA,CAAA,EAAG;IACT,MAAMxI,KAAK,GAAG,KAAK,CAACwI,QAAQ,CAAC,CAAC;IAC9BxI,KAAK,CAAC+J,KAAK,GAAG,IAAI,CAACA,KAAK;IACxB/J,KAAK,CAACgK,aAAa,GAAG,IAAI,CAACA,aAAa;IACxChK,KAAK,CAACkK,UAAU,GAAG,IAAI,CAACA,UAAU;IAClC,OAAOlK,KAAK,CAAC8K,qBAAqB;IAClC,OAAO9K,KAAK;EACd;AACF,CAAC;;AAED;AACA,SAASwD,SAAS,IAAIyH,UAAU,QAAQ,mBAAmB;AAC3D,IAAIC,6BAA6B,GAAG,cAAchD,sBAAsB,CAAC;EACvE5L,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAG6L,SAAS,CAAC;IACnB,IAAI,CAACmC,uBAAuB,GAAG,IAAIW,UAAU,CAAE3F,OAAO,IAAK;MACzD,IAAI,CAACiF,yBAAyB,GAAGjF,OAAO;IAC1C,CAAC,CAAC;EACJ;EACAjE,OAAOA,CAACuJ,SAAS,EAAE;IACjB,IAAI,CAACrC,YAAY,GAAGqC,SAAS;IAC7B,IAAI,CAAC/B,YAAY,CAAC,CAAC;IACnB,OAAO,IAAI;EACb;EACAgC,gBAAgBA,CAACvH,MAAM,EAAE;IACvB,MAAMwE,eAAe,GAAG,IAAI,CAACA,eAAe;IAC5C,IAAI,CAACA,eAAe,EAAE;MACpB,IAAI,CAACwC,uBAAuB,CAACvP,IAAI,CAAC,MAAM,IAAI,CAAC+M,eAAe,EAAE+C,gBAAgB,GAAGvH,MAAM,CAAC,CAAC;IAC3F,CAAC,MAAM;MACLwE,eAAe,CAAC+C,gBAAgB,GAAGvH,MAAM,CAAC;IAC5C;EACF;EACAsF,kBAAkBA,CAAA,EAAG;IACnB,OAAO,CAAC,kBAAkB,EAAE,iBAAiB,EAAE,oBAAoB,CAAC;EACtE;EACA9E,UAAUA,CAAC4E,OAAO,EAAE;IAClB,KAAK,CAAC5E,UAAU,CAAC4E,OAAO,CAAC;IACzB,IAAI,CAAC6B,yBAAyB,CAAC,CAAC;EAClC;AACF,CAAC;;AAED;AACA,SAAS/G,SAAS,IAAI2H,UAAU,QAAQ,mBAAmB;AAC3D,SAASC,0BAA0BA,CAAC9H,MAAM,EAAEyG,KAAK,EAAE;EACjDzG,MAAM,CAAC+H,oBAAoB,CAAEC,QAAQ,IAAK;IACxC,CAACA,QAAQ,CAACX,QAAQ,CAACZ,KAAK,CAAC,IAAIoB,UAAU,CAAC7F,OAAO,CAAC,CAAC,EAAEvK,IAAI,CAAC,MAAM;MAC5DuI,MAAM,CAACiI,YAAY,CAACT,qBAAqB,CAAC,CAAC;IAC7C,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AACA,IAAIU,4BAA4B,GAAG,MAAM;EACvClP,WAAWA,CAACmP,oBAAoB,EAAE5C,YAAY,EAAE;IAC9C,IAAI,CAAC4C,oBAAoB,GAAGA,oBAAoB;IAChD,IAAI,CAAC5C,YAAY,GAAGA,YAAY;IAChC,IAAI,CAACkB,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,aAAa,GAAID,KAAK,IAAK,IAAI,CAACE,WAAW,CAACF,KAAK,CAAC;EACzD;EACAvB,QAAQA,CAAA,EAAG;IACT,OAAO;MACL,GAAG,IAAI,CAACiD,oBAAoB;MAC5B1B,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,aAAa,EAAE,IAAI,CAACA;IACtB,CAAC;EACH;EACA0B,oBAAoBA,CAACC,WAAW,EAAE;IAChC,IAAI,CAAC5B,KAAK,GAAG4B,WAAW;IACxB,IAAI,CAAC9C,YAAY,CAAC,CAAC;EACrB;EACAxH,OAAOA,CAACiC,MAAM,EAAE;IACd,IAAI,CAACmI,oBAAoB,GAAGnI,MAAM;IAClC,IAAI,CAACuF,YAAY,CAAC,CAAC;EACrB;EACA/E,UAAUA,CAAC4E,OAAO,EAAE;IAClBd,kBAAkB,CAAC,IAAI,CAACgB,kBAAkB,CAAC,CAAC,EAAEF,OAAO,EAAE,IAAI,CAAC;EAC9D;EACAE,kBAAkBA,CAAA,EAAG;IACnB,OAAO,CAAC,kBAAkB,CAAC;EAC7B;EACAqB,WAAWA,CAACF,KAAK,EAAE;IACjB,IAAI,CAACA,KAAK,GAAGA,KAAK;IAClB,IAAI,CAAClB,YAAY,CAAC,CAAC;IACnBuC,0BAA0B,CAAC,IAAI,CAACK,oBAAoB,EAAE1B,KAAK,CAAC;EAC9D;AACF,CAAC;;AAED;AACA,IAAI6B,8BAA8B,GAAG,cAAc1D,sBAAsB,CAAC;EACxE5L,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAG6L,SAAS,CAAC;IACnB,IAAI,CAAC4B,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,aAAa,GAAID,KAAK,IAAK,IAAI,CAACE,WAAW,CAACF,KAAK,CAAC;EACzD;EACA2B,oBAAoBA,CAACC,WAAW,EAAE;IAChC,IAAI,CAAC5B,KAAK,GAAG4B,WAAW;IACxB,IAAI,CAAC9C,YAAY,CAAC,CAAC;EACrB;EACAxH,OAAOA,CAACuJ,SAAS,EAAE;IACjB,IAAI,CAACrC,YAAY,GAAGqC,SAAS;IAC7B,IAAI,CAAC/B,YAAY,CAAC,CAAC;EACrB;EACAD,kBAAkBA,CAAA,EAAG;IACnB,OAAO,CAAC,kBAAkB,CAAC;EAC7B;EACAqB,WAAWA,CAACF,KAAK,EAAE;IACjB,IAAI,CAACA,KAAK,GAAGA,KAAK;IAClB,IAAI,CAAClB,YAAY,CAAC,CAAC;IACnBuC,0BAA0B,CAAC,IAAI,CAAC7C,YAAY,EAAEwB,KAAK,CAAC;EACtD;EACAvB,QAAQA,CAAA,EAAG;IACT,MAAMxI,KAAK,GAAG,KAAK,CAACwI,QAAQ,CAAC,CAAC;IAC9BxI,KAAK,CAAC+J,KAAK,GAAG,IAAI,CAACA,KAAK;IACxB/J,KAAK,CAACgK,aAAa,GAAG,IAAI,CAACA,aAAa;IACxC,OAAOhK,KAAK;EACd;AACF,CAAC;;AAED;AACA,IAAI6L,qCAAqC,GAAG,cAAc3D,sBAAsB,CAAC;EAC/E7G,OAAOA,CAACuJ,SAAS,EAAE;IACjB,IAAI,CAACrC,YAAY,GAAGqC,SAAS;IAC7B,IAAI,CAAC/B,YAAY,CAAC,CAAC;EACrB;EACAD,kBAAkBA,CAAA,EAAG;IACnB,OAAO,CAAC,kBAAkB,CAAC;EAC7B;AACF,CAAC;;AAED;AACA,IAAIkD,2BAA2B,GAAG,cAAc5D,sBAAsB,CAAC;EACrE7G,OAAOA,CAACiC,MAAM,EAAE;IACd,IAAI,CAACiF,YAAY,GAAGjF,MAAM;IAC1B,IAAI,CAACuF,YAAY,CAAC,CAAC;IACnB,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA,IAAIkD,8BAA8B,GAAG,cAAc7D,sBAAsB,CAAC;EACxE7G,OAAOA,CAACiC,MAAM,EAAE;IACd,IAAI,CAACiF,YAAY,GAAGjF,MAAM;IAC1B,IAAI,CAACuF,YAAY,CAAC,CAAC;EACrB;AACF,CAAC;;AAED;AACA,IAAImD,wBAAwB,GAAG,cAAc9D,sBAAsB,CAAC;EAClE5L,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAG6L,SAAS,CAAC;IACnB,IAAI,CAAC8D,MAAM,GAAG,KAAK;IACnB,IAAI,CAACC,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,cAAc,GAAIF,MAAM,IAAK,IAAI,CAACG,YAAY,CAACH,MAAM,CAAC;EAC7D;EACAI,SAASA,CAACJ,MAAM,EAAE;IAChB,IAAI,CAACK,cAAc,CAACL,MAAM,CAAC;EAC7B;EACAM,WAAWA,CAACL,QAAQ,EAAE;IACpB,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACrD,YAAY,CAAC,CAAC;EACrB;EACAD,kBAAkBA,CAAA,EAAG;IACnB,OAAO,CAAC,QAAQ,EAAE,mBAAmB,CAAC;EACxC;EACA0D,cAAcA,CAACL,MAAM,EAAE;IACrB,IAAI,CAACA,MAAM,GAAGA,MAAM;IACpB,OAAO,IAAI,CAACpD,YAAY,CAAC,CAAC;EAC5B;EACAuD,YAAYA,CAACH,MAAM,EAAE;IACnB,MAAMO,MAAM,GAAG,IAAI,CAACF,cAAc,CAACL,MAAM,CAAC;IAC1C,IAAIA,MAAM,EAAE;MACVO,MAAM,CAACzR,IAAI,CAAC,MAAM,IAAI,CAACwN,YAAY,CAACkE,eAAe,CAAC,CAAC,CAAC;IACxD;EACF;EACAjE,QAAQA,CAAA,EAAG;IACT,MAAMxI,KAAK,GAAG,KAAK,CAACwI,QAAQ,CAAC,CAAC;IAC9BxI,KAAK,CAACiM,MAAM,GAAG,IAAI,CAACA,MAAM;IAC1BjM,KAAK,CAACkM,QAAQ,GAAG,IAAI,CAACA,QAAQ;IAC9BlM,KAAK,CAACmM,cAAc,GAAG,IAAI,CAACA,cAAc;IAC1C,OAAOnM,KAAK,CAACyM,eAAe;IAC5B,OAAOzM,KAAK;EACd;AACF,CAAC;;AAED;AACA,IAAI0M,6BAA6B,GAAG,cAAcxE,sBAAsB,CAAC;EACvE7G,OAAOA,CAACiC,MAAM,EAAE;IACd,IAAI,CAACiF,YAAY,GAAGjF,MAAM;IAC1B,IAAI,CAACuF,YAAY,CAAC,CAAC;EACrB;AACF,CAAC;;AAED;AACA,IAAI8D,2BAA2B,GAAG,cAAczE,sBAAsB,CAAC;EACrE7G,OAAOA,CAACiC,MAAM,EAAE;IACd,IAAI,CAACiF,YAAY,GAAGjF,MAAM;IAC1B,IAAI,CAACuF,YAAY,CAAC,CAAC;IACnB,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA,IAAI+D,yBAAyB,GAAG,cAAc1E,sBAAsB,CAAC;EACnE5L,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAG6L,SAAS,CAAC;IACnB,IAAI,CAAC0E,aAAa,GAAIC,KAAK,IAAK,IAAI,CAACC,WAAW,CAACD,KAAK,CAAC;EACzD;EACAzL,OAAOA,CAACiC,MAAM,EAAE;IACd,IAAI,CAACiF,YAAY,GAAGjF,MAAM;IAC1B,IAAI,CAACuF,YAAY,CAAC,CAAC;IACnB,OAAO,IAAI;EACb;EACAmE,QAAQA,CAAA,EAAG;IACT,OAAO,IAAI,CAACF,KAAK;EACnB;EACAC,WAAWA,CAACD,KAAK,EAAE;IACjB,IAAI,CAACA,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACjE,YAAY,CAAC,CAAC;IACnB,IAAI,CAACN,YAAY,CAAC0E,cAAc,CAAC,CAAC;EACpC;EACAzE,QAAQA,CAAA,EAAG;IACT,MAAMxI,KAAK,GAAG,KAAK,CAACwI,QAAQ,CAAC,CAAC;IAC9BxI,KAAK,CAAC8M,KAAK,GAAG,IAAI,CAACA,KAAK;IACxB9M,KAAK,CAAC6M,aAAa,GAAG,IAAI,CAACA,aAAa;IACxC,OAAO7M,KAAK;EACd;AACF,CAAC;;AAED;AACA,SAASwD,SAAS,IAAI0J,UAAU,EAAEzT,KAAK,QAAQ,mBAAmB;AAClE,SAASgP,WAAWA,CAACH,gBAAgB,EAAEpB,QAAQ,EAAE;EAC/C,MAAMxM,OAAO,GAAG4N,gBAAgB,EAAEG,WAAW,GAAG,CAAC,IAAIyE,UAAU,CAAC5H,OAAO,CAAC,KAAK,CAAC,CAAC;EAC/E5K,OAAO,CAACK,IAAI,CAAEH,IAAI,IAAKsM,QAAQ,CAACtM,IAAI,CAAC,CAAC;AACxC;AACA,SAASuS,4BAA4BA,CAAA,EAAG;EACtC1T,KAAK,CAAC,GAAG,CAAC;AACZ;;AAEA;AACA,IAAI2T,iCAAiC,GAAG,GAAG;AAC3C,IAAIC,aAAa,GAAG,MAAM;EACxB/Q,WAAWA,CAACgR,SAAS,EAAEC,eAAe,EAAEC,0BAA0B,EAAE;IAClE,IAAI,CAAC1S,SAAS,GAAG,KAAK;IACtB,IAAI,CAAC2S,OAAO,GAAG,EAAE;IACjB,IAAI,CAACC,sBAAsB,GAAG,KAAK;IACnC,IAAI,CAACH,eAAe,GAAGA,eAAe,GAAGA,eAAe,GAAG,KAAK;IAChE,IAAI,CAACD,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACE,0BAA0B,GAAGA,0BAA0B,GAAGA,0BAA0B,GAAGJ,iCAAiC;EAC/H;EACAO,UAAUA,CAAA,EAAG;IACX,OAAO,IAAI,CAACF,OAAO;EACrB;EACA9H,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC7K,SAAS,GAAG,IAAI;EACvB;EACA+K,aAAaA,CAACd,MAAM,EAAE;IACpB,IAAI,CAAC0I,OAAO,GAAG,IAAI,CAACA,OAAO,CAACxR,MAAM,CAAE2R,SAAS,IAAKA,SAAS,KAAK7I,MAAM,CAAC;IACvE,IAAI,CAAC8I,WAAW,CAAC,CAAC;EACpB;EACA7H,2BAA2BA,CAAA,EAAG;IAC5B,OAAO,IAAI,CAACuH,eAAe;EAC7B;EACAhG,gBAAgBA,CAACxC,MAAM,EAAEJ,cAAc,EAAEW,OAAO,EAAE;IAChD,IAAI,CAACmI,OAAO,GAAG,CAAC,GAAG,IAAI,CAACA,OAAO,EAAE1I,MAAM,CAAC;IACxC,IAAI,CAAC+I,eAAe,CAACnJ,cAAc,EAAEW,OAAO,CAAC;IAC7C,IAAI,CAACuI,WAAW,CAAC,CAAC;EACpB;EACAnG,iBAAiBA,CAAC1C,SAAS,EAAE+I,SAAS,EAAE;IACtC,IAAI,CAACN,OAAO,CAAC,IAAI,CAACA,OAAO,CAACO,OAAO,CAAChJ,SAAS,CAAC,CAAC,GAAG+I,SAAS;IACzD,IAAI,CAACF,WAAW,CAAC,CAAC;EACpB;EACAA,WAAWA,CAAA,EAAG;IACZ,IAAI,IAAI,CAACH,sBAAsB,EAAE;MAC/B;IACF;IACAtP,UAAU,CAAC,MAAM;MACf,IAAI,CAAC,IAAI,CAACtD,SAAS,EAAE;QACnB,IAAI,CAACwS,SAAS,CAAC,CAAC;QAChB,IAAI,CAACI,sBAAsB,GAAG,KAAK;MACrC;IACF,CAAC,CAAC;IACF,IAAI,CAACA,sBAAsB,GAAG,IAAI;EACpC;EACAI,eAAeA,CAACnJ,cAAc,EAAEW,OAAO,EAAE2I,SAAS,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;IAC/D,IAAI,IAAI,CAACrT,SAAS,EAAE;MAClBwK,OAAO,CAAC,IAAI,CAAC;MACb;IACF;IACA,IAAIX,cAAc,CAAC6C,QAAQ,CAAC,CAAC,EAAE;MAC7BlC,OAAO,CAACX,cAAc,CAAC;IACzB,CAAC,MAAM;MACL,IAAIuJ,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,SAAS,IAAI,IAAI,CAACT,0BAA0B,IAAI,CAAC,IAAI,CAACE,sBAAsB,EAAE;QAC7FrP,WAAW,CAAC,IAAI,EAAE,MAAM,IAAI,CAACiP,SAAS,CAAC,CAAC,CAAC;QACzC,IAAI3I,cAAc,CAAC6C,QAAQ,CAAC,CAAC,EAAE;UAC7BlC,OAAO,CAACX,cAAc,CAAC;QACzB;QACA;MACF;MACAyJ,MAAM,CAAChQ,UAAU,CAAC,MAAM;QACtB,IAAI,CAAC0P,eAAe,CAACnJ,cAAc,EAAEW,OAAO,EAAE2I,SAAS,CAAC;MAC1D,CAAC,CAAC;IACJ;EACF;AACF,CAAC;;AAED;AACA,OAAOI,OAAO,IAAI1K,IAAI,IAAI2K,MAAM,EAAEtW,WAAW,IAAIuW,aAAa,EAAEnW,SAAS,IAAIoW,UAAU,EAAEhW,OAAO,IAAIiW,SAAS,EAAE/V,MAAM,IAAIgW,QAAQ,EAAE9V,QAAQ,IAAI+V,UAAU,QAAQ,OAAO;AACxK,SAASC,QAAQ,QAAQ,mBAAmB;;AAE5C;AACA,OAAOC,OAAO,IAAIlL,IAAI,IAAImL,MAAM,EAAE9W,WAAW,IAAI+W,aAAa,EAAE7W,UAAU,IAAI8W,YAAY,EAAExW,OAAO,IAAIyW,SAAS,EAAEvW,MAAM,IAAIwW,QAAQ,EAAEtW,QAAQ,IAAIuW,UAAU,QAAQ,OAAO;AAC3K,SACEC,eAAe,IAAIC,gBAAgB,EACnCC,eAAe,EACfC,eAAe,EACfC,YAAY,EACZlW,cAAc,EACdmW,gBAAgB,EAChBC,gBAAgB,QACX,mBAAmB;;AAE1B;AACA,OAAOC,OAAO,IAAIhM,IAAI,IAAIiM,KAAK,EAAE5X,WAAW,IAAI6X,YAAY,EAAE3X,UAAU,IAAI4X,WAAW,EAAEtX,OAAO,IAAIuX,QAAQ,EAAErX,MAAM,IAAIsX,OAAO,EAAEpX,QAAQ,IAAIqX,SAAS,QAAQ,OAAO;AACrK,SAASC,cAAc,QAAQ,mBAAmB;;AAElD;AACA,OAAOC,MAAM,IAAIxM,IAAI,IAAIyM,KAAK,EAAEpY,WAAW,IAAIqY,YAAY,EAAEnY,UAAU,IAAIoY,WAAW,EAAE5X,MAAM,IAAI6X,OAAO,EAAE3X,QAAQ,IAAI4X,SAAS,QAAQ,OAAO;AAC/I,SAASC,sBAAsB,QAAQ,mBAAmB;;AAE1D;AACA,OAAOC,MAAM,IAAI/M,IAAI,IAAIgN,KAAK,EAAE3Y,WAAW,IAAI4Y,YAAY,EAAE1Y,UAAU,IAAI2Y,WAAW,EAAErY,OAAO,IAAIsY,QAAQ,EAAEpY,MAAM,IAAIqY,OAAO,EAAEnY,QAAQ,IAAIoY,SAAS,QAAQ,OAAO;AACpK,SAASC,UAAU,IAAIC,WAAW,QAAQ,mBAAmB;;AAE7D;AACA,OAAOC,MAAM,IAAIxN,IAAI,IAAIyN,KAAK,EAAEpZ,WAAW,IAAIqZ,YAAY,EAAEnZ,UAAU,IAAIoZ,WAAW,EAAElZ,SAAS,IAAImZ,UAAU,EAAE3X,eAAe,IAAI4X,gBAAgB,EAAEhZ,OAAO,IAAIiZ,QAAQ,EAAE/Y,MAAM,IAAIgZ,OAAO,EAAE9Y,QAAQ,IAAI+Y,SAAS,QAAQ,OAAO;AAClO,SAASvC,eAAe,EAAE6B,UAAU,EAAEW,eAAe,EAAEC,YAAY,QAAQ,mBAAmB;AAC9F,IAAIC,cAAc,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EACjC,MAAMC,OAAO,GAAGD,IAAI,CAACC,OAAO,CAAC,CAAC;EAC9B,MAAM;IAAE5X;EAAQ,CAAC,GAAGkX,WAAW,CAACvX,YAAY,CAAC;EAC7C,MAAM,CAACkY,eAAe,EAAEC,kBAAkB,CAAC,GAAGP,SAAS,CAAC,CAAC;EACzD,MAAM,CAACQ,UAAU,EAAEC,aAAa,CAAC,GAAGT,SAAS,CAAC,CAAC;EAC/C,MAAMU,QAAQ,GAAGX,OAAO,CAAC,CAAC;EAC1B,MAAMxR,IAAI,GAAGwR,OAAO,CAAC,IAAI,CAAC;EAC1B,MAAMY,OAAO,GAAGZ,OAAO,CAAC,IAAI,CAAC;EAC7B,MAAMa,kBAAkB,GAAGb,OAAO,CAAC,IAAI,CAAC;EACxC,MAAMc,WAAW,GAAGd,OAAO,CAAC,CAAC;EAC7B,MAAMe,UAAU,GAAGf,OAAO,CAAC,CAAC;EAC5B,IAAIM,OAAO,IAAI,CAACS,UAAU,CAAC9W,OAAO,EAAE;IAClC8W,UAAU,CAAC9W,OAAO,GAAG,IAAIyT,eAAe,CAAC,MAAMlP,IAAI,CAACvE,OAAO,CAAC;EAC9D;EACA,MAAM2F,OAAO,GAAG+P,YAAY,CAAE9P,IAAI,IAAK;IACrCrB,IAAI,CAACvE,OAAO,GAAG4F,IAAI;IACnB,IAAI,CAACA,IAAI,IAAI,CAACwQ,IAAI,CAACC,OAAO,CAAC,CAAC,IAAI5X,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MACrD4X,QAAQ,CAAC1W,OAAO,GAAGvB,OAAO,CAACa,WAAW,CAACoX,QAAQ,CAAC1W,OAAO,CAAC;MACxD;IACF;IACA0W,QAAQ,CAAC1W,OAAO,GAAGvB,OAAO,CAACoI,UAAU,CAAC,IAAIyO,UAAU,CAAC,CAAC,CAAC;IACvD,MAAMyB,mBAAmB,GAAGA,CAAA,KAAM;MAChC,MAAMC,YAAY,GAAGZ,IAAI,CAACa,eAAe,CAAC,CAAC;MAC3C,IAAID,YAAY,EAAE;QAChBL,OAAO,CAAC3W,OAAO,EAAEkX,qBAAqB,CAAC,UAAU,EAAEF,YAAY,CAAC;QAChEN,QAAQ,CAAC1W,OAAO,CAACmX,cAAc,CAAC,MAAMH,YAAY,CAACI,MAAM,CAAC,CAAC,CAAC;MAC9D;IACF,CAAC;IACD,MAAMvR,SAAS,GAAG;MAChBwR,QAAQ,EAAGC,KAAK,IAAK;QACnB,IAAI/S,IAAI,CAACvE,OAAO,EAAE;UAChBuE,IAAI,CAACvE,OAAO,CAACuX,KAAK,CAACD,KAAK,GAAGA,KAAK;QAClC;MACF,CAAC;MACDpR,SAAS,EAAEA,CAACC,IAAI,EAAElF,EAAE,KAAK6V,UAAU,CAAC9W,OAAO,CAACkG,SAAS,CAACC,IAAI,EAAElF,EAAE,CAAC;MAC/DwV,aAAa,EAAGe,MAAM,IAAKf,aAAa,CAACe,MAAM,CAAC;MAChDC,WAAW,EAAGC,IAAI,IAAK;QACrB,IAAInT,IAAI,CAACvE,OAAO,EAAE;UAChB0X,IAAI,GAAGxB,YAAY,CAAC3R,IAAI,CAACvE,OAAO,EAAE0X,IAAI,CAAC,GAAGzB,eAAe,CAAC1R,IAAI,CAACvE,OAAO,CAAC;QACzE;MACF,CAAC;MACDuW,kBAAkB,EAAG/X,WAAW,IAAK+X,kBAAkB,CAAC/X,WAAW,CAAC;MACpEmZ,mBAAmB,EAAEA,CAAA,KAAMd,WAAW,CAAC7W,OAAO,IAAI,KAAK,CAAC;MACxD+W,mBAAmB;MACnBa,kBAAkB,EAAEA,CAAA,KAAMxB,IAAI,CAACa,eAAe,CAAC,CAAC,EAAEG,MAAM,CAAC;IAC3D,CAAC;IACDhB,IAAI,CAACyB,OAAO,CAAChS,SAAS,EAAED,IAAI,EAAE+Q,OAAO,CAAC3W,OAAO,EAAE4W,kBAAkB,CAAC5W,OAAO,EAAE0W,QAAQ,CAAC1W,OAAO,CAAC;IAC5F+W,mBAAmB,CAAC,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC;EACNlB,gBAAgB,CACd,MAAMtX,UAAU,CAAC+X,eAAe,EAAE7X,OAAO,EAAEmY,kBAAkB,CAAC5W,OAAO,EAAE6W,WAAW,CAAC,EACnF,CAACP,eAAe,CAClB,CAAC;EACDV,UAAU,CAAC,MAAM;IACfQ,IAAI,CAAC0B,aAAa,CAACvT,IAAI,CAACvE,OAAO,CAAC;EAClC,CAAC,EAAE,CAACsW,eAAe,CAAC,CAAC;EACrB,MAAMyB,iBAAiB,GAAGjC,QAAQ,CAAC,MAAM;IACvC,MAAM3U,GAAG,GAAGmV,eAAe,EAAEzX,sBAAsB,IAAI2C,oBAAoB,CAAC8U,eAAe,CAAClP,cAAc,CAAC;IAC3G,OAAO,CAAC,CAACjG,GAAG;EACd,CAAC,EAAE,CAACmV,eAAe,CAAC,CAAC;EACrB,MAAM0B,aAAa,GAAG1B,eAAe,EAAEzX,sBAAsB;EAC7D,MAAMoZ,aAAa,GAAG3B,eAAe,EAAElP,cAAc;EACrD,OAAO,eAAgBoO,MAAM,CAACjO,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEgH,OAAO;IAAE4R,KAAK,EAAEf,UAAU;IAAEzV,SAAS,EAAE,gBAAgB;IAAE0G,IAAI,EAAE;EAAe,CAAC,EAAE,eAAgB+N,MAAM,CAACjO,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEgY,OAAO;IAAE5V,SAAS,EAAE,uBAAuB;IAAE0G,IAAI,EAAE;EAAe,CAAC,CAAC,EAAE,eAAgB+N,MAAM,CAACjO,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEiY,kBAAkB;IAAE7V,SAAS,EAAE,6BAA6B;IAAE0G,IAAI,EAAE;EAAe,CAAC,EAAEuQ,aAAa,GAAGD,iBAAiB,GAAG,eAAgBvC,MAAM,CAACjO,aAAa,CAAC0Q,aAAa,EAAE;IAAE,GAAG3B,eAAe,CAAC3O;EAAO,CAAC,CAAC,GAAG,eAAgB6N,MAAM,CAACjO,aAAa,CAAC0Q,aAAa,EAAE;IAAE,GAAG3B,eAAe,CAAC3O,MAAM;IAAEhJ,GAAG,EAAEkY;EAAY,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;AACrnB,CAAC;AACD,IAAIqB,sBAAsB,GAAGzC,KAAK,CAACU,cAAc,CAAC;;AAElD;AACA,OAAOgC,MAAM,IAAInQ,IAAI,IAAIoQ,KAAK,EAAE/b,WAAW,IAAIgc,YAAY,EAAE9b,UAAU,IAAI+b,WAAW,EAAEra,eAAe,IAAIsa,gBAAgB,EAAE1b,OAAO,IAAI2b,QAAQ,EAAEzb,MAAM,IAAI0b,OAAO,EAAExb,QAAQ,IAAIyb,SAAS,QAAQ,OAAO;AACzM,SAASjc,SAAS,IAAIkc,UAAU,QAAQ,OAAO;AAC/C,SAAS9Q,SAAS,IAAI+Q,UAAU,EAAEtD,UAAU,IAAIuD,WAAW,QAAQ,mBAAmB;;AAEtF;AACA,IAAIC,mCAAmC,GAAG,MAAM;EAC9CnY,WAAWA,CAACmP,oBAAoB,EAAE5C,YAAY,EAAE;IAC9C,IAAI,CAAC4C,oBAAoB,GAAGA,oBAAoB;IAChD,IAAI,CAAC5C,YAAY,GAAGA,YAAY;EAClC;EACAL,QAAQA,CAAA,EAAG;IACT,OAAO,IAAI,CAACiD,oBAAoB;EAClC;EACApK,OAAOA,CAACiC,MAAM,EAAE;IACd,IAAI,CAACmI,oBAAoB,GAAGnI,MAAM;IAClC,IAAI,CAACuF,YAAY,CAAC,CAAC;EACrB;EACA/E,UAAUA,CAAC4E,OAAO,EAAE;IAClBd,kBAAkB,CAAC,IAAI,CAACgB,kBAAkB,CAAC,CAAC,EAAEF,OAAO,EAAE,IAAI,CAAC;EAC9D;EACAE,kBAAkBA,CAAA,EAAG;IACnB,OAAO,CAAC,kBAAkB,CAAC;EAC7B;AACF,CAAC;;AAED;AACA,IAAI8L,oBAAoB,GAAGA,CAAC;EAAE3C;AAAK,CAAC,KAAK;EACvC,MAAM;IAAE3X,OAAO;IAAEua;EAAI,CAAC,GAAGV,WAAW,CAACla,YAAY,CAAC;EAClD,MAAM,CAACoY,UAAU,EAAEC,aAAa,CAAC,GAAGiC,SAAS,CAAC,CAAC;EAC/C,MAAM,CAACxT,UAAU,EAAEC,aAAa,CAAC,GAAGuT,SAAS,CAC3C,MAAM,IAAIjY,UAAU,CAAC,gBAAgB,EAAE,oBAAoB,CAC7D,CAAC;EACD,MAAM,CAACwY,cAAc,EAAEC,iBAAiB,CAAC,GAAGR,SAAS,CAAC,MAAM,IAAIjY,UAAU,CAAC,CAAC,CAAC;EAC7E,MAAM,CAAC0Y,uBAAuB,EAAEC,0BAA0B,CAAC,GAAGV,SAAS,CACrE,MAAM,IAAIjY,UAAU,CAAC,2BAA2B,EAAE,WAAW,CAC/D,CAAC;EACD,MAAM,CAAC4Y,uBAAuB,EAAEC,0BAA0B,CAAC,GAAGZ,SAAS,CAAC,OAAO,CAAC;EAChF,MAAM,CAACpC,eAAe,EAAEC,kBAAkB,CAAC,GAAGmC,SAAS,CAAC,CAAC;EACzD,MAAM,GAAGa,YAAY,CAAC,GAAGb,SAAS,CAAC,CAAC,CAAC;EACrC,MAAMhC,QAAQ,GAAG+B,OAAO,CAAC,CAAC;EAC1B,MAAMlU,IAAI,GAAGkU,OAAO,CAAC,IAAI,CAAC;EAC1B,MAAMe,mBAAmB,GAAGf,OAAO,CAAC,IAAI,CAAC;EACzC,MAAMgB,cAAc,GAAGhB,OAAO,CAAC,IAAI,CAAC;EACpC,MAAMiB,qBAAqB,GAAGjB,OAAO,CAAC,IAAI,CAAC;EAC3C,MAAMkB,eAAe,GAAGlB,OAAO,CAAC,CAAC;EACjC,MAAMmB,eAAe,GAAGnB,OAAO,CAAC,CAAC;EACjC,MAAM5B,WAAW,GAAIjX,KAAK,IAAK;IAC7B,IAAIA,KAAK,IAAI,IAAI,EAAE;MACjB;IACF;IACA+Z,eAAe,CAAC3Z,OAAO,IAAI2Z,eAAe,CAAC3Z,OAAO,CAACJ,KAAK,CAAC;EAC3D,CAAC;EACD,MAAM+F,OAAO,GAAG0S,YAAY,CAAEzS,IAAI,IAAK;IACrCrB,IAAI,CAACvE,OAAO,GAAG4F,IAAI;IACnB,IAAI,CAACA,IAAI,IAAI,CAACwQ,IAAI,CAACC,OAAO,CAAC,CAAC,IAAI5X,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MACrD4X,QAAQ,CAAC1W,OAAO,GAAGvB,OAAO,CAACa,WAAW,CAACoX,QAAQ,CAAC1W,OAAO,CAAC;MACxD;IACF;IACA0W,QAAQ,CAAC1W,OAAO,GAAGvB,OAAO,CAACoI,UAAU,CAAC,IAAIgS,WAAW,CAAC,CAAC,CAAC;IACxDe,eAAe,CAAC5Z,OAAO,GAAG,IAAI4Y,UAAU,CAAEjP,OAAO,IAAK;MACpDgQ,eAAe,CAAC3Z,OAAO,GAAG2J,OAAO;IACnC,CAAC,CAAC;IACF,MAAM9D,SAAS,GAAG;MAChBK,SAAS,EAAEA,CAACC,IAAI,EAAElF,EAAE,KAAKkE,aAAa,CAAE7B,IAAI,IAAKA,IAAI,CAACtC,QAAQ,CAACmF,IAAI,EAAElF,EAAE,CAAC,CAAC;MACzEwV,aAAa,EAAGe,MAAM,IAAKf,aAAa,CAACe,MAAM,CAAC;MAChDqC,uBAAuB,EAAEA,CAAC1T,IAAI,EAAElF,EAAE,KAAKiY,iBAAiB,CAAE5V,IAAI,IAAKA,IAAI,CAACtC,QAAQ,CAACmF,IAAI,EAAElF,EAAE,CAAC,CAAC;MAC3F6Y,yBAAyB,EAAGzT,SAAS,IAAK;QACxC+S,0BAA0B,CAAE9V,IAAI,IAAKA,IAAI,CAACtC,QAAQ,CAAC,WAAW,EAAE,CAACqF,SAAS,CAAC,CAAC;QAC5EiT,0BAA0B,CAAC,CAACjT,SAAS,GAAG,MAAM,GAAG,OAAO,CAAC;MAC3D,CAAC;MACDgR,QAAQ,EAAGC,KAAK,IAAK;QACnB,IAAI/S,IAAI,CAACvE,OAAO,EAAE;UAChBuE,IAAI,CAACvE,OAAO,CAACuX,KAAK,CAACD,KAAK,GAAGA,KAAK;QAClC;MACF,CAAC;MACDyC,cAAc,EAAGvb,WAAW,IAAK+X,kBAAkB,CAAC/X,WAAW,CAAC;MAChEwb,qBAAqB,EAAEA,CAAA,KAAMJ,eAAe,CAAC5Z,OAAO,GAAG4Z,eAAe,CAAC5Z,OAAO,GAAG,IAAI;MACrFia,WAAW,EAAGC,KAAK,IAAKR,qBAAqB,CAAC1Z,OAAO,EAAER,WAAW,CAAC0a,KAAK;IAC1E,CAAC;IACD9D,IAAI,CAACyB,OAAO,CAAChS,SAAS,EAAED,IAAI,EAAE8T,qBAAqB,CAAC1Z,OAAO,EAAEwZ,mBAAmB,CAACxZ,OAAO,EAAE0W,QAAQ,CAAC1W,OAAO,CAAC;EAC7G,CAAC,EAAE,EAAE,CAAC;EACNuY,gBAAgB,CACd,MAAMha,UAAU,CAAC+X,eAAe,EAAE7X,OAAO,EAAE+a,mBAAmB,CAACxZ,OAAO,EAAE6W,WAAW,CAAC,EACpF,CAACP,eAAe,CAClB,CAAC;EACD,MAAMvV,SAAS,GAAGyX,QAAQ,CAAC,MAAMtT,UAAU,CAAC9D,QAAQ,CAAC,CAAC,EAAE,CAAC8D,UAAU,CAAC,CAAC;EACrE,MAAMiV,aAAa,GAAG3B,QAAQ,CAAC,MAAMS,cAAc,CAAC7X,QAAQ,CAAC,CAAC,EAAE,CAAC6X,cAAc,CAAC,CAAC;EACjF,MAAMmB,sBAAsB,GAAG5B,QAAQ,CAAC,MAAMW,uBAAuB,CAAC/X,QAAQ,CAAC,CAAC,EAAE,CAAC+X,uBAAuB,CAAC,CAAC;EAC5G,MAAMpB,iBAAiB,GAAGS,QAAQ,CAAC,MAAM;IACvC,MAAMrX,GAAG,GAAGmV,eAAe,IAAIA,eAAe,CAACzX,sBAAsB,IAAI2C,oBAAoB,CAAC8U,eAAe,CAAClP,cAAc,CAAC;IAC7H,OAAO,CAAC,CAACjG,GAAG;EACd,CAAC,EAAE,CAACmV,eAAe,CAAC,CAAC;EACrB,MAAM+D,wBAAwB,GAAG7B,QAAQ,CAAC,MAAMQ,GAAG,CAACsB,GAAG,CAAC,0BAA0B,CAAC,EAAE,EAAE,CAAC;EACxF,MAAMC,oBAAoB,GAAG/B,QAAQ,CAAC,MAAMQ,GAAG,CAACsB,GAAG,CAAC,sBAAsB,CAAC,EAAE,EAAE,CAAC;EAChF,MAAM,CAACE,uBAAuB,EAAEC,0BAA0B,CAAC,GAAG/B,SAAS,CAAC,CAAC;EACzEC,UAAU,CAAC,MAAM;IACf,IAAIrC,eAAe,EAAEzX,sBAAsB,EAAE;MAC3C,IAAIwb,wBAAwB,EAAE;QAC5B,MAAMK,UAAU,GAAGH,oBAAoB,GAAGzB,mCAAmC,GAAGjJ,4BAA4B;QAC5G,MAAMhK,SAAS,GAAG,IAAI6U,UAAU,CAACpE,eAAe,CAAC3O,MAAM,EAAE,MAAM4R,YAAY,CAAEjW,IAAI,IAAKA,IAAI,GAAG,CAAC,CAAC,CAAC;QAChGuT,WAAW,CAAChR,SAAS,CAAC;QACtB4U,0BAA0B,CAAC5U,SAAS,CAAC;MACvC,CAAC,MAAM;QACL2L,4BAA4B,CAAC,CAAC;MAChC;IACF;EACF,CAAC,EAAE,CAAC8E,eAAe,CAAC,CAAC;EACrB,MAAMqE,mBAAmB,GAAGH,uBAAuB,EAAE3N,QAAQ,CAAC,CAAC;EAC/D,MAAMmL,aAAa,GAAG1B,eAAe,EAAEzX,sBAAsB;EAC7D,MAAMoZ,aAAa,GAAG3B,eAAe,EAAElP,cAAc;EACrD,OAAO,eAAgB+Q,MAAM,CAAC5Q,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEgH,OAAO;IAAE4R,KAAK,EAAEf,UAAU;IAAEzV,SAAS;IAAE0G,IAAI,EAAE;EAAW,CAAC,EAAE,eAAgB0Q,MAAM,CAAC5Q,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAE6a,mBAAmB;IAAEzY,SAAS,EAAEoZ,aAAa;IAAE1S,IAAI,EAAE;EAAe,CAAC,EAAEuQ,aAAa,GAAGqC,wBAAwB,GAAGM,mBAAmB,IAAI,eAAgBxC,MAAM,CAAC5Q,aAAa,CACnVW,aAAa,CAACQ,QAAQ,EACtB;IACE9I,KAAK,EAAE;MACLuI,UAAU,EAAG4E,OAAO,IAAKyN,uBAAuB,CAACrS,UAAU,CAAC4E,OAAO;IACrE;EACF,CAAC,EACD,eAAgBoL,MAAM,CAAC5Q,aAAa,CAAC0Q,aAAa,EAAE;IAAE,GAAG0C;EAAoB,CAAC,CAChF,CAAC,GAAG,eAAgBxC,MAAM,CAAC5Q,aAAa,CAAC0Q,aAAa,EAAE;IAAE,GAAG3B,eAAe,CAAC3O,MAAM;IAAEhJ,GAAG,EAAEoZ,iBAAiB,GAAG,MAAM,CACpH,CAAC,GAAGlB;EAAY,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,eAAgBsB,MAAM,CAAC5Q,aAAa,CAC9D,KAAK,EACL;IACE5I,GAAG,EAAE8a,cAAc;IACnB,aAAa,EAAEJ,uBAAuB;IACtCtY,SAAS,EAAEqZ,sBAAsB;IACjC3S,IAAI,EAAE;EACR,CAAC,EACD,eAAgB0Q,MAAM,CAAC5Q,aAAa,CAClC,QAAQ,EACR;IACE5I,GAAG,EAAE+a,qBAAqB;IAC1BkB,IAAI,EAAE,QAAQ;IACd7Z,SAAS,EAAE,4CAA4C;IACvD8Z,QAAQ,EAAE,CAAC;EACb,CACF,CACF,CAAC,CAAC;AACJ,CAAC;AACD,IAAIC,4BAA4B,GAAG1C,KAAK,CAACW,oBAAoB,CAAC;;AAE9D;AACA,OAAOgC,MAAM,IAAI/S,IAAI,IAAIgT,KAAK,EAAE3e,WAAW,IAAI4e,YAAY,EAAE1e,UAAU,IAAI2e,WAAW,EAAEze,SAAS,IAAI0e,UAAU,EAAEld,eAAe,IAAImd,gBAAgB,EAAEve,OAAO,IAAIwe,QAAQ,EAAEte,MAAM,IAAIue,OAAO,EAAEre,QAAQ,IAAIse,SAAS,QAAQ,OAAO;AAClO,SAASjG,UAAU,IAAIkG,WAAW,QAAQ,mBAAmB;AAC7D,IAAIC,mBAAmB,GAAGA,CAAC;EAAErF;AAAK,CAAC,KAAK;EACtC,MAAM;IAAE3X;EAAQ,CAAC,GAAGyc,WAAW,CAAC9c,YAAY,CAAC;EAC7C,MAAM,CAACoY,UAAU,EAAEC,aAAa,CAAC,GAAG8E,SAAS,CAAC,CAAC;EAC/C,MAAM,CAACrW,UAAU,EAAEC,aAAa,CAAC,GAAGoW,SAAS,CAAC,MAAM,IAAI9a,UAAU,CAAC,CAAC,CAAC;EACrE,MAAM,CAACib,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGJ,SAAS,CAAC,MAAM,IAAI9a,UAAU,CAAC,CAAC,CAAC;EACvF,MAAM,CAACmb,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGN,SAAS,CAAC,OAAO,CAAC;EACxE,MAAM,CAACO,YAAY,EAAEC,eAAe,CAAC,GAAGR,SAAS,CAAC,CAAC;EACnD,MAAM,CAACjF,eAAe,EAAEC,kBAAkB,CAAC,GAAGgF,SAAS,CAAC,CAAC;EACzD,MAAM7E,QAAQ,GAAG4E,OAAO,CAAC,CAAC;EAC1B,MAAM/W,IAAI,GAAG+W,OAAO,CAAC,IAAI,CAAC;EAC1B,MAAM3E,OAAO,GAAG2E,OAAO,CAAC,IAAI,CAAC;EAC7B,MAAM1E,kBAAkB,GAAG0E,OAAO,CAAC,IAAI,CAAC;EACxC,MAAMzE,WAAW,GAAGyE,OAAO,CAAC,CAAC;EAC7B,MAAM3V,OAAO,GAAGsV,YAAY,CAAErV,IAAI,IAAK;IACrCrB,IAAI,CAACvE,OAAO,GAAG4F,IAAI;IACnB,IAAI,CAACA,IAAI,IAAI,CAACwQ,IAAI,CAACC,OAAO,CAAC,CAAC,IAAI5X,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MACrD4X,QAAQ,CAAC1W,OAAO,GAAGvB,OAAO,CAACa,WAAW,CAACoX,QAAQ,CAAC1W,OAAO,CAAC;MACxD;IACF;IACA0W,QAAQ,CAAC1W,OAAO,GAAGvB,OAAO,CAACoI,UAAU,CAAC,IAAI2U,WAAW,CAAC,CAAC,CAAC;IACxD,MAAM3V,SAAS,GAAG;MAChBwR,QAAQ,EAAGC,KAAK,IAAK;QACnB,IAAI/S,IAAI,CAACvE,OAAO,EAAE;UAChBuE,IAAI,CAACvE,OAAO,CAACuX,KAAK,CAACD,KAAK,GAAGA,KAAK;QAClC;MACF,CAAC;MACDpR,SAAS,EAAEA,CAACC,IAAI,EAAElF,EAAE,KAAKkE,aAAa,CAAE7B,IAAI,IAAKA,IAAI,CAACtC,QAAQ,CAACmF,IAAI,EAAElF,EAAE,CAAC,CAAC;MACzEwV,aAAa,EAAGe,MAAM,IAAKf,aAAa,CAACe,MAAM,CAAC;MAChDwE,sBAAsB,EAAGC,MAAM,IAAK;QAClC,MAAMC,iBAAiB,GAAGtF,kBAAkB,CAAC5W,OAAO;QACpD,IAAI,CAACkc,iBAAiB,EAAE;UACtB;QACF;QACA,IAAID,MAAM,EAAE;UACVC,iBAAiB,CAAC3E,KAAK,CAAC4E,WAAW,CAAC,SAAS,EAAE,MAAM,CAAC;QACxD,CAAC,MAAM;UACLD,iBAAiB,CAAC3E,KAAK,CAAC6E,cAAc,CAAC,SAAS,CAAC;QACnD;MACF,CAAC;MACDC,yBAAyB,EAAGzc,KAAK,IAAK;QACpC,MAAMsc,iBAAiB,GAAGtF,kBAAkB,CAAC5W,OAAO;QACpD,IAAI,CAACkc,iBAAiB,EAAE;UACtB;QACF;QACA,IAAItc,KAAK,IAAI,IAAI,EAAE;UACjBsc,iBAAiB,CAAC3E,KAAK,CAAC4E,WAAW,CAAC,YAAY,EAAE,GAAGvc,KAAK,IAAI,CAAC;QACjE,CAAC,MAAM;UACLsc,iBAAiB,CAAC3E,KAAK,CAAC6E,cAAc,CAAC,YAAY,CAAC;QACtD;QACAF,iBAAiB,CAAC3R,SAAS,CAAC+R,MAAM,CAAC,4CAA4C,EAAE1c,KAAK,IAAI,IAAI,CAAC;MACjG,CAAC;MACD2W,kBAAkB,EAAG/X,WAAW,IAAK+X,kBAAkB,CAAC/X,WAAW,CAAC;MACpE+d,qBAAqB,EAAGlW,SAAS,IAAK;QACpCsV,sBAAsB,CAAErY,IAAI,IAAKA,IAAI,CAACtC,QAAQ,CAAC,WAAW,EAAE,CAACqF,SAAS,CAAC,CAAC;QACxEwV,sBAAsB,CAAC,CAACxV,SAAS,GAAG,MAAM,GAAG,OAAO,CAAC;MACvD,CAAC;MACD0V,eAAe,EAAGxL,QAAQ,IAAKwL,eAAe,CAACxL,QAAQ,CAAC;MACxDoH,mBAAmB,EAAEA,CAAA,KAAMd,WAAW,CAAC7W,OAAO,IAAI,KAAK;IACzD,CAAC;IACDoW,IAAI,CAACyB,OAAO,CAAChS,SAAS,EAAED,IAAI,EAAE+Q,OAAO,CAAC3W,OAAO,EAAE4W,kBAAkB,CAAC5W,OAAO,EAAE0W,QAAQ,CAAC1W,OAAO,CAAC;EAC9F,CAAC,EAAE,EAAE,CAAC;EACNob,gBAAgB,CAAC,MAAM7c,UAAU,CAAC+X,eAAe,EAAE7X,OAAO,EAAEmY,kBAAkB,CAAC5W,OAAO,CAAC,EAAE,CAACsW,eAAe,CAAC,CAAC;EAC3G6E,UAAU,CAAC,MAAM;IACf,IAAI5W,IAAI,CAACvE,OAAO,EAAE;MAChBoW,IAAI,CAAC0B,aAAa,CAACvT,IAAI,CAACvE,OAAO,CAAC;IAClC;EACF,CAAC,EAAE,CAACsW,eAAe,CAAC,CAAC;EACrB,MAAMyB,iBAAiB,GAAGsD,QAAQ,CAAC,MAAM;IACvC,MAAMla,GAAG,GAAGmV,eAAe,EAAEzX,sBAAsB,IAAI2C,oBAAoB,CAAC8U,eAAe,CAAClP,cAAc,CAAC;IAC3G,OAAO,CAAC,CAACjG,GAAG;EACd,CAAC,EAAE,CAACmV,eAAe,CAAC,CAAC;EACrB,MAAMvV,SAAS,GAAGsa,QAAQ,CAAC,MAAM,uBAAuB,GAAGnW,UAAU,CAAC9D,QAAQ,CAAC,CAAC,EAAE,CAAC8D,UAAU,CAAC,CAAC;EAC/F,MAAMsX,kBAAkB,GAAGnB,QAAQ,CACjC,MAAM,wBAAwB,GAAGK,mBAAmB,CAACta,QAAQ,CAAC,CAAC,EAC/D,CAACsa,mBAAmB,CACtB,CAAC;EACD,MAAM1D,aAAa,GAAG1B,eAAe,EAAEzX,sBAAsB;EAC7D,MAAMoZ,aAAa,GAAG3B,eAAe,EAAElP,cAAc;EACrD,OAAO,eAAgB2T,MAAM,CAACxT,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEgH,OAAO;IAAE4R,KAAK,EAAEf,UAAU;IAAEzV,SAAS;IAAE0G,IAAI,EAAE,cAAc;IAAE,eAAe,EAAEqU;EAAa,CAAC,EAAE,eAAgBf,MAAM,CAACxT,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEiY,kBAAkB;IAAE7V,SAAS,EAAE,6BAA6B;IAAE0G,IAAI,EAAE;EAAe,CAAC,EAAEuQ,aAAa,GAAGD,iBAAiB,GAAG,eAAgBgD,MAAM,CAACxT,aAAa,CAAC0Q,aAAa,EAAE;IAAE,GAAG3B,eAAe,CAAC3O;EAAO,CAAC,CAAC,GAAG,eAAgBoT,MAAM,CAACxT,aAAa,CAAC0Q,aAAa,EAAE;IAAE,GAAG3B,eAAe,CAAC3O,MAAM;IAAEhJ,GAAG,EAAEkY;EAAY,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,eAAgBkE,MAAM,CAACxT,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEgY,OAAO;IAAE,aAAa,EAAEiF,mBAAmB;IAAE7a,SAAS,EAAEyb;EAAmB,CAAC,CAAC,CAAC;AAC3oB,CAAC;AACD,IAAIC,2BAA2B,GAAGzB,KAAK,CAACS,mBAAmB,CAAC;;AAE5D;AACA,IAAIiB,aAAa,GAAGA,CAAC;EAAEtG;AAAK,CAAC,KAAK;EAChC,MAAM;IAAE4C,GAAG;IAAEva;EAAQ,CAAC,GAAGyW,WAAW,CAAC9W,YAAY,CAAC;EAClD,MAAM;IAAEue,SAAS;IAAEC;EAAU,CAAC,GAAGzH,QAAQ,CAAC,MAAMiB,IAAI,CAACyG,eAAe,CAAC,CAAC,EAAE,EAAE,CAAC;EAC3E,MAAMhC,QAAQ,GAAG1F,QAAQ,CAAC,MAAM6D,GAAG,CAACsB,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC;EACxD,MAAM,CAACwC,YAAY,EAAEC,eAAe,CAAC,GAAG1H,SAAS,CAAC,MAAMe,IAAI,CAAC4G,eAAe,CAAC,CAAC,CAAC;EAC/E,MAAMjc,SAAS,GAAGqV,IAAI,CAAC6G,cAAc;EACrC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG9H,SAAS,CAAC,MAAMuH,SAAS,GAAG,IAAI,CAAC;EAC7D,MAAM,CAACQ,GAAG,EAAEC,MAAM,CAAC,GAAGhI,SAAS,CAAC,MAAMsH,SAAS,GAAG,IAAI,CAAC;EACvD,MAAMW,YAAY,GAAGlI,OAAO,CAAC,IAAI,CAAC;EAClC,MAAM,CAACmI,SAAS,EAAEC,YAAY,CAAC,GAAGnI,SAAS,CAAC,MAAMe,IAAI,CAACqH,qBAAqB,CAAC,CAAC,CAAC;EAC/E,MAAM/G,QAAQ,GAAGtB,OAAO,CAAC,CAAC;EAC1B,MAAM7Q,IAAI,GAAG6Q,OAAO,CAAC,IAAI,CAAC;EAC1B,MAAMzP,OAAO,GAAGsP,YAAY,CAAErP,IAAI,IAAK;IACrCrB,IAAI,CAACvE,OAAO,GAAG4F,IAAI;IACnB,IAAI,CAACA,IAAI,IAAI,CAACwQ,IAAI,CAACC,OAAO,CAAC,CAAC,IAAI5X,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MACrD4X,QAAQ,CAAC1W,OAAO,GAAGvB,OAAO,CAACa,WAAW,CAACoX,QAAQ,CAAC1W,OAAO,CAAC;MACxD;IACF;IACA0W,QAAQ,CAAC1W,OAAO,GAAGvB,OAAO,CAACoI,UAAU,CAAC,IAAI0O,WAAW,CAAC,CAAC,CAAC;IACxD,MAAM1P,SAAS,GAAG;MAChBsX,SAAS,EAAGO,OAAO,IAAKP,SAAS,CAACO,OAAO,CAAC;MAC1CL,MAAM,EAAGM,IAAI,IAAKN,MAAM,CAACM,IAAI,CAAC;MAC9BC,cAAc,EAAEA,CAACC,KAAK,EAAEC,UAAU,EAAEC,WAAW,KAAK;QAClD,MAAMC,aAAa,GAAGV,YAAY,CAACtd,OAAO;QAC1C,MAAMie,SAAS,GAAG5a,uBAAuB,CAAC2a,aAAa,EAAEH,KAAK,EAAEC,UAAU,CAAC;QAC3E,IAAIG,SAAS,KAAKD,aAAa,EAAE;UAC/BV,YAAY,CAACtd,OAAO,GAAGie,SAAS;UAChCvb,WAAW,CAACqb,WAAW,EAAE,MAAMP,YAAY,CAACS,SAAS,CAAC,CAAC;QACzD;MACF,CAAC;MACD5G,QAAQ,EAAGC,KAAK,IAAK;QACnB,IAAI/S,IAAI,CAACvE,OAAO,EAAE;UAChBuE,IAAI,CAACvE,OAAO,CAACuX,KAAK,CAACD,KAAK,GAAGA,KAAK;QAClC;MACF,CAAC;MACD4G,WAAW,EAAGC,QAAQ,IAAK;QACzBpB,eAAe,CAACoB,QAAQ,CAAC;MAC3B;IACF,CAAC;IACD/H,IAAI,CAACyB,OAAO,CAAChS,SAAS,EAAE6Q,QAAQ,CAAC1W,OAAO,EAAE,KAAK,CAAC;EAClD,CAAC,EAAE,EAAE,CAAC;EACN,MAAMuX,KAAK,GAAGpC,QAAQ,CACpB,OAAO;IACL+H,MAAM;IACNE;EACF,CAAC,CAAC,EACF,CAACF,MAAM,EAAEE,GAAG,CACd,CAAC;EACD,MAAMgB,aAAa,GAAGnJ,YAAY,CAAEoJ,QAAQ,IAAK;IAC/C,QAAQjI,IAAI,CAACwE,IAAI;MACf,KAAK,OAAO;QACV,OAAO,eAAgB7F,MAAM,CAACxN,aAAa,CAACkV,2BAA2B,EAAE;UAAErG,IAAI,EAAEiI,QAAQ;UAAE9c,GAAG,EAAE8c,QAAQ,CAACpa;QAAW,CAAC,CAAC;MACxH,KAAK,QAAQ;QACX,OAAO,eAAgB8Q,MAAM,CAACxN,aAAa,CAACuT,4BAA4B,EAAE;UAAE1E,IAAI,EAAEiI,QAAQ;UAAE9c,GAAG,EAAE8c,QAAQ,CAACpa;QAAW,CAAC,CAAC;MACzH;QACE,OAAO,eAAgB8Q,MAAM,CAACxN,aAAa,CAAC2Q,sBAAsB,EAAE;UAAE9B,IAAI,EAAEiI,QAAQ;UAAE9c,GAAG,EAAE8c,QAAQ,CAACpa;QAAW,CAAC,CAAC;IACrH;EACF,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,eAAgB8Q,MAAM,CAACxN,aAAa,CACzC,KAAK,EACL;IACE5I,GAAG,EAAEgH,OAAO;IACZ5E,SAAS;IACT0G,IAAI,EAAE,KAAK;IACX8P,KAAK;IACLsD,QAAQ;IACR,eAAe,EAAEiC;EACnB,CAAC,EACDS,SAAS,CAACe,GAAG,CAACF,aAAa,CAC7B,CAAC;AACH,CAAC;AACD,IAAIG,qBAAqB,GAAGvJ,KAAK,CAAC0H,aAAa,CAAC;;AAEhD;AACA,IAAI8B,sBAAsB,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAC3C,MAAM,CAACpY,SAAS,EAAEqY,YAAY,CAAC,GAAG7J,SAAS,CAAC,IAAI,CAAC;EACjD,MAAM,CAAC8J,cAAc,EAAEC,iBAAiB,CAAC,GAAG/J,SAAS,CAAC,EAAE,CAAC;EACzD,MAAM;IAAEpW;EAAQ,CAAC,GAAGkW,WAAW,CAACvW,YAAY,CAAC;EAC7C,MAAMmG,IAAI,GAAGqQ,OAAO,CAAC,IAAI,CAAC;EAC1B,MAAMiK,gBAAgB,GAAGjK,OAAO,CAAC,IAAI,CAAC;EACtC,MAAMkK,gBAAgB,GAAGlK,OAAO,CAAC,CAAC;EAClC,MAAMmK,UAAU,GAAGN,MAAM,KAAK,MAAM;EACpC,MAAMO,WAAW,GAAGP,MAAM,KAAK,OAAO;EACtC,MAAMQ,MAAM,GAAG,CAACF,UAAU,IAAI,CAACC,WAAW;EAC1C,MAAMrZ,OAAO,GAAG+O,YAAY,CAAE9O,IAAI,IAAK;IACrCrB,IAAI,CAACvE,OAAO,GAAG4F,IAAI;IACnB,IAAI,CAACA,IAAI,IAAInH,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MAClCggB,gBAAgB,CAAC9e,OAAO,GAAGvB,OAAO,CAACa,WAAW,CAACwf,gBAAgB,CAAC9e,OAAO,CAAC;MACxE;IACF;IACA8e,gBAAgB,CAAC9e,OAAO,GAAGvB,OAAO,CAACoI,UAAU,CAAC,IAAIiO,sBAAsB,CAAC2J,MAAM,CAAC,CAAC;IACjF,MAAM5Y,SAAS,GAAG;MAChB6Y,YAAY;MACZQ,QAAQ,EAAGrB,KAAK,IAAKe,iBAAiB,CAACf,KAAK,CAAC;MAC7C;MACAsB,cAAc,EAAG7H,KAAK,IAAK;QACzB,IAAIuH,gBAAgB,CAAC7e,OAAO,EAAE;UAC5B6e,gBAAgB,CAAC7e,OAAO,CAACuX,KAAK,CAACD,KAAK,GAAGA,KAAK;QAC9C;MACF,CAAC;MACD8H,qBAAqB,EAAGC,IAAI,IAAK;QAC/B,IAAI9a,IAAI,CAACvE,OAAO,EAAE;UAChBuE,IAAI,CAACvE,OAAO,CAACsf,UAAU,GAAGD,IAAI;QAChC;MACF,CAAC;MACD;MACAE,uBAAuB,EAAGjI,KAAK,IAAK;QAClC,IAAI/S,IAAI,CAACvE,OAAO,EAAE;UAChBuE,IAAI,CAACvE,OAAO,CAACuX,KAAK,CAACD,KAAK,GAAGA,KAAK;UAChC/S,IAAI,CAACvE,OAAO,CAACuX,KAAK,CAACiI,QAAQ,GAAGlI,KAAK;UACnC/S,IAAI,CAACvE,OAAO,CAACuX,KAAK,CAACkI,QAAQ,GAAGnI,KAAK;QACrC;MACF;IACF,CAAC;IACDwH,gBAAgB,CAAC9e,OAAO,CAAC6X,OAAO,CAAChS,SAAS,EAAEtB,IAAI,CAACvE,OAAO,CAAC;EAC3D,CAAC,EAAE,EAAE,CAAC;EACN,MAAMe,SAAS,GAAG,CAACsF,SAAS,GAAG,WAAW,GAAG,EAAE;EAC/C,MAAMqZ,aAAa,GAAGA,CAAA,KAAMf,cAAc,CAACL,GAAG,CAAElI,IAAI,IAAK,eAAgB5B,MAAM,CAACjN,aAAa,CAACgX,qBAAqB,EAAE;IAAEnI,IAAI;IAAE7U,GAAG,EAAE6U,IAAI,CAACnS;EAAW,CAAC,CAAC,CAAC;EACrJ,OAAO8a,UAAU,GAAG,eAAgBvK,MAAM,CAACjN,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEgH,OAAO;IAAE5E,SAAS,EAAE,wBAAwB,GAAGA,SAAS;IAAE,aAAa,EAAE,CAACsF,SAAS;IAAEoB,IAAI,EAAE;EAAW,CAAC,EAAEiY,aAAa,CAAC,CAAC,CAAC,GAAGV,WAAW,GAAG,eAAgBxK,MAAM,CAACjN,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEgH,OAAO;IAAE5E,SAAS,EAAE,yBAAyB,GAAGA,SAAS;IAAE,aAAa,EAAE,CAACsF,SAAS;IAAEoB,IAAI,EAAE;EAAW,CAAC,EAAEiY,aAAa,CAAC,CAAC,CAAC,GAAGT,MAAM,GAAG,eAAgBzK,MAAM,CAACjN,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEgH,OAAO;IAAE5E,SAAS,EAAE,qBAAqB,GAAGA,SAAS;IAAE0G,IAAI,EAAE,UAAU;IAAEoT,QAAQ,EAAE,CAAC;EAAE,CAAC,EAAE,eAAgBrG,MAAM,CAACjN,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEkgB,gBAAgB;IAAE9d,SAAS,EAAE,qBAAqB;IAAE0G,IAAI,EAAE;EAAe,CAAC,EAAEiY,aAAa,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;AAC/qB,CAAC;AACD,IAAIC,8BAA8B,GAAGlL,KAAK,CAAC+J,sBAAsB,CAAC;;AAElE;AACA,IAAIoB,cAAc,GAAGA,CAAA,KAAM;EACzB,MAAM,CAAC1a,UAAU,EAAEC,aAAa,CAAC,GAAGmP,SAAS,CAAC,MAAM,IAAI7T,UAAU,CAAC,CAAC,CAAC;EACrE,MAAM,CAACyc,MAAM,EAAEC,SAAS,CAAC,GAAG7I,SAAS,CAAC,CAAC;EACvC,MAAM;IAAE7V;EAAQ,CAAC,GAAG0V,WAAW,CAAC/V,YAAY,CAAC;EAC7C,MAAMmG,IAAI,GAAG8P,OAAO,CAAC,IAAI,CAAC;EAC1B,MAAMwL,WAAW,GAAGxL,OAAO,CAAC,CAAC;EAC7B,MAAM1O,OAAO,GAAGuO,YAAY,CAAEtO,IAAI,IAAK;IACrCrB,IAAI,CAACvE,OAAO,GAAG4F,IAAI;IACnB,IAAI,CAACA,IAAI,IAAInH,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MAClC+gB,WAAW,CAAC7f,OAAO,GAAGvB,OAAO,CAACa,WAAW,CAACugB,WAAW,CAAC7f,OAAO,CAAC;MAC9D;IACF;IACA6f,WAAW,CAAC7f,OAAO,GAAGvB,OAAO,CAACoI,UAAU,CAAC,IAAI0N,cAAc,CAAC,CAAC,CAAC;IAC9D,MAAM1O,SAAS,GAAG;MAChBK,SAAS,EAAEA,CAACC,IAAI,EAAElF,EAAE,KAAKkE,aAAa,CAAE7B,IAAI,IAAKA,IAAI,CAACtC,QAAQ,CAACmF,IAAI,EAAElF,EAAE,CAAC,CAAC;MACzE6e,qBAAqB,EAAGpC,OAAO,IAAKP,SAAS,CAACO,OAAO;IACvD,CAAC;IACDmC,WAAW,CAAC7f,OAAO,CAAC6X,OAAO,CAAChS,SAAS,EAAED,IAAI,EAAEA,IAAI,CAAC;EACpD,CAAC,EAAE,EAAE,CAAC;EACN,MAAM7E,SAAS,GAAGqT,QAAQ,CAAC,MAAM;IAC/B,MAAMjT,GAAG,GAAG+D,UAAU,CAAC9D,QAAQ,CAAC,CAAC;IACjC,OAAO,YAAY,GAAGD,GAAG;EAC3B,CAAC,EAAE,CAAC+D,UAAU,CAAC,CAAC;EAChB,MAAMqS,KAAK,GAAGnD,QAAQ,CACpB,OAAO;IACL8I,MAAM;IACN6C,SAAS,EAAE7C;EACb,CAAC,CAAC,EACF,CAACA,MAAM,CACT,CAAC;EACD,OAAO,eAAgBlJ,OAAO,CAACzM,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEgH,OAAO;IAAE5E,SAAS;IAAEwW,KAAK;IAAE9P,IAAI,EAAE;EAAe,CAAC,EAAE,eAAgBuM,OAAO,CAACzM,aAAa,CAACoY,8BAA8B,EAAE;IAAElB,MAAM,EAAE;EAAO,CAAC,CAAC,EAAE,eAAgBzK,OAAO,CAACzM,aAAa,CAACoY,8BAA8B,EAAE;IAAElB,MAAM,EAAE;EAAK,CAAC,CAAC,EAAE,eAAgBzK,OAAO,CAACzM,aAAa,CAACoY,8BAA8B,EAAE;IAAElB,MAAM,EAAE;EAAQ,CAAC,CAAC,CAAC;AAC/X,CAAC;AACD,IAAIuB,sBAAsB,GAAG/L,KAAK,CAAC2L,cAAc,CAAC;;AAElD;AACA,SAASnjB,SAAS,IAAIwjB,UAAU,QAAQ,OAAO;AAC/C,IAAIC,qBAAqB,GAAGA,CAACC,OAAO,EAAEC,cAAc,KAAK;EACvDH,UAAU,CAAC,MAAM;IACf,MAAMI,WAAW,GAAGD,cAAc,CAACpgB,OAAO;IAC1C,IAAIqgB,WAAW,EAAE;MACf,MAAM3hB,OAAO,GAAG2hB,WAAW,CAAC3gB,aAAa;MACzC,IAAIhB,OAAO,EAAE;QACX,MAAM4hB,QAAQ,GAAGhW,QAAQ,CAACiW,aAAa,CAACJ,OAAO,CAAC;QAChDzhB,OAAO,CAAC8hB,YAAY,CAACF,QAAQ,EAAED,WAAW,CAAC;QAC3C,OAAO,MAAM;UACX3hB,OAAO,CAACiB,WAAW,CAAC2gB,QAAQ,CAAC;QAC/B,CAAC;MACH;IACF;EACF,CAAC,EAAE,CAACH,OAAO,CAAC,CAAC;AACf,CAAC;AACD,IAAIM,oBAAoB,GAAGP,qBAAqB;;AAEhD;AACA,OAAOQ,OAAO,IAAI1Y,IAAI,IAAI2Y,MAAM,EAAEtkB,WAAW,IAAIukB,aAAa,EAAErkB,UAAU,IAAIskB,YAAY,EAAEhkB,OAAO,IAAIikB,SAAS,EAAE/jB,MAAM,IAAIgkB,QAAQ,EAAE9jB,QAAQ,IAAI+jB,UAAU,QAAQ,OAAO;AAC3K,SACEC,gBAAgB,EAChBC,qBAAqB,EACrBC,uBAAuB,EACvBC,yBAAyB,EACzBC,oBAAoB,QACf,mBAAmB;;AAE1B;AACA,OAAOC,OAAO,IAAItZ,IAAI,IAAIuZ,MAAM,EAAEllB,WAAW,IAAImlB,aAAa,EAAEjlB,UAAU,IAAIklB,YAAY,EAAEhlB,SAAS,IAAIilB,UAAU,EAAEzjB,eAAe,IAAI0jB,gBAAgB,EAAE9kB,OAAO,IAAI+kB,QAAQ,EAAE7kB,MAAM,IAAI8kB,QAAQ,EAAE5kB,QAAQ,IAAI6kB,UAAU,QAAQ,OAAO;AACxO,SAASrO,eAAe,IAAIsO,gBAAgB,EAAEzM,UAAU,IAAI0M,WAAW,QAAQ,mBAAmB;;AAElG;AACA,OAAOC,OAAO,IAAIC,QAAQ,EAAEla,IAAI,IAAIma,KAAK,EAAE9lB,WAAW,IAAI+lB,YAAY,EAAE7lB,UAAU,IAAI8lB,YAAY,EAAEpkB,eAAe,IAAIqkB,gBAAgB,EAAEzlB,OAAO,IAAI0lB,QAAQ,EAAExlB,MAAM,IAAIylB,QAAQ,EAAEvlB,QAAQ,IAAIwlB,UAAU,QAAQ,OAAO;AACvN,SAAShP,eAAe,IAAIiP,gBAAgB,EAAEpN,UAAU,IAAIqN,WAAW,EAAEC,iBAAiB,QAAQ,mBAAmB;;AAErH;AACA,SAAS/a,SAAS,IAAIgb,UAAU,QAAQ,mBAAmB;AAC3D,IAAIC,wBAAwB,GAAG,MAAM;EACnCniB,WAAWA,CAACoiB,gBAAgB,EAAE7V,YAAY,EAAE;IAC1C,IAAI,CAAC6V,gBAAgB,GAAGA,gBAAgB;IACxC,IAAI,CAAC7V,YAAY,GAAGA,YAAY;IAChC,IAAI,CAACzD,eAAe,GAAG,IAAIoZ,UAAU,CAAElZ,OAAO,IAAK;MACjD,IAAI,CAACC,sBAAsB,GAAGD,OAAO;IACvC,CAAC,CAAC;IACF,IAAI,CAACqZ,aAAa,GAAIpjB,KAAK,IAAK,IAAI,CAACqjB,WAAW,CAACrjB,KAAK,CAAC;IACvD,IAAI,CAACA,KAAK,GAAGmjB,gBAAgB,CAACnjB,KAAK;EACrC;EACAiN,QAAQA,CAAA,EAAG;IACT,OAAO;MACL,GAAG,IAAI,CAACkW,gBAAgB;MACxBG,YAAY,EAAE,IAAI,CAACH,gBAAgB,CAACnjB,KAAK;MACzCA,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBojB,aAAa,EAAE,IAAI,CAACA;IACtB,CAAC;EACH;EACAG,QAAQA,CAAA,EAAG;IACT,OAAO,IAAI,CAACvjB,KAAK;EACnB;EACA8F,OAAOA,CAACiC,MAAM,EAAE;IACd,IAAI,CAACob,gBAAgB,GAAGpb,MAAM;IAC9B,IAAI,CAACuF,YAAY,CAAC,CAAC;EACrB;EACA/E,UAAUA,CAAC4E,OAAO,EAAE;IAClBd,kBAAkB,CAAC,IAAI,CAACgB,kBAAkB,CAAC,CAAC,EAAEF,OAAO,EAAE,IAAI,CAAC;EAC9D;EACAD,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACrD,eAAe,CAACrK,IAAI,CAAC,MAAM,IAAI,CAAC6K,iBAAiB,CAAC;EAChE;EACAxK,MAAMA,CAACwK,iBAAiB,EAAE;IACxB,IAAI,CAACA,iBAAiB,GAAGA,iBAAiB;IAC1C,IAAI,CAACL,sBAAsB,GAAG,CAAC;IAC/B,IAAI,CAACA,sBAAsB,GAAG,KAAK,CAAC;EACtC;EACAqD,kBAAkBA,CAAA,EAAG;IACnB,OAAO,CACL,qBAAqB,EACrB,kBAAkB,EAClB,SAAS,EACT,UAAU,EACV,kBAAkB,EAClB,qBAAqB,EACrB,sBAAsB,CACvB;EACH;EACAgW,WAAWA,CAACrjB,KAAK,EAAE;IACjB,IAAI,CAACA,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACsN,YAAY,CAAC,CAAC;EACrB;AACF,CAAC;;AAED;AACA,OAAOkW,OAAO,MAAM,OAAO;;AAE3B;AACA,SAASpb,IAAI,IAAIqb,KAAK,EAAE9mB,UAAU,IAAI+mB,WAAW,EAAErlB,eAAe,IAAIslB,gBAAgB,EAAEtmB,QAAQ,IAAIumB,UAAU,QAAQ,OAAO;AAC7H,SAAS5a,YAAY,IAAI6a,aAAa,QAAQ,WAAW;AACzD,SAASC,oBAAoB,QAAQ,mBAAmB;;AAExD;AACA,SAASjnB,SAAS,IAAIknB,UAAU,EAAE5mB,MAAM,IAAI6mB,OAAO,EAAE3mB,QAAQ,IAAI4mB,SAAS,QAAQ,OAAO;AACzF,IAAIC,aAAa,GAAIC,MAAM,IAAK;EAC9B,MAAMC,QAAQ,GAAGJ,OAAO,CAACG,MAAM,CAAC;EAChC,MAAME,SAAS,GAAGL,OAAO,CAAC,CAAC;EAC3B,MAAMM,YAAY,GAAGN,OAAO,CAAC,KAAK,CAAC;EACnC,MAAM/X,QAAQ,GAAG+X,OAAO,CAAC,KAAK,CAAC;EAC/B,MAAM,GAAGO,MAAM,CAAC,GAAGN,SAAS,CAAC,CAAC,CAAC;EAC/B,IAAIK,YAAY,CAAClkB,OAAO,EAAE;IACxB6L,QAAQ,CAAC7L,OAAO,GAAG,IAAI;EACzB;EACA2jB,UAAU,CAAC,MAAM;IACf,IAAI,CAACO,YAAY,CAAClkB,OAAO,EAAE;MACzBikB,SAAS,CAACjkB,OAAO,GAAGgkB,QAAQ,CAAChkB,OAAO,CAAC,CAAC;MACtCkkB,YAAY,CAAClkB,OAAO,GAAG,IAAI;IAC7B;IACAmkB,MAAM,CAAEC,GAAG,IAAKA,GAAG,GAAG,CAAC,CAAC;IACxB,OAAO,MAAM;MACX,IAAI,CAACvY,QAAQ,CAAC7L,OAAO,EAAE;QACrB;MACF;MACAikB,SAAS,CAACjkB,OAAO,GAAG,CAAC;IACvB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;AACR,CAAC;;AAED;AACA,IAAIqkB,eAAe,GAAIhgB,KAAK,IAAK;EAC/B,MAAM,CAACigB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGf,UAAU,CAAC,CAAC;EAChE,MAAMgB,KAAK,GAAGlB,WAAW,CAACllB,YAAY,CAAC;EACvC,MAAM;IAAEK,OAAO;IAAEgmB,QAAQ;IAAEzL,GAAG;IAAE0L;EAAQ,CAAC,GAAGF,KAAK;EACjD,MAAM;IAAEG,WAAW;IAAEtG,QAAQ;IAAEuG;EAAY,CAAC,GAAGvgB,KAAK;EACpDyf,aAAa,CAAC,MAAM;IAClB,MAAM;MAAEtlB;IAAY,CAAC,GAAGmmB,WAAW;IACnC,MAAME,aAAa,GAAG7L,GAAG,CAACsB,GAAG,CAAC,+BAA+B,CAAC;IAC9D,IAAIwK,eAAe,GAAG,KAAK,CAAC;IAC5B,IAAIC,OAAO;IACX,IAAI,CAACtmB,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MAC1BimB,OAAO,GAAGtmB,OAAO,CAACoI,UAAU,CAAC6d,OAAO,CAACM,wBAAwB,CAACxmB,WAAW,CAACmJ,MAAM,CAAC,CAAC;MAClF,MAAMsd,SAAS,GAAGF,OAAO,CAACxlB,MAAM,CAAC,CAAC;MAClC,IAAI8E,KAAK,CAAC6gB,WAAW,EAAE;QACrB,MAAMC,SAAS,GAAG9gB,KAAK,CAAC6gB,WAAW,CAAC3lB,MAAM,CAAC,CAAC;QAC5C,IAAI4lB,SAAS,EAAE;UACbF,SAAS,CAACzlB,WAAW,CAAC2lB,SAAS,CAAC;QAClC;MACF;MACA,MAAM;QAAEC,MAAM;QAAEC;MAAQ,CAAC,GAAGhH,QAAQ;MACpC,MAAMiH,cAAc,GAAG;QACrBF,MAAM;QACNC,OAAO;QACPzK,IAAI,EAAE,iBAAiB;QACvB2K,WAAW,EAAEX,WAAW;QACxBY,MAAM,EAAEP,SAAS;QACjBQ,QAAQ,EAAEd,WAAW,CAACe,aAAa;QACnCC,gBAAgB,EAAE;MACpB,CAAC;MACD,MAAMC,gBAAgB,GAAGnB,QAAQ,EAAEoB,wBAAwB,CAAC7Z,IAAI,CAACyY,QAAQ,EAAEa,cAAc,CAAC;MAC1F,MAAMQ,WAAW,GAAGrB,QAAQ,EAAEsB,QAAQ,CAAC;QACrCC,KAAK,EAAEnB,aAAa;QACpBoB,MAAM,EAAEhB,SAAS;QACjBiB,UAAU,EAAE,IAAI;QAChBC,cAAc,EAAEA,CAAA,KAAM;UACpB9H,QAAQ,CAAC+H,mBAAmB,CAAC,CAAC;QAChC,CAAC;QACDC,eAAe,EAAEzB,WAAW;QAC5BgB,gBAAgB;QAChBU,QAAQ,EAAE1B;MACZ,CAAC,CAAC;MACFE,eAAe,GAAGgB,WAAW,GAAGA,WAAW,CAACS,QAAQ,GAAG,KAAK,CAAC;MAC7DhC,qBAAqB,CAACQ,OAAO,CAAC;MAC9B1gB,KAAK,CAAC6gB,WAAW,EAAEhW,gBAAgB,GAAG,CAAC;IACzC;IACA,OAAO,MAAM;MACX4V,eAAe,GAAG,CAAC;MACnBrmB,OAAO,CAACa,WAAW,CAACylB,OAAO,CAAC;IAC9B,CAAC;EACH,CAAC,CAAC;EACFxB,gBAAgB,CAAC,MAAM;IACrB,OAAO,MAAM;MACX,IAAIlF,QAAQ,CAACmI,aAAa,CAAC,CAAC,IAAIlC,kBAAkB,EAAE/kB,MAAM,CAAC,CAAC,CAACknB,QAAQ,CAAC/C,oBAAoB,CAACc,KAAK,CAAC,CAAC,EAAE;QAClGI,WAAW,CAAC8B,KAAK,CAAC;UAAEC,aAAa,EAAE;QAAK,CAAC,CAAC;MAC5C;IACF,CAAC;EACH,CAAC,EAAE,CAACrC,kBAAkB,CAAC,CAAC;EACxB,OAAOA,kBAAkB,IAAIjgB,KAAK,CAACuiB,cAAc,GAAGnD,aAAa,CAACpf,KAAK,CAACuiB,cAAc,EAAEtC,kBAAkB,CAAC/kB,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI;AAC7H,CAAC;AACD,IAAIsnB,uBAAuB,GAAGxD,KAAK,CAACgB,eAAe,CAAC;;AAEpD;AACA,IAAIyC,cAAc,GAAGA,CAACnC,WAAW,EAAEoC,eAAe,EAAEphB,OAAO,KAAK;EAC9D,MAAM;IAAEE;EAAU,CAAC,GAAG8e,WAAW;EACjChf,OAAO,CAACE,SAAS,CAAC;EAClB,MAAMxB,KAAK,GAAGwB,SAAS,CAACgH,QAAQ,CAAC,CAAC;EAClC,MAAMtD,WAAW,GAAG/H,oBAAoB,CAACulB,eAAe,CAAC;EACzD,OAAO,eAAgB3D,OAAO,CAAC7b,aAAa,CAC1CW,aAAa,CAACQ,QAAQ,EACtB;IACE9I,KAAK,EAAE;MACLuI,UAAU,EAAG4E,OAAO,IAAKlH,SAAS,CAACsC,UAAU,CAAC4E,OAAO;IACvD;EACF,CAAC,EACDxD,WAAW,GAAG,eAAgB6Z,OAAO,CAAC7b,aAAa,CAACwf,eAAe,EAAE;IAAE,GAAG1iB;EAAM,CAAC,CAAC,GAAG,eAAgB+e,OAAO,CAAC7b,aAAa,CAACwf,eAAe,EAAE;IAAE,GAAG1iB,KAAK;IAAE1F,GAAG,EAAGA,GAAG,IAAKkH,SAAS,CAACpG,MAAM,CAACd,GAAG;EAAE,CAAC,CAC/L,CAAC;AACH,CAAC;AACD,IAAIqoB,SAAS,GAAGA,CAACrC,WAAW,EAAEoC,eAAe,EAAEphB,OAAO,KAAK;EACzD,MAAMshB,SAAS,GAAGtC,WAAW,CAAC9e,SAAS;EACvC,OAAOohB,SAAS,GAAGH,cAAc,CAACnC,WAAW,EAAEoC,eAAe,EAAEphB,OAAO,CAAC,GAAG,eAAgByd,OAAO,CAAC7b,aAAa,CAACwf,eAAe,EAAE;IAAE,GAAGpC,WAAW,CAACnmB,WAAW,CAACmJ,MAAM;IAAEhJ,GAAG,EAAEgH;EAAQ,CAAC,CAAC;AACxL,CAAC;AACD,IAAIuhB,YAAY,GAAGA,CAACvC,WAAW,EAAEwC,gBAAgB,EAAE5iB,IAAI,EAAE8Z,QAAQ,EAAE+I,YAAY,KAAK;EAClF,MAAM5oB,WAAW,GAAGmmB,WAAW,CAACnmB,WAAW;EAC3C,MAAMuoB,eAAe,GAAGvoB,WAAW,CAAC4I,cAAc;EAClD,MAAMigB,iBAAiB,GAAG7oB,WAAW,CAACK,sBAAsB,IAAI,CAAC8lB,WAAW,CAAC2C,KAAK;EAClF,MAAMC,gBAAgB,GAAG/oB,WAAW,CAACK,sBAAsB,IAAI8lB,WAAW,CAAC2C,KAAK;EAChF,MAAME,aAAa,GAAG,CAAChpB,WAAW,CAACK,sBAAsB,IAAI8lB,WAAW,CAAC2C,KAAK;EAC9E,OAAOD,iBAAiB,GAAGL,SAAS,CAACrC,WAAW,EAAEoC,eAAe,EAAEI,gBAAgB,CAAC,GAAGI,gBAAgB,GAAG,eAAgBnE,OAAO,CAAC7b,aAAa,CAC7Isf,uBAAuB,EACvB;IACElC,WAAW;IACXtG,QAAQ;IACRuG,WAAW,EAAErgB,IAAI;IACjBqiB,cAAc,EAAEI,SAAS,CAACrC,WAAW,EAAEoC,eAAe,EAAEI,gBAAgB;EAC1E,CACF,CAAC,GAAGK,aAAa,IAAIJ,YAAY,GAAG,eAAgBhE,OAAO,CAAC7b,aAAa,CAACsf,uBAAuB,EAAE;IAAElC,WAAW;IAAEtG,QAAQ;IAAEuG,WAAW,EAAErgB,IAAI;IAAE2gB,WAAW,EAAEkC;EAAa,CAAC,CAAC,GAAG,IAAI;AACpL,CAAC;;AAED;AACA,SAAS/qB,WAAW,IAAIorB,YAAY,EAAElrB,UAAU,IAAImrB,WAAW,EAAEjrB,SAAS,IAAIkrB,UAAU,QAAQ,OAAO;AACvG,IAAIC,iBAAiB,GAAGA,CAACC,WAAW,EAAEC,SAAS,EAAEC,UAAU,EAAEC,gBAAgB,EAAEC,iBAAiB,EAAE1jB,IAAI,KAAK;EACzG,MAAM;IAAE9F;EAAQ,CAAC,GAAGipB,WAAW,CAACtpB,YAAY,CAAC;EAC7C,MAAM8pB,mBAAmB,GAAGT,YAAY,CAAC,MAAM;IAC7C,MAAMxoB,IAAI,GAAGgpB,iBAAiB,CAACjoB,OAAO;IACtC,IAAI,CAACf,IAAI,EAAE;MACT;IACF;IACA,MAAMC,OAAO,GAAGD,IAAI,CAACM,MAAM,CAAC,CAAC;IAC7B,IAAIL,OAAO,IAAIA,OAAO,CAACQ,aAAa,EAAE;MACpCR,OAAO,CAACQ,aAAa,CAACC,WAAW,CAACT,OAAO,CAAC;IAC5C;IACAT,OAAO,CAACa,WAAW,CAACL,IAAI,CAAC;IACzBgpB,iBAAiB,CAACjoB,OAAO,GAAG,KAAK,CAAC;EACpC,CAAC,EAAE,EAAE,CAAC;EACN2nB,UAAU,CAAC,MAAM;IACf,MAAMQ,SAAS,GAAGN,WAAW,IAAI,IAAI;IACrC,MAAMO,aAAa,GAAGP,WAAW,EAAErpB,WAAW,IAAI,CAACqpB,WAAW,CAACrpB,WAAW,CAACK,sBAAsB;IACjG,MAAMwpB,oBAAoB,GAAGP,SAAS,IAAIC,UAAU,IAAI,IAAI;IAC5D,MAAMO,QAAQ,GAAGH,SAAS,IAAIC,aAAa,IAAI,CAACC,oBAAoB;IACpE,IAAI,CAACC,QAAQ,EAAE;MACbJ,mBAAmB,CAAC,CAAC;MACrB;IACF;IACA,MAAM1pB,WAAW,GAAGqpB,WAAW,CAACrpB,WAAW;IAC3C,IAAIypB,iBAAiB,CAACjoB,OAAO,EAAE;MAC7B,MAAMf,IAAI,GAAGgpB,iBAAiB,CAACjoB,OAAO;MACtC,MAAMuoB,cAAc,GAAGtpB,IAAI,CAACyG,OAAO,IAAI,IAAI,IAAImiB,WAAW,CAACW,KAAK,IAAI,KAAK;MACzE,MAAMC,aAAa,GAAGF,cAAc,GAAGtpB,IAAI,CAACyG,OAAO,CAAClH,WAAW,CAACmJ,MAAM,CAAC,GAAG,KAAK;MAC/E,MAAM+gB,aAAa,GAAGD,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC;MACxE,IAAIC,aAAa,EAAE;QACjB;MACF;MACAR,mBAAmB,CAAC,CAAC;IACvB;IACA,MAAMnpB,OAAO,GAAGP,WAAW,CAACQ,kBAAkB,CAAC,CAAC;IAChDD,OAAO,CAACK,IAAI,CAAEH,IAAI,IAAK;MACrB,IAAI,CAACA,IAAI,EAAE;QACT;MACF;MACA,MAAMC,OAAO,GAAGD,IAAI,CAACM,MAAM,CAAC,CAAC;MAC7B,IAAI,CAACL,OAAO,EAAE;QACZ;MACF;MACA,MAAMypB,MAAM,GAAGb,SAAS,GAAGC,UAAU,GAAGxjB,IAAI,CAACvE,OAAO;MACpD2oB,MAAM,CAACnpB,WAAW,CAACN,OAAO,CAAC;MAC3B+oB,iBAAiB,CAACjoB,OAAO,GAAGf,IAAI;IAClC,CAAC,CAAC;EACJ,CAAC,EAAE,CAAC4oB,WAAW,EAAEC,SAAS,EAAEE,gBAAgB,CAAC,CAAC;EAC9CL,UAAU,CAAC,MAAM;IACf,OAAOO,mBAAmB;EAC5B,CAAC,EAAE,EAAE,CAAC;AACR,CAAC;AACD,IAAIU,sBAAsB,GAAGhB,iBAAiB;;AAE9C;AACA,OAAOiB,OAAO,IAAIhsB,OAAO,IAAIisB,QAAQ,EAAE/rB,MAAM,IAAIgsB,OAAO,QAAQ,OAAO;AACvE,IAAIC,oBAAoB,GAAGA,CAAC;EAC1B3K,QAAQ;EACRsK;AACF,CAAC,KAAK;EACJ,MAAMV,iBAAiB,GAAGc,OAAO,CAAC,CAAC;EACnC,MAAME,aAAa,GAAGH,QAAQ,CAAC,MAAM;IACnC,MAAM;MAAEI;IAAY,CAAC,GAAG7K,QAAQ,CAAC8K,2BAA2B,CAAC,CAAC;IAC9D,OAAOD,WAAW,GAAG;MACnBtpB,KAAK,EAAE,KAAK,CAAC;MACbpB,WAAW,EAAE0qB,WAAW;MACxBV,KAAK,EAAE;IACT,CAAC,GAAG,KAAK,CAAC;EACZ,CAAC,EAAE,CAACnK,QAAQ,CAAC,CAAC;EACduK,sBAAsB,CAACK,aAAa,EAAE,KAAK,EAAE,KAAK,CAAC,EAAE,CAAC,EAAEhB,iBAAiB,EAAEU,MAAM,CAAC;EAClF,IAAIM,aAAa,EAAEzqB,WAAW,EAAEK,sBAAsB,EAAE;IACtD,MAAMuqB,iBAAiB,GAAGH,aAAa,CAACzqB,WAAW,CAAC4I,cAAc;IAClE,OAAO,eAAgByhB,OAAO,CAACthB,aAAa,CAAC6hB,iBAAiB,EAAE;MAAE,GAAGH,aAAa,CAACzqB,WAAW,CAACmJ;IAAO,CAAC,CAAC;EAC1G;EACA,OAAO,eAAgBkhB,OAAO,CAACthB,aAAa,CAACshB,OAAO,CAACQ,QAAQ,EAAE,IAAI,CAAC;AACtE,CAAC;;AAED;AACA,IAAIC,QAAQ,GAAGA,CAAC;EACdjL,QAAQ;EACRkL,WAAW;EACXC;AACF,CAAC,KAAK;EACJ,MAAMhF,KAAK,GAAGnC,YAAY,CAACjkB,YAAY,CAAC;EACxC,MAAM;IAAEK;EAAQ,CAAC,GAAG+lB,KAAK;EACzB,MAAM;IACJY,MAAM,EAAE;MAAEqE;IAAe,CAAC;IAC1BxlB;EACF,CAAC,GAAGoa,QAAQ;EACZ,MAAM3H,QAAQ,GAAG8L,QAAQ,CAAC,CAAC;EAC3B,MAAM,CAACyG,aAAa,EAAES,gBAAgB,CAAC,GAAGjH,UAAU,CAClD,MAAMpE,QAAQ,CAACsL,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG;IAAEnrB,WAAW,EAAE,KAAK,CAAC;IAAEoB,KAAK,EAAEye,QAAQ,CAACuL,iBAAiB,CAAC,CAAC;IAAEpB,KAAK,EAAE;EAAM,CACtH,CAAC;EACD,MAAM,CAAC7D,WAAW,EAAEkF,cAAc,CAAC,GAAGpH,UAAU,CAAC,CAAC;EAClD,MAAM,CAACqH,SAAS,EAAEvQ,YAAY,CAAC,GAAGkJ,UAAU,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACjM,UAAU,EAAEC,aAAa,CAAC,GAAGgM,UAAU,CAAC,CAAC;EAChD,MAAM,CAACsH,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGvH,UAAU,CAAC,KAAK,CAAC;EACjE,MAAM,CAACwH,cAAc,EAAEC,iBAAiB,CAAC,GAAGzH,UAAU,CAAC,KAAK,CAAC;EAC7D,MAAM,CAAC0H,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG3H,UAAU,CAAC,KAAK,CAAC;EACjE,MAAM,CAAC2E,YAAY,EAAEiD,eAAe,CAAC,GAAG5H,UAAU,CAAC,CAAC;EACpD,MAAM6H,YAAY,GAAG/H,QAAQ,CAAC,MAAMlE,QAAQ,CAACkM,cAAc,CAAC,CAAC,EAAE,CAAClM,QAAQ,CAAC,CAAC;EAC1E,MAAMmM,YAAY,GAAGjI,QAAQ,CAAC,MAAMlE,QAAQ,CAAC3W,eAAe,CAAC,CAAC,EAAE,CAAC2W,QAAQ,CAAC,CAAC;EAC3E,MAAM9Z,IAAI,GAAGie,QAAQ,CAAC,IAAI,CAAC;EAC3B,MAAMiI,QAAQ,GAAGjI,QAAQ,CAAC,IAAI,CAAC;EAC/B,MAAMkI,eAAe,GAAGlI,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAMyF,iBAAiB,GAAGzF,QAAQ,CAAC,CAAC;EACpC,MAAMmI,aAAa,GAAGnI,QAAQ,CAAC,CAAC;EAChC,MAAMoI,YAAY,GAAGpI,QAAQ,CAAC,CAAC;EAC/B,MAAMqI,uBAAuB,GAAGrI,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMsI,cAAc,GAAGtI,QAAQ,CAAC,CAAC;EACjC,MAAMuF,UAAU,GAAGvF,QAAQ,CAAC,CAAC;EAC7B,MAAM,CAACwF,gBAAgB,EAAE+C,mBAAmB,CAAC,GAAGtI,UAAU,CAAC,CAAC,CAAC;EAC7D,MAAMuI,eAAe,GAAG5I,YAAY,CAAEzjB,GAAG,IAAK;IAC5CopB,UAAU,CAAC/nB,OAAO,GAAGrB,GAAG;IACxBosB,mBAAmB,CAAEE,CAAC,IAAKA,CAAC,GAAG,CAAC,CAAC;EACnC,CAAC,EAAE,EAAE,CAAC;EACN,MAAMnD,SAAS,GAAGmB,aAAa,IAAI,IAAI,KAAKc,gBAAgB,IAAII,gBAAgB,IAAIF,cAAc,CAAC,KAAKtF,WAAW,IAAI,IAAI,IAAI,CAAC,CAACA,WAAW,CAAC2C,KAAK,CAAC;EACnJ,MAAM4D,eAAe,GAAGZ,YAAY,IAAIxC,SAAS;EACjD,MAAMX,gBAAgB,GAAG/E,YAAY,CAClC+I,UAAU,IAAK;IACdR,aAAa,CAAC3qB,OAAO,GAAGmrB,UAAU;IAClC,IAAIA,UAAU,EAAE;MACd,MAAMC,0BAA0B,GAAGD,UAAU,CAACE,mBAAmB,IAAIF,UAAU,CAACE,mBAAmB,CAAC,CAAC;MACrG5oB,UAAU,CAAC,MAAM;QACf,IAAI2oB,0BAA0B,EAAE;UAC9B/M,QAAQ,CAACiN,WAAW,CAAC,IAAI,CAAC;UAC1BjN,QAAQ,CAACkN,SAAS,CAAC,IAAI,CAAC;QAC1B,CAAC,MAAM;UACLlN,QAAQ,CAACmN,kBAAkB,CAAC,CAAC;UAC7BnN,QAAQ,CAACoN,0BAA0B,CAACN,UAAU,CAAC;QACjD;MACF,CAAC,CAAC;IACJ;EACF,CAAC,EACD,CAAC9M,QAAQ,CACX,CAAC;EACD,MAAMvH,UAAU,GAAG0L,QAAQ,CAAC,CAAC;EAC7B,IAAI,CAAC1L,UAAU,CAAC9W,OAAO,EAAE;IACvB8W,UAAU,CAAC9W,OAAO,GAAG,IAAI0iB,gBAAgB,CAAC,MAAMne,IAAI,CAACvE,OAAO,CAAC;EAC/D;EACA4oB,sBAAsB,CAACK,aAAa,EAAEiC,eAAe,EAAEnD,UAAU,CAAC/nB,OAAO,EAAEgoB,gBAAgB,EAAEC,iBAAiB,EAAE1jB,IAAI,CAAC;EACrH,MAAMmnB,iBAAiB,GAAGlJ,QAAQ,CAAC,CAAC;EACpCF,gBAAgB,CAAC,MAAM;IACrB,MAAMqJ,UAAU,GAAGD,iBAAiB,CAAC1rB,OAAO;IAC5C,MAAM4rB,UAAU,GAAG3C,aAAa;IAChCyC,iBAAiB,CAAC1rB,OAAO,GAAGipB,aAAa;IACzC,IAAI0C,UAAU,IAAI,IAAI,IAAIA,UAAU,CAACntB,WAAW,IAAI,IAAI,IAAIotB,UAAU,IAAI,IAAI,IAAIA,UAAU,CAACptB,WAAW,IAAI,IAAI,EAAE;MAChH;IACF;IACAssB,cAAc,CAAC9qB,OAAO,EAAE6rB,iBAAiB,CAAC,CAAC;IAC3C,MAAMC,cAAc,GAAGH,UAAU,CAACntB,WAAW;IAC7C,MAAMutB,cAAc,GAAGH,UAAU,CAACptB,WAAW;IAC7C,IAAIstB,cAAc,CAAC1kB,cAAc,IAAI2kB,cAAc,CAAC3kB,cAAc,EAAE;MAClE;IACF;IACA,IAAIsjB,eAAe,CAAC1qB,OAAO,EAAE0F,OAAO,IAAI,IAAI,EAAE;MAC5C;IACF;IACA,MAAMmL,MAAM,GAAG6Z,eAAe,CAAC1qB,OAAO,CAAC0F,OAAO,CAACqmB,cAAc,CAACpkB,MAAM,CAAC;IACrE,IAAIkJ,MAAM,IAAI,IAAI,EAAE;MAClB0I,YAAY,CAAEjW,IAAI,IAAKA,IAAI,GAAG,CAAC,CAAC;IAClC;EACF,CAAC,EAAE,CAAC2lB,aAAa,CAAC,CAAC;EACnB3G,gBAAgB,CAAC,MAAM;IACrB,MAAM0J,aAAa,GAAGrH,WAAW,IAAI,CAACA,WAAW,CAACnmB,WAAW,CAACK,sBAAsB;IACpF,IAAI,CAACmtB,aAAa,IAAIvtB,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MAC3C;IACF;IACA,MAAMN,WAAW,GAAGmmB,WAAW,CAACnmB,WAAW;IAC3C,MAAMytB,OAAO,GAAGtH,WAAW,CAAC2C,KAAK,KAAK,IAAI;IAC1C,MAAM4E,iBAAiB,GAAG1tB,WAAW,CAACQ,kBAAkB,CAAC,CAAC;IAC1DktB,iBAAiB,CAAC9sB,IAAI,CAAE+rB,UAAU,IAAK;MACrC,IAAI,CAACA,UAAU,EAAE;QACf;MACF;MACA,MAAMjsB,OAAO,GAAGisB,UAAU,CAAC5rB,MAAM,CAAC,CAAC;MACnC4nB,gBAAgB,CAACgE,UAAU,CAAC;MAC5B,IAAI,CAACc,OAAO,EAAE;QACZ,MAAME,QAAQ,GAAG,CAAC7B,YAAY,GAAGM,YAAY,GAAGrmB,IAAI,EAAEvE,OAAO;QAC7DmsB,QAAQ,EAAE3sB,WAAW,CAACN,OAAO,CAAC;QAC9BisB,UAAU,CAACjc,gBAAgB,IAAIic,UAAU,CAACjc,gBAAgB,CAAC,CAAC;MAC9D;MACAmb,eAAe,CAACc,UAAU,CAAC;IAC7B,CAAC,CAAC;IACF,OAAO,MAAM;MACXe,iBAAiB,CAAC9sB,IAAI,CAAE+rB,UAAU,IAAK;QACrC,MAAMjsB,OAAO,GAAGisB,UAAU,CAAC5rB,MAAM,CAAC,CAAC;QACnC8e,QAAQ,CAAC+N,2BAA2B,CAAC,CAAC;QACtC3tB,OAAO,CAACa,WAAW,CAAC6rB,UAAU,CAAC;QAC/BhE,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACxBkD,eAAe,CAAC,KAAK,CAAC,CAAC;QACvBnrB,OAAO,EAAEQ,aAAa,EAAEC,WAAW,CAACT,OAAO,CAAC;MAC9C,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,EAAE,CAACylB,WAAW,CAAC,CAAC;EACjB,MAAM0H,iBAAiB,GAAGjK,YAAY,CACnCxc,IAAI,IAAK;IACRglB,YAAY,CAAC5qB,OAAO,GAAG4F,IAAI;IAC3B,IAAI,CAACA,IAAI,IAAInH,OAAO,CAACK,WAAW,CAAC,CAAC,IAAI,CAACuf,QAAQ,CAAChI,OAAO,CAAC,CAAC,EAAE;MACzD,MAAMiW,SAAS,GAAGzB,uBAAuB,CAAC7qB,OAAO;MACjD6qB,uBAAuB,CAAC7qB,OAAO,GAAG,EAAE;MACpC,KAAK,MAAMusB,EAAE,IAAID,SAAS,EAAE;QAC1BC,EAAE,CAAC,CAAC;MACN;MACA;IACF;IACA,IAAIC,WAAW;IACf,MAAMC,OAAO,GAAIxtB,IAAI,IAAK;MACxB,IAAIA,IAAI,EAAE;QACR2G,IAAI,CAACsR,qBAAqB,CAAC,YAAY,EAAEjY,IAAI,CAACM,MAAM,CAAC,CAAC,CAAC;QACvDsrB,uBAAuB,CAAC7qB,OAAO,CAACmE,IAAI,CAAC,MAAM;UACzCye,iBAAiB,CAAC3jB,IAAI,CAACM,MAAM,CAAC,CAAC,CAAC;UAChCd,OAAO,CAACa,WAAW,CAACL,IAAI,CAAC;UACzB,IAAI6rB,cAAc,CAAC9qB,OAAO,KAAKwsB,WAAW,EAAE;YAC1C1B,cAAc,CAAC9qB,OAAO,GAAG,KAAK,CAAC;UACjC;QACF,CAAC,CAAC;MACJ;IACF,CAAC;IACD,IAAI+pB,gBAAgB,EAAE;MACpB0C,OAAO,CAACpO,QAAQ,CAACqO,uBAAuB,CAAC,CAAC,CAAC;IAC7C;IACA,IAAIvC,gBAAgB,EAAE;MACpBsC,OAAO,CAACpO,QAAQ,CAACsO,eAAe,CAAC,CAAC,CAAC;IACrC;IACA,IAAI1C,cAAc,EAAE;MAClBuC,WAAW,GAAGnO,QAAQ,CAACuO,iBAAiB,CAAC,CAAC;MAC1C9B,cAAc,CAAC9qB,OAAO,GAAGwsB,WAAW;MACpC,IAAIA,WAAW,EAAE;QACfC,OAAO,CAACD,WAAW,CAAC;QACpBA,WAAW,CAACX,iBAAiB,CAAC,CAAC;MACjC;IACF;EACF,CAAC,EACD,CAACxN,QAAQ,EAAE5f,OAAO,EAAE0rB,gBAAgB,EAAEF,cAAc,EAAEF,gBAAgB,CACxE,CAAC;EACD,MAAMjjB,IAAI,GAAGsb,YAAY,CAAC,MAAM;IAC9B,MAAMyK,SAAS,GAAG,CAACxO,QAAQ,CAACyO,cAAc,CAAC,CAAC,IAAIrC,QAAQ,CAACzqB,OAAO;IAChE,MAAM4F,IAAI,GAAGrB,IAAI,CAACvE,OAAO;IACzB,IAAI,CAAC4F,IAAI,IAAI,CAACinB,SAAS,IAAI,CAACxO,QAAQ,IAAI,CAACA,QAAQ,CAAChI,OAAO,CAAC,CAAC,IAAI5X,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MACpF4X,QAAQ,CAAC1W,OAAO,GAAGvB,OAAO,CAACa,WAAW,CAACoX,QAAQ,CAAC1W,OAAO,CAAC;MACxD;IACF;IACA0W,QAAQ,CAAC1W,OAAO,GAAGvB,OAAO,CAACoI,UAAU,CAAC,IAAI8b,WAAW,CAAC,CAAC,CAAC;IACxD,MAAM9c,SAAS,GAAG;MAChBK,SAAS,EAAEA,CAACC,IAAI,EAAElF,EAAE,KAAK6V,UAAU,CAAC9W,OAAO,CAACkG,SAAS,CAACC,IAAI,EAAElF,EAAE,CAAC;MAC/DwV,aAAa,EAAGe,MAAM,IAAKf,aAAa,CAACe,MAAM,CAAC;MAChDuV,mBAAmB,EAAEA,CAAA,KAAMxoB,IAAI,CAACvE,OAAO;MACvCgqB,mBAAmB,EAAGgD,OAAO,IAAKhD,mBAAmB,CAACgD,OAAO,CAAC;MAC9D9C,iBAAiB,EAAG8C,OAAO,IAAK9C,iBAAiB,CAAC8C,OAAO,CAAC;MAC1D5C,mBAAmB,EAAG4C,OAAO,IAAK5C,mBAAmB,CAAC4C,OAAO,CAAC;MAC9DC,aAAa,EAAEA,CAAA,KAAMtC,aAAa,CAAC3qB,OAAO,IAAI,IAAI;MAClDktB,eAAe,EAAEA,CAAA,KAAMxC,eAAe,CAAC1qB,OAAO,IAAIioB,iBAAiB,CAACjoB,OAAO;MAC3EmtB,gBAAgB,EAAEA,CAAA,KAAMpF,UAAU,CAAC/nB,OAAO,IAAI4qB,YAAY,CAAC5qB,OAAO,IAAIuE,IAAI,CAACvE,OAAO;MAClF0pB,gBAAgB,EAAEA,CAAClrB,WAAW,EAAEoB,KAAK,EAAE4oB,KAAK,KAAK;QAC/C,MAAM4E,UAAU,GAAGA,CAAA,KAAM;UACvB1D,gBAAgB,CAAEpmB,IAAI,IAAK;YACzB,IAAIA,IAAI,EAAE9E,WAAW,KAAKA,WAAW,IAAI8E,IAAI,EAAE1D,KAAK,KAAKA,KAAK,IAAI0D,IAAI,EAAEklB,KAAK,KAAKA,KAAK,EAAE;cACvF,OAAO;gBACL5oB,KAAK;gBACLpB,WAAW;gBACXgqB;cACF,CAAC;YACH,CAAC,MAAM;cACL,OAAOllB,IAAI;YACb;UACF,CAAC,CAAC;QACJ,CAAC;QACD,IAAI9E,WAAW,EAAEmJ,MAAM,EAAE0lB,WAAW,IAAI,CAAChP,QAAQ,CAACgH,OAAO,CAACiI,KAAK,EAAE;UAC/D,MAAM;YAAEpE,WAAW;YAAEqE;UAAQ,CAAC,GAAGlP,QAAQ,CAAC8K,2BAA2B,CAAC,CAAC;UACvE,IAAID,WAAW,EAAE;YACfQ,gBAAgB,CAAC;cACf9pB,KAAK,EAAE,KAAK,CAAC;cACbpB,WAAW,EAAE0qB,WAAW;cACxBV,KAAK,EAAE;YACT,CAAC,CAAC;YACF+E,OAAO,CAACnuB,IAAI,CAAC,MAAM0D,iBAAiB,CAACsqB,UAAU,CAAC,CAAC;YACjD;UACF;QACF;QACAA,UAAU,CAAC,CAAC;MACd,CAAC;MACDvD,cAAc,EAAEA,CAACrrB,WAAW,EAAE8oB,KAAK,EAAE5B,aAAa,EAAErL,wBAAwB,KAAK;QAC/E,IAAI7b,WAAW,EAAE;UACf,IAAIgvB,UAAU,GAAG,KAAK,CAAC;UACvB,IAAIhvB,WAAW,CAACK,sBAAsB,EAAE;YACtC,IAAIwb,wBAAwB,EAAE;cAC5BmT,UAAU,GAAG,IAAI1K,wBAAwB,CACvCtkB,WAAW,CAACmJ,MAAM,EAClB,MAAM4R,YAAY,CAAEjW,IAAI,IAAKA,IAAI,GAAG,CAAC,CACvC,CAAC;YACH,CAAC,MAAM;cACLkO,4BAA4B,CAAC,CAAC;YAChC;UACF;UACAqY,cAAc,CAAC;YACbrrB,WAAW;YACX8oB,KAAK;YACL5B,aAAa;YACb7f,SAAS,EAAE2nB;UACb,CAAC,CAAC;UACF,IAAI,CAAClG,KAAK,EAAE;YACVoC,gBAAgB,CAAC,KAAK,CAAC,CAAC;UAC1B;QACF,CAAC,MAAM;UACL,MAAM+D,YAAY,GAAGpP,QAAQ,CAACqP,eAAe,CAAC,CAAC;UAC/C,IAAID,YAAY,EAAE;YAChB5nB,SAAS,CAACknB,mBAAmB,CAAC,CAAC,CAACrG,KAAK,CAAC;cAAEC,aAAa,EAAE;YAAK,CAAC,CAAC;UAChE;UACAkD,cAAc,CAAE8D,YAAY,IAAK;YAC/B,IAAIA,YAAY,EAAE9nB,SAAS,EAAE;cAC3B8kB,aAAa,CAAC3qB,OAAO,GAAG,KAAK,CAAC;YAChC;YACA,OAAO,KAAK,CAAC;UACf,CAAC,CAAC;QACJ;MACF,CAAC;MACD4tB,iBAAiB,EAAEA,CAACC,OAAO,EAAE5B,OAAO,KAAK;QACvC,IAAI,CAAC1nB,IAAI,CAACvE,OAAO,EAAE;UACjB;QACF;QACA,MAAM;UAAEA;QAAQ,CAAC,GAAG8W,UAAU;QAC9B9W,OAAO,CAACkG,SAAS,CAAC,eAAe,EAAE,CAACglB,eAAe,CAAC;QACpDlrB,OAAO,CAACkG,SAAS,CAAC,wBAAwB,EAAE,CAAC,CAAC2nB,OAAO,IAAI,CAAC5B,OAAO,CAAC;QAClEjsB,OAAO,CAACkG,SAAS,CAAC,uBAAuB,EAAE,CAAC,CAAC2nB,OAAO,IAAI,CAAC,CAAC5B,OAAO,CAAC;QAClEjsB,OAAO,CAACkG,SAAS,CAAC,4BAA4B,EAAE,CAAC2nB,OAAO,IAAI,CAAC,CAAC5B,OAAO,CAAC;MACxE;IACF,CAAC;IACD,MAAM6B,sBAAsB,GAAGlD,YAAY,CAAC5qB,OAAO,IAAI,KAAK,CAAC;IAC7Dqe,QAAQ,CAACxG,OAAO,CACdhS,SAAS,EACTD,IAAI,EACJ6kB,QAAQ,CAACzqB,OAAO,IAAI,KAAK,CAAC,EAC1B8tB,sBAAsB,EACtBvE,WAAW,EACXC,WAAW,EACX9S,QAAQ,CAAC1W,OACX,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,MAAM+tB,SAAS,GAAG3L,YAAY,CAAEzjB,GAAG,IAAK;IACtC4F,IAAI,CAACvE,OAAO,GAAGrB,GAAG;IAClBmI,IAAI,CAAC,CAAC;EACR,CAAC,EAAE,EAAE,CAAC;EACN,MAAMknB,aAAa,GAAG5L,YAAY,CAAEzjB,GAAG,IAAK;IAC1C8rB,QAAQ,CAACzqB,OAAO,GAAGrB,GAAG;IACtBmI,IAAI,CAAC,CAAC;EACR,CAAC,EAAE,EAAE,CAAC;EACN,MAAMmnB,0BAA0B,GAAG1L,QAAQ,CAAC,MAAM;IAChD,MAAMphB,GAAG,GAAG8nB,aAAa,EAAEzqB,WAAW,EAAEK,sBAAsB,IAAI2C,oBAAoB,CAACynB,aAAa,CAACzqB,WAAW,CAAC4I,cAAc,CAAC;IAChI,OAAO,CAAC,CAACjG,GAAG;EACd,CAAC,EAAE,CAAC8nB,aAAa,CAAC,CAAC;EACnB3G,gBAAgB,CAAC,MAAM;IACrB,IAAI,CAAC/d,IAAI,CAACvE,OAAO,EAAE;MACjB;IACF;IACA,MAAM;MAAEA;IAAQ,CAAC,GAAG8W,UAAU;IAC9B9W,OAAO,CAACkG,SAAS,CAAC,eAAe,EAAE,CAACglB,eAAe,CAAC;IACpDlrB,OAAO,CAACkG,SAAS,CAAC,wBAAwB,EAAE,CAAC,CAACye,WAAW,IAAI,CAACA,WAAW,CAAC2C,KAAK,CAAC;IAChFtnB,OAAO,CAACkG,SAAS,CAAC,uBAAuB,EAAE,CAAC,CAACye,WAAW,IAAI,CAAC,CAACA,WAAW,CAAC2C,KAAK,CAAC;IAChFtnB,OAAO,CAACkG,SAAS,CAAC,4BAA4B,EAAE,CAACye,WAAW,IAAI,CAAC,CAACA,WAAW,CAAC2C,KAAK,CAAC;EACtF,CAAC,CAAC;EACF,MAAM4G,eAAe,GAAGA,CAAA,KAAM;IAC5B,MAAM;MAAE1vB,WAAW;MAAEoB;IAAM,CAAC,GAAGqpB,aAAa;IAC5C,IAAI,CAACzqB,WAAW,EAAE;MAChB,OAAOoB,KAAK,EAAEwB,QAAQ,GAAG,CAAC,IAAIxB,KAAK;IACrC;IACA,IAAIpB,WAAW,CAACK,sBAAsB,EAAE;MACtC,MAAMuqB,iBAAiB,GAAG5qB,WAAW,CAAC4I,cAAc;MACpD,OAAO,eAAgB6a,OAAO,CAAC1a,aAAa,CAAC2a,QAAQ,EAAE;QAAEiM,QAAQ,EAAE,eAAgBlM,OAAO,CAAC1a,aAAa,CAACyhB,oBAAoB,EAAE;UAAE3K,QAAQ;UAAEsK,MAAM,EAAEpkB;QAAK,CAAC;MAAE,CAAC,EAAE0pB,0BAA0B,GAAG,eAAgBhM,OAAO,CAAC1a,aAAa,CAAC6hB,iBAAiB,EAAE;QAAE,GAAG5qB,WAAW,CAACmJ,MAAM;QAAEpG,GAAG,EAAEuoB;MAAU,CAAC,CAAC,GAAG,eAAgB7H,OAAO,CAAC1a,aAAa,CAAC6hB,iBAAiB,EAAE;QAAE,GAAG5qB,WAAW,CAACmJ,MAAM;QAAEpG,GAAG,EAAEuoB,SAAS;QAAEnrB,GAAG,EAAE+rB;MAAgB,CAAC,CAAC,CAAC;IAC7Z;EACF,CAAC;EACD,MAAM0D,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,MAAMC,aAAa,GAAGA,CAAA,KAAM;MAC1B,IAAIpF,aAAa,IAAI,IAAI,EAAE;QACzB,OAAO,IAAI;MACb;MACA,OAAOiC,eAAe,GAAG,eAAgBjJ,OAAO,CAAC1a,aAAa,CAAC,MAAM,EAAE;QAAEE,IAAI,EAAE,cAAc;QAAE6mB,EAAE,EAAE,QAAQrqB,UAAU,EAAE;QAAElD,SAAS,EAAE,eAAe;QAAEpC,GAAG,EAAEqsB;MAAgB,CAAC,EAAEkD,eAAe,CAAC,CAAC,CAAC,GAAGA,eAAe,CAAC,CAAC;IACrN,CAAC;IACD,MAAMK,aAAa,GAAIxoB,OAAO,IAAKmhB,YAAY,CAACnhB,OAAO,EAAEohB,gBAAgB,EAAE5iB,IAAI,CAACvE,OAAO,EAAEqe,QAAQ,EAAE+I,YAAY,CAAC;IAChH,IAAIzC,WAAW,IAAI,IAAI,EAAE;MACvB,IAAIA,WAAW,CAAC2C,KAAK,EAAE;QACrB,OAAO,eAAgBrF,OAAO,CAAC1a,aAAa,CAAC0a,OAAO,CAACoH,QAAQ,EAAE,IAAI,EAAEgF,aAAa,CAAC,CAAC,EAAEE,aAAa,CAAC5J,WAAW,CAAC,CAAC;MACnH;MACA,OAAO4J,aAAa,CAAC5J,WAAW,CAAC;IACnC;IACA,OAAO0J,aAAa,CAAC,CAAC;EACxB,CAAC;EACD,MAAMG,UAAU,GAAGA,CAAA,KAAM,eAAgBvM,OAAO,CAAC1a,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEovB,SAAS;IAAExW,KAAK,EAAEf,UAAU;IAAE/O,IAAI,EAAE+iB,YAAY;IAAE,QAAQ,EAAEf;EAAe,CAAC,EAAEyB,eAAe,GAAG,eAAgBjJ,OAAO,CAAC1a,aAAa,CAAC,KAAK,EAAE;IAAExG,SAAS,EAAE,iBAAiB;IAAE0G,IAAI,EAAE,cAAc;IAAE9I,GAAG,EAAE0tB;EAAkB,CAAC,EAAE+B,gBAAgB,CAAC,CAAC,CAAC,GAAGA,gBAAgB,CAAC,CAAC,CAAC;EACnV,IAAI/P,QAAQ,CAACyO,cAAc,CAAC,CAAC,EAAE;IAC7B,OAAO,eAAgB7K,OAAO,CAAC1a,aAAa,CAAC,KAAK,EAAE;MAAE5I,GAAG,EAAEqvB,aAAa;MAAEjtB,SAAS,EAAE,yBAAyB;MAAE0G,IAAI,EAAE;IAAe,CAAC,EAAE+mB,UAAU,CAAC,CAAC,CAAC;EACvJ;EACA,OAAOA,UAAU,CAAC,CAAC;AACrB,CAAC;AACD,IAAIC,gBAAgB,GAAGtM,KAAK,CAACmH,QAAQ,CAAC;;AAEtC;AACA,IAAIoF,OAAO,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAc,CAAC,KAAK;EAC5C,MAAM;IAAEnwB,OAAO;IAAEua,GAAG;IAAE0L;EAAQ,CAAC,GAAGjD,YAAY,CAACrjB,YAAY,CAAC;EAC5D,MAAMywB,UAAU,GAAGpN,YAAY,CAACnjB,iBAAiB,CAAC,KAAK,SAAS;EAChE,MAAMoY,QAAQ,GAAGmL,QAAQ,CAAC,CAAC;EAC3B,MAAMiN,WAAW,GAAGjN,QAAQ,CAAC8M,OAAO,CAACI,WAAW,CAAC,CAAC,CAAC;EACnD,MAAMC,WAAW,GAAGL,OAAO,CAACK,WAAW,CAAC,CAAC;EACzC,MAAMC,WAAW,GAAGN,OAAO,CAACtJ,OAAO,CAAChf,SAAS;EAC7C,MAAM,CAAC8X,QAAQ,EAAED,WAAW,CAAC,GAAG4D,UAAU,CACxC,MAAMmN,WAAW,GAAGN,OAAO,CAACtJ,OAAO,CAAC6J,iBAAiB,CAAC,CAAC,GAAG,IAC5D,CAAC;EACD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGtN,UAAU,CAAC,MAAM6M,OAAO,CAACQ,KAAK,CAAC;EACzD,MAAM,CAACE,cAAc,EAAEC,iBAAiB,CAAC,GAAGxN,UAAU,CAAC,MAAM6M,OAAO,CAACY,WAAW,CAAC;EACjF,MAAM,CAAC/Y,UAAU,EAAEC,aAAa,CAAC,GAAGqL,UAAU,CAAC,MAAM6M,OAAO,CAACa,SAAS,CAAC;EACvE,MAAMlS,YAAY,GAAGuE,QAAQ,CAAC,IAAI,CAAC;EACnC,MAAM,CAAC4N,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG5N,UAAU,CAAC,MAAM,IAAI,CAAC;EAC1E,MAAM,CAAC6N,oBAAoB,EAAEC,uBAAuB,CAAC,GAAG9N,UAAU,CAAC,CAAC;EACpE,MAAM,CAAC1E,GAAG,EAAEC,MAAM,CAAC,GAAGyE,UAAU,CAC9B,MAAMmN,WAAW,GAAGN,OAAO,CAACkB,gBAAgB,CAACjB,aAAa,CAAC,GAAG,KAAK,CACrE,CAAC;EACD,MAAM,CAACkB,SAAS,EAAEC,YAAY,CAAC,GAAGjO,UAAU,CAC1C,MAAMmN,WAAW,GAAGN,OAAO,CAACqB,mBAAmB,CAACpB,aAAa,CAAC,GAAG,KAAK,CACxE,CAAC;EACD,MAAMrqB,IAAI,GAAGsd,QAAQ,CAAC,IAAI,CAAC;EAC3B,MAAMoO,gBAAgB,GAAGpO,QAAQ,CAAC,CAAC;EACnC,MAAMqO,kBAAkB,GAAGrO,QAAQ,CAAC,CAAC;EACrC,MAAMsO,eAAe,GAAGtO,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACuO,sBAAsB,EAAEC,yBAAyB,CAAC,GAAGvO,UAAU,CAAC,CAAC,CAAC;EACzEJ,UAAU,CAAC,MAAM;IACf,IAAIyO,eAAe,CAACnwB,OAAO,IAAI,CAAC2vB,oBAAoB,IAAIS,sBAAsB,GAAG,EAAE,EAAE;MACnF;IACF;IACA,MAAMnK,MAAM,GAAG1hB,IAAI,CAACvE,OAAO,EAAE+J,UAAU;IACvC,IAAIkc,MAAM,EAAE;MACV0I,OAAO,CAAC2B,wBAAwB,CAACrK,MAAM,CAAC;MACxCkK,eAAe,CAACnwB,OAAO,GAAG,IAAI;IAChC,CAAC,MAAM;MACLqwB,yBAAyB,CAAE/sB,IAAI,IAAKA,IAAI,GAAG,CAAC,CAAC;IAC/C;EACF,CAAC,EAAE,CAACqsB,oBAAoB,EAAES,sBAAsB,CAAC,CAAC;EAClD,MAAMtZ,UAAU,GAAG+K,QAAQ,CAAC,CAAC;EAC7B,IAAI,CAAC/K,UAAU,CAAC9W,OAAO,EAAE;IACvB8W,UAAU,CAAC9W,OAAO,GAAG,IAAI+hB,gBAAgB,CAAC,MAAMxd,IAAI,CAACvE,OAAO,CAAC;EAC/D;EACA,MAAMuwB,YAAY,GAAG1O,QAAQ,CAAC,MAAM,CACpC,CAAC,CAAC;EACF,MAAM2O,GAAG,GAAGhP,aAAa,CAAEiP,aAAa,IAAK;IAC3CF,YAAY,CAACvwB,OAAO,GAAGywB,aAAa;IACpC,OAAO,MAAM;MACXF,YAAY,CAACvwB,OAAO,GAAG,MAAM,CAC7B,CAAC;IACH,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,MAAM0wB,aAAa,GAAG1tB,sBAAsB,CAC1CwtB,GAAG,EACH,MAAM;IACJ,OAAOlT,YAAY,CAACtd,OAAO;EAC7B,CAAC,EACD,EACF,CAAC;EACD,MAAM2wB,eAAe,GAAG9B,UAAU,GAAG6B,aAAa,GAAGjB,kBAAkB;EACvE,MAAM9pB,OAAO,GAAG6b,aAAa,CAAE5b,IAAI,IAAK;IACtCrB,IAAI,CAACvE,OAAO,GAAG4F,IAAI;IACnB8Q,QAAQ,CAAC1W,OAAO,GAAG4F,IAAI,GAAGnH,OAAO,CAACoI,UAAU,CAAC,IAAImb,WAAW,CAAC,CAAC,CAAC,GAAGvjB,OAAO,CAACa,WAAW,CAACoX,QAAQ,CAAC1W,OAAO,CAAC;IACvG,IAAI,CAAC4F,IAAI,EAAE;MACT+oB,OAAO,CAACiC,SAAS,CAAChC,aAAa,CAAC;MAChC;IACF;IACA,IAAI,CAACD,OAAO,CAACtY,OAAO,CAAC,CAAC,IAAI5X,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MAC/C;IACF;IACA,MAAM+G,SAAS,GAAG;MAChB;MACA;MACAwX,MAAM;MACN0S,YAAY;MACZ;MACA;MACA7pB,SAAS,EAAEA,CAACC,IAAI,EAAElF,EAAE,KAAK6V,UAAU,CAAC9W,OAAO,CAACkG,SAAS,CAACC,IAAI,EAAElF,EAAE,CAAC;MAC/D4vB,WAAW,EAAGC,QAAQ,IAAKhC,WAAW,CAAC9uB,OAAO,GAAG8wB,QAAQ;MACzD5S,WAAW;MACXkR,QAAQ;MACRE,iBAAiB;MACjB7Y,aAAa;MACb;MACA;MACA+G,YAAY,EAAEA,CAACja,IAAI,EAAEZ,YAAY,KAAK;QACpC,MAAMqb,aAAa,GAAGV,YAAY,CAACtd,OAAO;QAC1C,MAAMie,SAAS,GAAG5a,uBAAuB,CAAC2a,aAAa,EAAEza,IAAI,EAAEurB,WAAW,CAAC9uB,OAAO,CAAC;QACnF,IAAIie,SAAS,KAAKD,aAAa,EAAE;UAC/BV,YAAY,CAACtd,OAAO,GAAGie,SAAS;UAChC,IAAI4Q,UAAU,EAAE;YACd0B,YAAY,CAACvwB,OAAO,CAAC,CAAC;UACxB,CAAC,MAAM;YACL0C,WAAW,CAACC,YAAY,EAAE,MAAM+sB,qBAAqB,CAACzR,SAAS,CAAC,CAAC;UACnE;QACF;MACF,CAAC;MACD8S,aAAa,EAAGvyB,WAAW,IAAK;QAC9B0xB,kBAAkB,CAAClwB,OAAO,GAAGxB,WAAW,CAACmJ,MAAM;QAC/CioB,uBAAuB,CAACpxB,WAAW,CAAC;MACtC,CAAC;MACDwyB,wBAAwB,EAAEA,CAAA,KAAMf,gBAAgB,CAACjwB,OAAO;MACxDixB,8BAA8B,EAAEA,CAAA,KAAMf,kBAAkB,CAAClwB,OAAO;MAChEkxB,gBAAgB,EAAGC,gBAAgB,IAAK;QACtC,MAAMC,eAAe,GAAGD,gBAAgB,CAAC,CAAC;QAC1CjB,kBAAkB,CAAClwB,OAAO,GAAGoxB,eAAe;QAC5C,IAAIC,sBAAsB,CAACrxB,OAAO,EAAE;UAClC4vB,uBAAuB,CAAE0B,wBAAwB,KAAM;YACrD,GAAGA,wBAAwB;YAC3B3pB,MAAM,EAAEypB;UACV,CAAC,CAAC,CAAC;UACH,OAAO,IAAI;QACb,CAAC,MAAM;UACL,IAAI,CAACnB,gBAAgB,CAACjwB,OAAO,IAAI,CAACiwB,gBAAgB,CAACjwB,OAAO,CAAC0F,OAAO,EAAE;YAClE,OAAO,KAAK;UACd;UACA,OAAOuqB,gBAAgB,CAACjwB,OAAO,CAAC0F,OAAO,CAAC0rB,eAAe,CAAC;QAC1D;MACF;IACF,CAAC;IACDzC,OAAO,CAAC9W,OAAO,CAAChS,SAAS,EAAED,IAAI,EAAEgpB,aAAa,EAAElY,QAAQ,CAAC1W,OAAO,CAAC;EACnE,CAAC,EAAE,EAAE,CAAC;EACN2hB,gBAAgB,CACd,MAAMpjB,UAAU,CAACoxB,oBAAoB,EAAElxB,OAAO,EAAE8F,IAAI,CAACvE,OAAO,EAAEiwB,gBAAgB,CAAC,EAC/E,CAACN,oBAAoB,CACvB,CAAC;EACD,MAAMH,SAAS,GAAG5N,QAAQ,CAAC,MAAM;IAC/B,MAAMzgB,GAAG,GAAG;MAAEic,GAAG;MAAE0S;IAAU,CAAC;IAC9BzuB,MAAM,CAACkwB,MAAM,CAACpwB,GAAG,EAAEqV,UAAU,CAAC;IAC9B,OAAOrV,GAAG;EACZ,CAAC,EAAE,CAACic,GAAG,EAAE0S,SAAS,EAAEtZ,UAAU,CAAC,CAAC;EAChC,MAAMgb,sBAAsB,GAAGxC,WAAW,IAAIW,oBAAoB,EAAE9wB,sBAAsB;EAC1F,MAAM4yB,SAAS,GAAG,CAACzC,WAAW,IAAI2B,eAAe,IAAI,IAAI;EACzD,MAAMe,mCAAmC,GAAG9P,QAAQ,CAAC,MAAM;IACzD,MAAMzgB,GAAG,GAAGwuB,oBAAoB,EAAE9wB,sBAAsB,IAAI2C,oBAAoB,CAACmuB,oBAAoB,CAACvoB,cAAc,CAAC;IACrH,OAAO,CAAC,CAACjG,GAAG;EACd,CAAC,EAAE,CAACwuB,oBAAoB,CAAC,CAAC;EAC1B,MAAM0B,sBAAsB,GAAGxP,QAAQ,CAAC,KAAK,CAAC;EAC9CH,UAAU,CAAC,MAAM;IACf2P,sBAAsB,CAACrxB,OAAO,GAAG0xB,mCAAmC,IAAI,CAAC,CAAC/B,oBAAoB,IAAI,CAAC,CAAC3W,GAAG,CAACsB,GAAG,CAAC,0BAA0B,CAAC;EACzI,CAAC,EAAE,CAACoX,mCAAmC,EAAE/B,oBAAoB,CAAC,CAAC;EAC/D,MAAMgC,YAAY,GAAGA,CAAA,KAAMhB,eAAe,EAAErS,GAAG,CAAED,QAAQ,IAAK,eAAgBiD,OAAO,CAAC/Z,aAAa,CACjGknB,gBAAgB,EAChB;IACEpQ,QAAQ;IACRmL,WAAW,EAAE9E,OAAO,EAAEkN,SAAS,CAACvT,QAAQ,EAAE;MAAEwT,cAAc,EAAE;IAAK,CAAC,CAAC,IAAI,KAAK;IAC5EtI,WAAW,EAAEoF,OAAO,CAACpF,WAAW;IAChChoB,GAAG,EAAE8c,QAAQ,CAACpa;EAChB,CACF,CAAC,CAAC;EACF,MAAM6tB,yBAAyB,GAAGA,CAAA,KAAM;IACtC,MAAMC,aAAa,GAAGpC,oBAAoB,CAACvoB,cAAc;IACzD,OAAOsqB,mCAAmC,GAAG,eAAgBpQ,OAAO,CAAC/Z,aAAa,CAACwqB,aAAa,EAAE;MAAE,GAAGpC,oBAAoB,CAAChoB;IAAO,CAAC,CAAC,GAAG,eAAgB2Z,OAAO,CAAC/Z,aAAa,CAACwqB,aAAa,EAAE;MAAE,GAAGpC,oBAAoB,CAAChoB,MAAM;MAAEhJ,GAAG,EAAEsxB;IAAiB,CAAC,CAAC;EACzP,CAAC;EACD,OAAO,eAAgB3O,OAAO,CAAC/Z,aAAa,CAC1C,KAAK,EACL;IACE5I,GAAG,EAAEgH,OAAO;IACZ8B,IAAI,EAAE,KAAK;IACX8P,KAAK,EAAEiY,SAAS;IAChB,WAAW,EAAErR,QAAQ;IACrB,QAAQ,EAAEgR,KAAK;IACf,kBAAkB,EAAEE;EACtB,CAAC,EACDoC,SAAS,GAAGE,YAAY,CAAC,CAAC,GAAGH,sBAAsB,GAAGM,yBAAyB,CAAC,CAAC,GAAG,IACtF,CAAC;AACH,CAAC;AACD,IAAIE,eAAe,GAAGzQ,MAAM,CAACmN,OAAO,CAAC;;AAErC;AACA,IAAIuD,gBAAgB,GAAGA,CAAC;EAAE9rB;AAAK,CAAC,KAAK;EACnC,MAAM;IAAE1H,OAAO;IAAEua;EAAI,CAAC,GAAG6H,YAAY,CAACziB,YAAY,CAAC;EACnD,MAAM8zB,gBAAgB,GAAGpR,SAAS,CAAC,MAAMK,uBAAuB,CAAChb,IAAI,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAC/E,MAAMgsB,SAAS,GAAGpR,QAAQ,CAAC,IAAI,CAAC;EAChC,MAAMqR,UAAU,GAAGrR,QAAQ,CAAC,IAAI,CAAC;EACjC,MAAMsR,cAAc,GAAGtR,QAAQ,CAAC,IAAI,CAAC;EACrC,MAAMuR,WAAW,GAAGvR,QAAQ,CAAC,EAAE,CAAC;EAChC,MAAMwR,eAAe,GAAGxR,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACyR,eAAe,EAAEC,kBAAkB,CAAC,GAAGzR,UAAU,CAAC,MAAM,EAAE,CAAC;EAClE,MAAM0R,UAAU,GAAG,CAAC,CAAC1Z,GAAG,CAACsB,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC4X,gBAAgB,CAACS,kBAAkB;EACvF,MAAMC,kBAAkB,GAAG7R,QAAQ,CAAC,EAAE,CAAC;EACvC,MAAM8R,sBAAsB,GAAG9R,QAAQ,CAAC,EAAE,CAAC;EAC3C,MAAM,CAAC+R,sBAAsB,EAAEC,yBAAyB,CAAC,GAAG/R,UAAU,CAAC,MAAM,EAAE,CAAC;EAChF,MAAM8N,WAAW,GAAG/N,QAAQ,CAAC,KAAK,CAAC;EACnC,MAAMiS,mBAAmB,GAAGjS,QAAQ,CAAC,CAAC;EACtC,MAAMkS,eAAe,GAAGnS,SAAS,CAAC,MAAM3gB,WAAW,CAAC,aAAa,EAAEkhB,oBAAoB,CAAClb,IAAI,CAAC,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EACvG,MAAM+sB,gBAAgB,GAAGpS,SAAS,CAAC,MAAM3gB,WAAW,CAAC+gB,qBAAqB,CAAC/a,IAAI,CAAC,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAC1F,MAAMgtB,WAAW,GAAGrS,SAAS,CAAC,MAAM3gB,WAAW,CAAC,uBAAuB,EAAEihB,yBAAyB,CAACjb,IAAI,CAAC,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAClH,MAAMitB,oBAAoB,GAAGlB,gBAAgB,CAACtX,IAAI,KAAK,QAAQ,IAAI8X,UAAU;EAC7E,MAAMW,WAAW,GAAGD,oBAAoB,GAAGjB,SAAS,GAAGC,UAAU;EACjE3R,oBAAoB,CAAC,oBAAoB,GAAGta,IAAI,GAAG,GAAG,EAAEktB,WAAW,CAAC;EACpE,MAAMC,gBAAgB,GAAG1S,aAAa,CAAC,MAAM;IAC3C,MAAM2S,aAAa,GAAG,CAACH,oBAAoB,IAAIjB,SAAS,CAACnyB,OAAO,IAAI,IAAI;IACxE,MAAMwzB,cAAc,GAAGpB,UAAU,CAACpyB,OAAO,IAAI,IAAI;IACjD,MAAMyzB,kBAAkB,GAAG,CAACf,UAAU,IAAIL,cAAc,CAACryB,OAAO,IAAI,IAAI;IACxE,OAAOuzB,aAAa,IAAIC,cAAc,IAAIC,kBAAkB;EAC9D,CAAC,EAAE,EAAE,CAAC;EACN,MAAMC,kBAAkB,GAAG9S,aAAa,CAAC,MAAM;IAC7C,OAAOuR,SAAS,CAACnyB,OAAO,IAAI,IAAI,IAAIoyB,UAAU,CAACpyB,OAAO,IAAI,IAAI,IAAIqyB,cAAc,CAACryB,OAAO,IAAI,IAAI;EAClG,CAAC,EAAE,EAAE,CAAC;EACN,MAAM2F,OAAO,GAAGib,aAAa,CAAC,MAAM;IAClC,IAAI8S,kBAAkB,CAAC,CAAC,EAAE;MACxBV,mBAAmB,CAAChzB,OAAO,GAAGvB,OAAO,CAACa,WAAW,CAAC0zB,mBAAmB,CAAChzB,OAAO,CAAC;IAChF;IACA,IAAIvB,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MACzB;IACF;IACA,IAAIw0B,gBAAgB,CAAC,CAAC,EAAE;MACtB,MAAMK,qBAAqB,GAAIhxB,YAAY,IAAK;QAC9C,MAAMY,IAAI,GAAGF,uBAAuB,CAClCkvB,eAAe,CAACvyB,OAAO,EACvBsyB,WAAW,CAACtyB,OAAO,EACnB8uB,WAAW,CAAC9uB,OACd,CAAC;QACD,IAAIuD,IAAI,KAAKgvB,eAAe,CAACvyB,OAAO,EAAE;UACpCuyB,eAAe,CAACvyB,OAAO,GAAGuD,IAAI;UAC9Bb,WAAW,CAACC,YAAY,EAAE,MAAM8vB,kBAAkB,CAAClvB,IAAI,CAAC,CAAC;QAC3D;MACF,CAAC;MACD,MAAMqwB,4BAA4B,GAAIjxB,YAAY,IAAK;QACrD,MAAMY,IAAI,GAAGF,uBAAuB,CAClCwvB,sBAAsB,CAAC7yB,OAAO,EAC9B4yB,kBAAkB,CAAC5yB,OAAO,EAC1B8uB,WAAW,CAAC9uB,OACd,CAAC;QACD,IAAIuD,IAAI,KAAKsvB,sBAAsB,CAAC7yB,OAAO,EAAE;UAC3C6yB,sBAAsB,CAAC7yB,OAAO,GAAGuD,IAAI;UACrCb,WAAW,CAACC,YAAY,EAAE,MAAMowB,yBAAyB,CAACxvB,IAAI,CAAC,CAAC;QAClE;MACF,CAAC;MACD,MAAMsC,SAAS,GAAG;QAChBguB,mBAAmB,EAAGC,MAAM,IAAK;UAC/B,IAAI3B,SAAS,CAACnyB,OAAO,EAAE;YACrBmyB,SAAS,CAACnyB,OAAO,CAACsf,UAAU,GAAGwU,MAAM;UACvC;QACF,CAAC;QACDC,iBAAiB,EAAG7W,MAAM,IAAK;UAC7B,IAAIiV,SAAS,CAACnyB,OAAO,EAAE;YACrBmyB,SAAS,CAACnyB,OAAO,CAACuX,KAAK,CAAC2F,MAAM,GAAGA,MAAM;UACzC;QACF,CAAC;QACD8W,WAAW,EAAEA,CAAC;UAAEC,QAAQ;UAAEtxB;QAAa,CAAC,KAAK;UAC3C,MAAMuxB,QAAQ,GAAG,CAAC,CAACvxB,YAAY,IAAI2vB,WAAW,CAACtyB,OAAO,CAACyD,MAAM,GAAG,CAAC,IAAIwwB,QAAQ,CAACxwB,MAAM,GAAG,CAAC;UACxF6uB,WAAW,CAACtyB,OAAO,GAAGi0B,QAAQ;UAC9BN,qBAAqB,CAACO,QAAQ,CAAC;QACjC,CAAC;QACDC,kBAAkB,EAAEA,CAACF,QAAQ,EAAEtxB,YAAY,KAAK;UAC9C,MAAMuxB,QAAQ,GAAG,CAAC,CAACvxB,YAAY,IAAIiwB,kBAAkB,CAAC5yB,OAAO,CAACyD,MAAM,GAAG,CAAC,IAAIwwB,QAAQ,CAACxwB,MAAM,GAAG,CAAC;UAC/FmvB,kBAAkB,CAAC5yB,OAAO,GAAGi0B,QAAQ;UACrCL,4BAA4B,CAACM,QAAQ,CAAC;QACxC,CAAC;QACDrD,WAAW,EAAGC,QAAQ,IAAK;UACzB,IAAIhC,WAAW,CAAC9uB,OAAO,IAAI8wB,QAAQ,EAAE;YACnChC,WAAW,CAAC9uB,OAAO,GAAG8wB,QAAQ;YAC9B6C,qBAAqB,CAAC,KAAK,CAAC;UAC9B;QACF,CAAC;QACDS,iBAAiB,EAAG9c,KAAK,IAAK;UAC5B,IAAI8a,UAAU,CAACpyB,OAAO,EAAE;YACtBoyB,UAAU,CAACpyB,OAAO,CAACuX,KAAK,CAACD,KAAK,GAAGA,KAAK;UACxC;QACF,CAAC;QACD+c,YAAY,EAAGP,MAAM,IAAK;UACxB,IAAI1B,UAAU,CAACpyB,OAAO,EAAE;YACtBoyB,UAAU,CAACpyB,OAAO,CAACuX,KAAK,CAACuY,SAAS,GAAG,cAAcgE,MAAM,GAAG;UAC9D;QACF;MACF,CAAC;MACDd,mBAAmB,CAAChzB,OAAO,GAAGvB,OAAO,CAACoI,UAAU,CAAC,IAAIoa,gBAAgB,CAAC9a,IAAI,CAAC,CAAC;MAC5E6sB,mBAAmB,CAAChzB,OAAO,CAAC6X,OAAO,CACjChS,SAAS,EACTusB,UAAU,CAACpyB,OAAO,EAClBqyB,cAAc,CAACryB,OAAO,IAAI,KAAK,CAAC,EAChCmyB,SAAS,CAACnyB,OACZ,CAAC;IACH;EACF,CAAC,EAAE,CAACszB,gBAAgB,EAAEI,kBAAkB,CAAC,CAAC;EAC1C,MAAMY,eAAe,GAAG1T,aAAa,CAClC2T,CAAC,IAAK;IACLnC,UAAU,CAACpyB,OAAO,GAAGu0B,CAAC;IACtB5uB,OAAO,CAAC,CAAC;EACX,CAAC,EACD,CAACA,OAAO,CACV,CAAC;EACD,MAAM6uB,mBAAmB,GAAG5T,aAAa,CACtC2T,CAAC,IAAK;IACLlC,cAAc,CAACryB,OAAO,GAAGu0B,CAAC;IAC1B5uB,OAAO,CAAC,CAAC;EACX,CAAC,EACD,CAACA,OAAO,CACV,CAAC;EACD,MAAM8uB,cAAc,GAAG7T,aAAa,CACjC2T,CAAC,IAAK;IACLpC,SAAS,CAACnyB,OAAO,GAAGu0B,CAAC;IACrB5uB,OAAO,CAAC,CAAC;EACX,CAAC,EACD,CAACA,OAAO,CACV,CAAC;EACD,MAAM+uB,cAAc,GAAGA,CAAA,KAAM,eAAgBhU,OAAO,CAACnZ,aAAa,CAChE,KAAK,EACL;IACExG,SAAS,EAAEmyB,gBAAgB;IAC3Bv0B,GAAG,EAAE21B,eAAe;IACpB7sB,IAAI,EAAE2rB,oBAAoB,GAAG,cAAc,GAAG;EAChD,CAAC,EACDZ,eAAe,CAAClU,GAAG,CAAEqQ,OAAO,IAAK,eAAgBjO,OAAO,CAACnZ,aAAa,CAACyqB,eAAe,EAAE;IAAErD,OAAO;IAAEC,aAAa,EAAEsD,gBAAgB,CAACtX,IAAI;IAAErZ,GAAG,EAAEotB,OAAO,CAAC1qB;EAAW,CAAC,CAAC,CACrK,CAAC;EACD,IAAI,CAACmvB,oBAAoB,EAAE;IACzB,OAAOsB,cAAc,CAAC,CAAC;EACzB;EACA,MAAMC,kBAAkB,GAAGA,CAAA,KAAM,eAAgBjU,OAAO,CAACnZ,aAAa,CAAC,KAAK,EAAE;IAAExG,SAAS,EAAEoyB,WAAW;IAAEx0B,GAAG,EAAE61B,mBAAmB;IAAE/sB,IAAI,EAAE;EAAe,CAAC,EAAEqrB,sBAAsB,CAACxU,GAAG,CAAEqQ,OAAO,IAAK,eAAgBjO,OAAO,CAACnZ,aAAa,CAACyqB,eAAe,EAAE;IAAErD,OAAO;IAAEC,aAAa,EAAEsD,gBAAgB,CAACtX,IAAI;IAAErZ,GAAG,EAAEotB,OAAO,CAAC1qB;EAAW,CAAC,CAAC,CAAC,CAAC;EACtU,OAAO,eAAgByc,OAAO,CAACnZ,aAAa,CAAC,KAAK,EAAE;IAAExG,SAAS,EAAEkyB,eAAe;IAAEt0B,GAAG,EAAE81B,cAAc;IAAEhtB,IAAI,EAAE;EAAW,CAAC,EAAEitB,cAAc,CAAC,CAAC,EAAEhC,UAAU,GAAGiC,kBAAkB,CAAC,CAAC,GAAG,IAAI,CAAC;AACxL,CAAC;AACD,IAAIC,wBAAwB,GAAGjU,MAAM,CAACsR,gBAAgB,CAAC;;AAEvD;AACA,IAAI4C,YAAY,GAAGA,CAAA,KAAM;EACvB,MAAMrQ,KAAK,GAAGnR,YAAY,CAACjV,YAAY,CAAC;EACxC,MAAM;IAAEK,OAAO;IAAEq2B;EAAS,CAAC,GAAGtQ,KAAK;EACnC,MAAM,CAACuQ,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGxhB,UAAU,CAAC,EAAE,CAAC;EAChE,MAAM,CAACyhB,SAAS,EAAEC,YAAY,CAAC,GAAG1hB,UAAU,CAAC,CAAC,CAAC;EAC/C,MAAM,CAAC2hB,YAAY,EAAEC,eAAe,CAAC,GAAG5hB,UAAU,CAAC,CAAC,CAAC;EACrD,MAAM,CAAC6hB,eAAe,EAAEC,kBAAkB,CAAC,GAAG9hB,UAAU,CAAC,KAAK,CAAC;EAC/D,MAAM,CAAC+hB,YAAY,EAAEC,eAAe,CAAC,GAAGhiB,UAAU,CAAC,KAAK,CAAC;EACzD,MAAM,CAACiiB,cAAc,EAAEC,iBAAiB,CAAC,GAAGliB,UAAU,CAAC,MAAM,CAAC;EAC9D,MAAM,CAACmiB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGpiB,UAAU,CAAC,KAAK,CAAC;EACrE,MAAM,CAACqiB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGtiB,UAAU,CAAC,KAAK,CAAC;EACrE,MAAM,CAACuiB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGxiB,UAAU,CAAC,MAAM,CAAC;EACpE,MAAM,CAACyiB,YAAY,EAAEC,eAAe,CAAC,GAAG1iB,UAAU,CAAC,IAAI,CAAC;EACxD,MAAM,CAAC2iB,eAAe,EAAEC,kBAAkB,CAAC,GAAG5iB,UAAU,CAAC,IAAI,CAAC;EAC9D,MAAM,CAAC6iB,wBAAwB,EAAEC,2BAA2B,CAAC,GAAG9iB,UAAU,CAAC,IAAI,CAAC;EAChF,MAAM,CAAC+iB,qBAAqB,EAAEC,wBAAwB,CAAC,GAAGhjB,UAAU,CAAC,EAAE,CAAC;EACxE,MAAM,CAACijB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGljB,UAAU,CAAC,IAAI,CAAC;EAClE,MAAM,CAACmjB,WAAW,EAAEC,cAAc,CAAC,GAAGpjB,UAAU,CAAC,kBAAkB,CAAC;EACpE,MAAMsD,UAAU,GAAGvD,QAAQ,CAAC,CAAC;EAC7B,IAAI,CAACuD,UAAU,CAAC9W,OAAO,EAAE;IACvB8W,UAAU,CAAC9W,OAAO,GAAG,IAAI0T,gBAAgB,CAAC,MAAMmjB,KAAK,CAAC72B,OAAO,CAAC;EAChE;EACA,MAAM62B,KAAK,GAAGtjB,QAAQ,CAAC,IAAI,CAAC;EAC5B,MAAMujB,IAAI,GAAGvjB,QAAQ,CAAC,IAAI,CAAC;EAC3B,MAAMwjB,UAAU,GAAGxjB,QAAQ,CAAC,IAAI,CAAC;EACjC,MAAMyjB,aAAa,GAAGzjB,QAAQ,CAAC,IAAI,CAAC;EACpC,MAAM0jB,KAAK,GAAG1jB,QAAQ,CAAC,IAAI,CAAC;EAC5B,MAAM2jB,aAAa,GAAG3jB,QAAQ,CAAC,IAAI,CAAC;EACpC,MAAM4jB,OAAO,GAAG5jB,QAAQ,CAAC,IAAI,CAAC;EAC9B,MAAM6jB,cAAc,GAAG7jB,QAAQ,CAAC,EAAE,CAAC;EACnC,MAAM8jB,YAAY,GAAG9jB,QAAQ,CAAC,EAAE,CAAC;EACjCkN,oBAAoB,CAAC,gBAAgB,EAAEoW,KAAK,CAAC;EAC7CpW,oBAAoB,CAAC,iBAAiB,EAAEqW,IAAI,CAAC;EAC7CrW,oBAAoB,CAAC,iBAAiB,EAAEsW,UAAU,CAAC;EACnDtW,oBAAoB,CAAC,aAAa,EAAEyW,aAAa,CAAC;EAClDzW,oBAAoB,CAAC,oBAAoB,EAAE0W,OAAO,CAAC;EACnD,MAAMxxB,OAAO,GAAGyN,aAAa,CAAExN,IAAI,IAAK;IACtCixB,KAAK,CAAC72B,OAAO,GAAG4F,IAAI;IACpB,IAAI,CAACA,IAAI,IAAInH,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MAClCs4B,cAAc,CAACp3B,OAAO,GAAGvB,OAAO,CAAC64B,YAAY,CAACF,cAAc,CAACp3B,OAAO,CAAC;MACrEq3B,YAAY,CAACr3B,OAAO,CAACc,OAAO,CAAEy2B,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC;MACxCF,YAAY,CAACr3B,OAAO,GAAG,EAAE;MACzB;IACF;IACA,MAAMw3B,WAAW,GAAGA,CAAC94B,OAAO,EAAEunB,MAAM,KAAK;MACvCvnB,OAAO,CAACc,WAAW,CAACymB,MAAM,CAAC;MAC3BoR,YAAY,CAACr3B,OAAO,CAACmE,IAAI,CAAC,MAAMzF,OAAO,CAACiB,WAAW,CAACsmB,MAAM,CAAC,CAAC;IAC9D,CAAC;IACD,MAAMwR,OAAO,GAAIC,SAAS,IAAK;MAC7B,MAAMz4B,IAAI,GAAGR,OAAO,CAACoI,UAAU,CAAC,IAAI6wB,SAAS,CAAC,CAAC,CAAC;MAChDN,cAAc,CAACp3B,OAAO,CAACmE,IAAI,CAAClF,IAAI,CAAC;MACjC,OAAOA,IAAI;IACb,CAAC;IACD,MAAMwtB,OAAO,GAAGA,CAAC/tB,OAAO,EAAEg5B,SAAS,EAAEvX,OAAO,KAAK;MAC/CqX,WAAW,CAAC94B,OAAO,EAAE4L,QAAQ,CAACiW,aAAa,CAACJ,OAAO,CAAC,CAAC;MACrDqX,WAAW,CAAC94B,OAAO,EAAE+4B,OAAO,CAACC,SAAS,CAAC,CAACn4B,MAAM,CAAC,CAAC,CAAC;IACnD,CAAC;IACDktB,OAAO,CAAC7mB,IAAI,EAAE+N,eAAe,EAAE,6BAA6B,CAAC;IAC7D,MAAMgkB,WAAW,GAAG7C,QAAQ,EAAE8C,0BAA0B,CAAC,CAAC;IAC1D,IAAID,WAAW,EAAE;MACflL,OAAO,CAAC7mB,IAAI,EAAE+xB,WAAW,EAAE,sBAAsB,CAAC;IACpD;IACA,IAAIV,KAAK,CAACj3B,OAAO,EAAE;MACjBysB,OAAO,CAACwK,KAAK,CAACj3B,OAAO,EAAE4T,eAAe,EAAE,2BAA2B,CAAC;IACtE;IACA,MAAM/N,SAAS,GAAG;MAChBgyB,gCAAgC,EAAE7C,oBAAoB;MACtD8C,cAAc,EAAG7xB,KAAK,IAAK;QACzB,IAAI4wB,KAAK,CAAC72B,OAAO,EAAE;UACjB8T,gBAAgB,CAAC+iB,KAAK,CAAC72B,OAAO,EAAEiG,KAAK,CAAC;QACxC;MACF,CAAC;MACD8xB,WAAW,EAAG9xB,KAAK,IAAK;QACtB,IAAI4wB,KAAK,CAAC72B,OAAO,EAAE;UACjB+T,gBAAgB,CAAC8iB,KAAK,CAAC72B,OAAO,EAAEiG,KAAK,CAAC;QACxC;MACF,CAAC;MACDivB,YAAY;MACZE,eAAe;MACfE,kBAAkB;MAClBE,eAAe;MACfE,iBAAiB;MACjBQ,eAAe;MACfE,kBAAkB;MAClB4B,kBAAkB,EAAEA,CAACC,QAAQ,EAAEC,IAAI,KAAKphB,UAAU,CAAC9W,OAAO,CAACkG,SAAS,CAAC+xB,QAAQ,EAAEC,IAAI,CAAC;MACpFC,mBAAmB,EAAEvB,cAAc;MACnCwB,4BAA4B,EAAE9B,2BAA2B;MACzD+B,2BAA2B,EAAE7B,wBAAwB;MACrDE,oBAAoB,EAAEA,CAACuB,QAAQ,EAAEC,IAAI,KAAKxB,oBAAoB,CAACwB,IAAI,GAAGD,QAAQ,GAAG,IAAI,CAAC;MACtFK,oBAAoB,EAAGhhB,KAAK,IAAK;QAC/B,IAAI4f,aAAa,CAACl3B,OAAO,EAAE;UACzBk3B,aAAa,CAACl3B,OAAO,CAACuX,KAAK,CAACD,KAAK,GAAGA,KAAK;QAC3C;MACF,CAAC;MACDihB,kCAAkC,EAAGC,QAAQ,IAAK;QAChD,IAAItB,aAAa,CAACl3B,OAAO,EAAE;UACzB,MAAMy4B,qBAAqB,GAAG96B,cAAc,CAAC6mB,KAAK,EAAE0S,aAAa,CAACl3B,OAAO,EAAEw4B,QAAQ,CAAC;UACpFnB,YAAY,CAACr3B,OAAO,CAACmE,IAAI,CAAC,MAAMs0B,qBAAqB,CAAC,CAAC,CAAC;QAC1D;MACF,CAAC;MACD7C,qBAAqB;MACrBE,qBAAqB;MACrBE,oBAAoB;MACpB0C,eAAe,EAAGjxB,IAAI,IAAK7B,IAAI,CAAC+yB,YAAY,CAAC,MAAM,EAAElxB,IAAI;IAC3D,CAAC;IACD,MAAM2O,IAAI,GAAG3X,OAAO,CAACoI,UAAU,CAAC,IAAIgN,YAAY,CAAC,CAAC,CAAC;IACnDujB,cAAc,CAACp3B,OAAO,CAACmE,IAAI,CAACiS,IAAI,CAAC;IACjCA,IAAI,CAACyB,OAAO,CACVhS,SAAS,EACTD,IAAI,EACJsxB,aAAa,CAACl3B,OAAO,EACrB82B,IAAI,CAAC92B,OAAO,EACZm3B,OAAO,CAACn3B,OAAO,EACf+2B,UAAU,CAAC/2B,OAAO,EAClBg3B,aAAa,CAACh3B,OAChB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,MAAM44B,WAAW,GAAGtlB,SAAS,CAAC,MAAMnT,WAAW,CAAC,SAAS,EAAE,iBAAiB,EAAEw2B,WAAW,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EAC1G,MAAMkC,mBAAmB,GAAGvlB,SAAS,CACnC,MAAMnT,WAAW,CACf,kBAAkB,EAClB40B,iBAAiB,EACjB4B,WAAW,EACXN,wBAAwB,EACxBI,iBACF,CAAC,EACD,CAAC1B,iBAAiB,EAAE4B,WAAW,EAAEN,wBAAwB,EAAEI,iBAAiB,CAC9E,CAAC;EACD,MAAMqC,WAAW,GAAGxlB,SAAS,CAAC,MAAMnT,WAAW,CAAC,SAAS,EAAEw2B,WAAW,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EACvF,MAAMoC,UAAU,GAAGzlB,SAAS,CAC1B,MAAMnT,WAAW,CAAC,iBAAiB,EAAE81B,YAAY,GAAG,cAAc,GAAG,IAAI,EAAEQ,iBAAiB,CAAC,EAC7F,CAACA,iBAAiB,EAAER,YAAY,CAClC,CAAC;EACD,MAAM+C,gBAAgB,GAAG1lB,SAAS,CAAC,MAAMnT,WAAW,CAAC,eAAe,EAAEs2B,iBAAiB,CAAC,EAAE,CAACA,iBAAiB,CAAC,CAAC;EAC9G,MAAMwC,mBAAmB,GAAG3lB,SAAS,CACnC,MAAMnT,WAAW,CAAC,kBAAkB,EAAEw1B,kBAAkB,KAAK,KAAK,GAAG,cAAc,GAAG,IAAI,EAAEc,iBAAiB,CAAC,EAC9G,CAACA,iBAAiB,EAAEd,kBAAkB,CACxC,CAAC;EACD,MAAMuD,aAAa,GAAG5lB,SAAS,CAC7B,MAAMnT,WAAW,CAAC,oBAAoB,EAAEg2B,eAAe,GAAG,cAAc,GAAG,IAAI,EAAEM,iBAAiB,CAAC,EACnG,CAACA,iBAAiB,EAAEN,eAAe,CACrC,CAAC;EACD,MAAMgD,QAAQ,GAAG7lB,SAAS,CACxB,OAAO;IACL4J,MAAM,EAAE+X,SAAS;IACjBlV,SAAS,EAAEkV,SAAS;IACpBmE,SAAS,EAAE7C;EACb,CAAC,CAAC,EACF,CAACtB,SAAS,EAAEsB,qBAAqB,CACnC,CAAC;EACD,MAAM8C,cAAc,GAAG/lB,SAAS,CAC9B,OAAO;IACL4J,MAAM,EAAEmY,eAAe;IACvBjY,GAAG,EAAEmY,YAAY;IACjBje,KAAK,EAAEme;EACT,CAAC,CAAC,EACF,CAACJ,eAAe,EAAEE,YAAY,EAAEE,cAAc,CAChD,CAAC;EACD,MAAM6D,iBAAiB,GAAGhmB,SAAS,CACjC,OAAO;IACL4J,MAAM,EAAEyY,kBAAkB;IAC1B4D,MAAM,EAAE1D,kBAAkB;IAC1Bve,KAAK,EAAEye;EACT,CAAC,CAAC,EACF,CAACJ,kBAAkB,EAAEE,kBAAkB,EAAEE,iBAAiB,CAC5D,CAAC;EACD,MAAMyD,WAAW,GAAGlmB,SAAS,CAC3B,OAAO;IACL4J,MAAM,EAAEiY,YAAY;IACpBpV,SAAS,EAAEoV,YAAY;IACvBiE,SAAS,EAAE7C;EACb,CAAC,CAAC,EACF,CAACpB,YAAY,EAAEoB,qBAAqB,CACtC,CAAC;EACD,MAAMkD,kBAAkB,GAAIC,SAAS,IAAK,eAAgBxmB,OAAO,CAAC3L,aAAa,CAACqtB,wBAAwB,EAAE;IAAEzuB,IAAI,EAAEuzB,SAAS;IAAEn4B,GAAG,EAAE,GAAGm4B,SAAS;EAAa,CAAC,CAAC;EAC7J,MAAMC,aAAa,GAAGA,CAAC;IACrBC,OAAO;IACPC,QAAQ;IACR94B,SAAS;IACTwW;EACF,CAAC,KAAK,eAAgBrE,OAAO,CAAC3L,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEi7B,OAAO;IAAE74B,SAAS;IAAE0G,IAAI,EAAE,cAAc;IAAE8P;EAAM,CAAC,EAAEsiB,QAAQ,CAACvb,GAAG,CAACmb,kBAAkB,CAAC,CAAC;EAC9I,OAAO,eAAgBvmB,OAAO,CAAC3L,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEgH,OAAO;IAAE5E,SAAS,EAAE63B;EAAY,CAAC,EAAE,eAAgB1lB,OAAO,CAAC3L,aAAa,CAACyY,sBAAsB,EAAE,IAAI,CAAC,EAAE2Z,aAAa,CAAC;IAC/KC,OAAO,EAAE9C,IAAI;IACb/1B,SAAS,EAAEg4B,UAAU;IACrBxhB,KAAK,EAAE4hB,QAAQ;IACfU,QAAQ,EAAE,CAAC,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,cAAc;EAC/D,CAAC,CAAC,EAAE,eAAgB3mB,OAAO,CAAC3L,aAAa,CAAC,KAAK,EAAE;IAAExG,SAAS,EAAE+3B,WAAW;IAAEn6B,GAAG,EAAEs4B,KAAK;IAAExvB,IAAI,EAAE;EAAe,CAAC,EAAEkyB,aAAa,CAAC;IAC3HC,OAAO,EAAE1C,aAAa;IACtBn2B,SAAS,EAAE83B,mBAAmB;IAC9BgB,QAAQ,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW;EACnD,CAAC,CAAC,CAAC,EAAEF,aAAa,CAAC;IACjBC,OAAO,EAAE7C,UAAU;IACnBh2B,SAAS,EAAEi4B,gBAAgB;IAC3BzhB,KAAK,EAAE8hB,cAAc;IACrBQ,QAAQ,EAAE,CAAC,eAAe,EAAE,iBAAiB,EAAE,gBAAgB,EAAE,oBAAoB;EACvF,CAAC,CAAC,EAAEF,aAAa,CAAC;IAChBC,OAAO,EAAE5C,aAAa;IACtBj2B,SAAS,EAAEk4B,mBAAmB;IAC9B1hB,KAAK,EAAE+hB,iBAAiB;IACxBO,QAAQ,EAAE,CAAC,kBAAkB,EAAE,oBAAoB,EAAE,mBAAmB,EAAE,uBAAuB;EACnG,CAAC,CAAC,EAAEF,aAAa,CAAC;IAChBC,OAAO,EAAEzC,OAAO;IAChBp2B,SAAS,EAAEm4B,aAAa;IACxB3hB,KAAK,EAAEiiB,WAAW;IAClBK,QAAQ,EAAE,CAAC,YAAY,EAAE,cAAc,EAAE,aAAa,EAAE,iBAAiB;EAC3E,CAAC,CAAC,CAAC;AACL,CAAC;AACD,IAAIC,oBAAoB,GAAG3mB,MAAM,CAAC0hB,YAAY,CAAC;;AAE/C;AACA,OAAOkF,OAAO,IAAI59B,UAAU,IAAI69B,WAAW,EAAEhyB,IAAI,IAAIiyB,MAAM,EAAE59B,WAAW,IAAI69B,aAAa,EAAE39B,UAAU,IAAI49B,YAAY,EAAEx9B,mBAAmB,IAAIy9B,oBAAoB,EAAEr9B,MAAM,IAAIs9B,QAAQ,QAAQ,OAAO;AACrM,SAASC,kBAAkB,EAAEC,YAAY,QAAQ,mBAAmB;AACpE,IAAIC,eAAe,GAAGA,CAACn2B,KAAK,EAAEo2B,WAAW,KAAK;EAC5C,MAAM;IAAEZ,QAAQ;IAAEa,iBAAiB;IAAEC,YAAY;IAAEC,QAAQ;IAAEC,kCAAkC;IAAEC;EAAQ,CAAC,GAAGz2B,KAAK;EAClH,MAAM;IAAE5F;EAAQ,CAAC,GAAG07B,YAAY,CAAC/7B,YAAY,CAAC;EAC9C,MAAM28B,cAAc,GAAGV,QAAQ,CAAC,IAAI,CAAC;EACrC,MAAMW,iBAAiB,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAMY,eAAe,GAAGZ,QAAQ,CAAC,CAAC;EAClC,MAAMa,WAAW,GAAIt7B,KAAK,IAAK;IAC7B,MAAMu7B,cAAc,GAAGv7B,KAAK,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGw7B,QAAQ,CAACx7B,KAAK,EAAE,EAAE,CAAC,CAACwB,QAAQ,CAAC,CAAC;IAC9E,CAAC25B,cAAc,EAAEC,iBAAiB,CAAC,CAACl6B,OAAO,CAAEu6B,QAAQ,IAAK;MACxD,IAAIF,cAAc,KAAK,KAAK,CAAC,EAAE;QAC7BE,QAAQ,CAACr7B,OAAO,EAAEs7B,eAAe,CAAC,UAAU,CAAC;MAC/C,CAAC,MAAM;QACLD,QAAQ,CAACr7B,OAAO,EAAE24B,YAAY,CAAC,UAAU,EAAEwC,cAAc,CAAC;MAC5D;IACF,CAAC,CAAC;EACJ,CAAC;EACDf,oBAAoB,CAACK,WAAW,EAAE,OAAO;IACvCc,wBAAwBA,CAACC,EAAE,EAAE;MAC3BP,eAAe,CAACj7B,OAAO,EAAEu7B,wBAAwB,CAACC,EAAE,CAAC;IACvD;EACF,CAAC,CAAC,CAAC;EACH,MAAMC,SAAS,GAAGvB,aAAa,CAAC,MAAM;IACpC,MAAMwB,WAAW,GAAGX,cAAc,CAAC/6B,OAAO;IAC1C,MAAM27B,cAAc,GAAGX,iBAAiB,CAACh7B,OAAO;IAChD,IAAI,CAAC07B,WAAW,IAAI,CAACC,cAAc,IAAIl9B,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MAC5Dm8B,eAAe,CAACj7B,OAAO,GAAGvB,OAAO,CAACa,WAAW,CAAC27B,eAAe,CAACj7B,OAAO,CAAC;MACtE;IACF;IACA,IAAI07B,WAAW,IAAIC,cAAc,EAAE;MACjC,MAAM91B,SAAS,GAAG;QAChBq1B;MACF,CAAC;MACDD,eAAe,CAACj7B,OAAO,GAAGvB,OAAO,CAACoI,UAAU,CAC1C,IAAI0zB,YAAY,CAAC;QACft7B,IAAI,EAAE4G,SAAS;QACf+1B,SAAS,EAAEF,WAAW;QACtBG,YAAY,EAAEF,cAAc;QAC5BjB,iBAAiB;QACjBC,YAAY;QACZE,kCAAkC;QAClCiB,iBAAiB,EAAGC,UAAU,IAAKnB,QAAQ,CAACkB,iBAAiB,CAACC,UAAU,CAAC;QACzEjB;MACF,CAAC,CACH,CAAC;IACH;EACF,CAAC,EAAE,EAAE,CAAC;EACN,MAAMkB,SAAS,GAAG9B,aAAa,CAC5B3F,CAAC,IAAK;IACLwG,cAAc,CAAC/6B,OAAO,GAAGu0B,CAAC;IAC1BkH,SAAS,CAAC,CAAC;EACb,CAAC,EACD,CAACA,SAAS,CACZ,CAAC;EACD,MAAMQ,YAAY,GAAG/B,aAAa,CAC/B3F,CAAC,IAAK;IACLyG,iBAAiB,CAACh7B,OAAO,GAAGu0B,CAAC;IAC7BkH,SAAS,CAAC,CAAC;EACb,CAAC,EACD,CAACA,SAAS,CACZ,CAAC;EACD,MAAMS,cAAc,GAAIC,IAAI,IAAK;IAC/B,MAAMp7B,SAAS,GAAGo7B,IAAI,KAAK,KAAK,GAAG7B,kBAAkB,CAAC8B,aAAa,GAAG9B,kBAAkB,CAAC+B,gBAAgB;IACzG,OAAO,eAAgBtC,OAAO,CAACxyB,aAAa,CAC1C,KAAK,EACL;MACExG,SAAS,EAAE,GAAGu5B,kBAAkB,CAACgC,SAAS,IAAIv7B,SAAS,EAAE;MACzD0G,IAAI,EAAE,cAAc;MACpB9I,GAAG,EAAEw9B,IAAI,KAAK,KAAK,GAAGH,SAAS,GAAGC;IACpC,CACF,CAAC;EACH,CAAC;EACD,OAAO,eAAgBlC,OAAO,CAACxyB,aAAa,CAACwyB,OAAO,CAAC1Q,QAAQ,EAAE,IAAI,EAAE6S,cAAc,CAAC,KAAK,CAAC,EAAErC,QAAQ,EAAEqC,cAAc,CAAC,QAAQ,CAAC,CAAC;AACjI,CAAC;AACD,IAAIK,YAAY,GAAGvC,WAAW,CAACQ,eAAe,CAAC;AAC/C,IAAIgC,oBAAoB,GAAGvC,MAAM,CAACsC,YAAY,CAAC;;AAE/C;AACA,IAAIE,QAAQ,GAAGA,CAAC;EAAEh+B;AAAQ,CAAC,KAAK;EAC9B,MAAM,CAACi+B,QAAQ,EAAEC,WAAW,CAAC,GAAG3pB,UAAU,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC2jB,WAAW,EAAEC,cAAc,CAAC,GAAG5jB,UAAU,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC4pB,MAAM,EAAEC,SAAS,CAAC,GAAG7pB,UAAU,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC8pB,UAAU,EAAEC,aAAa,CAAC,GAAG/pB,UAAU,CAAC,IAAI,CAAC;EACpD,MAAM,CAACgqB,WAAW,EAAEC,cAAc,CAAC,GAAGjqB,UAAU,CAAC,KAAK,CAAC;EACvD,MAAM,CAACkqB,aAAa,EAAEC,gBAAgB,CAAC,GAAGnqB,UAAU,CAAC,CAAC;EACtD,MAAM6M,WAAW,GAAG9M,QAAQ,CAAC,CAAC;EAC9B,MAAMqqB,eAAe,GAAGrqB,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAMsqB,WAAW,GAAGtqB,QAAQ,CAAC,CAAC;EAC9B,MAAM,CAACuqB,eAAe,EAAEC,iBAAiB,CAAC,GAAGvqB,UAAU,CAAC,IAAI,CAAC;EAC7D,MAAMwqB,oBAAoB,GAAGzqB,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC;EACnD,MAAM0qB,iBAAiB,GAAG1qB,QAAQ,CAAC,CAAC;EACpC,MAAM2qB,sBAAsB,GAAG3qB,QAAQ,CAAC,EAAE,CAAC;EAC3C,MAAM4nB,YAAY,GAAG/nB,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE,EAAE,CAAC;EACpD6N,oBAAoB,CAAC,WAAW,EAAE2c,eAAe,CAAC;EAClD,MAAMz3B,OAAO,GAAGiN,aAAa,CAAEhN,IAAI,IAAK;IACtCw3B,eAAe,CAACp9B,OAAO,GAAG4F,IAAI;IAC9Bia,WAAW,CAAC7f,OAAO,GAAG4F,IAAI,GAAGnH,OAAO,CAACoI,UAAU,CAAC,IAAIoM,QAAQ,CAAC,CAAC,CAAC,GAAGxU,OAAO,CAACa,WAAW,CAACugB,WAAW,CAAC7f,OAAO,CAAC;IAC1G,IAAI,CAAC4F,IAAI,IAAInH,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MAClC;IACF;IACA,MAAM87B,QAAQ,GAAG/a,WAAW,CAAC7f,OAAO;IACpCw9B,oBAAoB,CAACx9B,OAAO,GAAG46B,QAAQ,CAACkB,iBAAiB,CAAC9vB,IAAI,CAAC4uB,QAAQ,CAAC;IACxE,MAAM/0B,SAAS,GAAG;MAChB83B,aAAa,EAAEA,CAAA,KAAM,CACrB,CAAC;MACD;MACAhB,WAAW;MACXpB,wBAAwB,EAAGC,EAAE,IAAK;QAChC,IAAI,CAACA,EAAE,IAAIiC,iBAAiB,CAACz9B,OAAO,EAAEivB,WAAW,CAAC,CAAC,EAAE;UACnDwO,iBAAiB,CAACz9B,OAAO,CAACu7B,wBAAwB,CAACC,EAAE,CAAC;UACtD;QACF;QACA6B,WAAW,CAACr9B,OAAO,EAAEu7B,wBAAwB,CAACC,EAAE,CAAC;MACnD,CAAC;MACDrD,mBAAmB,EAAEvB,cAAc;MACnCgH,sBAAsB,EAAEA,CAAA,KAAM;QAC5B,MAAMC,KAAK,GAAG,EAAE;QAChB,MAAMC,cAAc,GAAGV,eAAe,CAACp9B,OAAO,EAAE+9B,aAAa,CAAC,UAAU,CAAC;QACzE,IAAID,cAAc,EAAE;UAClBD,KAAK,CAAC15B,IAAI,CAAC;YAAE5E,MAAM,EAAEA,CAAA,KAAMu+B;UAAe,CAAC,CAAC;QAC9C;QACAJ,sBAAsB,CAAC19B,OAAO,CAACc,OAAO,CAAE7B,IAAI,IAAK;UAC/C,IAAIA,IAAI,CAACgwB,WAAW,CAAC,CAAC,EAAE;YACtB4O,KAAK,CAAC15B,IAAI,CAAClF,IAAI,CAAC;UAClB;QACF,CAAC,CAAC;QACF,OAAO4+B,KAAK;MACd,CAAC;MACDhB,SAAS;MACTE;IACF,CAAC;IACDnC,QAAQ,CAAC/iB,OAAO,CAAChS,SAAS,EAAED,IAAI,EAAEA,IAAI,CAAC;IACvCq3B,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EACNpqB,UAAU,CAAC,MAAM;IACf,MAAM+nB,QAAQ,GAAG/a,WAAW,CAAC7f,OAAO;IACpC,MAAMg+B,YAAY,GAAGZ,eAAe,CAACp9B,OAAO;IAC5C,IAAI,CAACk9B,aAAa,IAAI,CAACtC,QAAQ,IAAI,CAAC0C,eAAe,IAAI,CAACU,YAAY,IAAIv/B,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MAC7F;IACF;IACA,MAAMs4B,cAAc,GAAG,EAAE;IACzB,MAAM;MACJ6G,iBAAiB;MACjBC,kBAAkB;MAClBC,eAAe;MACfC,iBAAiB;MACjBC;IACF,CAAC,GAAGzD,QAAQ,CAAC0D,oBAAoB,CAAC,CAAC;IACnC,MAAMC,aAAa,GAAG,EAAE;IACxB,IAAIF,2BAA2B,EAAE;MAC/B,MAAMG,mBAAmB,GAAG//B,OAAO,CAACoI,UAAU,CAAC,IAAIw3B,2BAA2B,CAACjyB,SAAS,CAAC,CAAC,CAAC;MAC3F,MAAM7H,IAAI,GAAGi6B,mBAAmB,CAACj/B,MAAM,CAAC,CAAC;MACzCy+B,YAAY,CAAC9mB,qBAAqB,CAAC,YAAY,EAAE3S,IAAI,CAAC;MACtDg6B,aAAa,CAACp6B,IAAI,CAACI,IAAI,CAAC;MACxB6yB,cAAc,CAACjzB,IAAI,CAACq6B,mBAAmB,CAAC;IAC1C;IACA,IAAIL,eAAe,EAAE;MACnB,MAAMM,WAAW,GAAGhgC,OAAO,CAACoI,UAAU,CAAC,IAAIs3B,eAAe,CAAC/xB,SAAS,CAAC,CAAC,CAAC;MACvE,MAAM7H,IAAI,GAAGk6B,WAAW,CAACl/B,MAAM,CAAC,CAAC;MACjC,MAAMo8B,cAAc,GAAG2B,eAAe,CAACS,aAAa,CAAC,sBAAsB,CAAC;MAC5E,IAAIpC,cAAc,EAAE;QAClBA,cAAc,CAACzkB,qBAAqB,CAAC,aAAa,EAAE3S,IAAI,CAAC;QACzDg6B,aAAa,CAACp6B,IAAI,CAACI,IAAI,CAAC;MAC1B;MACA6yB,cAAc,CAACjzB,IAAI,CAACs6B,WAAW,CAAC;MAChCf,sBAAsB,CAAC19B,OAAO,CAACmE,IAAI,CAACs6B,WAAW,CAAC;IAClD;IACA,MAAMC,iBAAiB,GAAItyB,SAAS,IAAK;MACvC,MAAMnN,IAAI,GAAGR,OAAO,CAACoI,UAAU,CAAC,IAAIuF,SAAS,CAAC,CAAC,CAAC;MAChD,MAAM7H,IAAI,GAAGtF,IAAI,CAACM,MAAM,CAAC,CAAC;MAC1By+B,YAAY,CAAC9mB,qBAAqB,CAAC,WAAW,EAAE3S,IAAI,CAAC;MACrDg6B,aAAa,CAACp6B,IAAI,CAACI,IAAI,CAAC;MACxB6yB,cAAc,CAACjzB,IAAI,CAAClF,IAAI,CAAC;MACzB,OAAOA,IAAI;IACb,CAAC;IACD,IAAIm/B,iBAAiB,EAAE;MACrBM,iBAAiB,CAACN,iBAAiB,CAAChyB,SAAS,CAAC;IAChD;IACA,IAAI8xB,kBAAkB,EAAE;MACtB,MAAMS,cAAc,GAAGD,iBAAiB,CAACR,kBAAkB,CAAC9xB,SAAS,CAAC;MACtEqxB,iBAAiB,CAACz9B,OAAO,GAAG2+B,cAAc;MAC1CjB,sBAAsB,CAAC19B,OAAO,CAACmE,IAAI,CAACw6B,cAAc,CAAC;IACrD;IACA,IAAIV,iBAAiB,EAAE;MACrBS,iBAAiB,CAACT,iBAAiB,CAAC7xB,SAAS,CAAC;IAChD;IACA,OAAO,MAAM;MACX3N,OAAO,CAAC64B,YAAY,CAACF,cAAc,CAAC;MACpCmH,aAAa,CAACz9B,OAAO,CAAE89B,EAAE,IAAK;QAC5BA,EAAE,CAACl/B,aAAa,EAAEC,WAAW,CAACi/B,EAAE,CAAC;MACnC,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,EAAE,CAAC1B,aAAa,EAAEI,eAAe,EAAE7+B,OAAO,CAAC,CAAC;EAC7C,MAAMogC,kBAAkB,GAAG/rB,SAAS,CAClC,MAAM3S,WAAW,CAAC,iBAAiB,EAAEu8B,QAAQ,EAAE/F,WAAW,CAAC,EAC3D,CAAC+F,QAAQ,EAAE/F,WAAW,CACxB,CAAC;EACD,MAAMmI,sBAAsB,GAAGhsB,SAAS,CACtC,MAAM3S,WAAW,CAAC,sBAAsB,EAAE,kBAAkB,EAAEw2B,WAAW,CAAC,EAC1E,CAACA,WAAW,CACd,CAAC;EACD,MAAMwC,QAAQ,GAAGrmB,SAAS,CACxB,OAAO;IACLgqB,UAAU,EAAEA,UAAU,IAAI,IAAI,GAAGA,UAAU,GAAG,EAAE;IAChDiC,gBAAgB,EAAEjC,UAAU,IAAI,IAAI,GAAGA,UAAU,GAAG,EAAE;IACtDF,MAAM,EAAEA,MAAM,IAAI,IAAI,GAAGA,MAAM,GAAG;EACpC,CAAC,CAAC,EACF,CAACE,UAAU,EAAEF,MAAM,CACrB,CAAC;EACD,MAAMoC,kBAAkB,GAAGpsB,aAAa,CAAEjU,GAAG,IAAK;IAChD0+B,WAAW,CAACr9B,OAAO,GAAGrB,GAAG;IACzBw+B,gBAAgB,CAACx+B,GAAG,KAAK,IAAI,CAAC;EAChC,CAAC,EAAE,EAAE,CAAC;EACN,MAAMsgC,WAAW,GAAGrsB,aAAa,CAAC,MAAM,CAACiN,WAAW,CAAC7f,OAAO,EAAEi/B,WAAW,CAAC,CAAC,EAAE,EAAE,CAAC;EAChF,OAAO,eAAgBvsB,OAAO,CAACnL,aAAa,CAAC,KAAK,EAAE;IAAE5I,GAAG,EAAEgH,OAAO;IAAE5E,SAAS,EAAE89B,kBAAkB;IAAEtnB,KAAK,EAAE4hB,QAAQ;IAAE1xB,IAAI,EAAE;EAAe,CAAC,EAAE,eAAgBiL,OAAO,CAACnL,aAAa,CAAC,KAAK,EAAE;IAAExG,SAAS,EAAE+9B,sBAAsB;IAAEngC,GAAG,EAAE4+B,iBAAiB;IAAE91B,IAAI,EAAE;EAAe,CAAC,EAAEu1B,WAAW,IAAIM,eAAe,IAAI,CAAC7+B,OAAO,CAACK,WAAW,CAAC,CAAC,IAAI,eAAgB4T,OAAO,CAACnL,aAAa,CAACnJ,YAAY,CAACsK,QAAQ,EAAE;IAAE9I,KAAK,EAAEnB,OAAO,CAACygC,QAAQ,CAAC;EAAE,CAAC,EAAE,eAAgBxsB,OAAO,CAACnL,aAAa,CACzci1B,oBAAoB,EACpB;IACE79B,GAAG,EAAEqgC,kBAAkB;IACvBtE,iBAAiB,EAAE4C,eAAe;IAClC3C,YAAY;IACZC,QAAQ,EAAE/a,WAAW,CAAC7f,OAAO;IAC7B66B,kCAAkC,EAAE,IAAI;IACxCC,OAAO,EAAEmE;EACX,CAAC;EACD;EACA;EACA;EACA;EACA;EACA;EAAgBvsB,OAAO,CAACnL,aAAa,CAACuyB,oBAAoB,EAAE,IAAI,CAClE,CAAC,CAAC,CAAC,CAAC;AACN,CAAC;AACD,IAAIqF,gBAAgB,GAAGxsB,MAAM,CAAC8pB,QAAQ,CAAC;;AAEvC;AACA,SAAS2C,QAAQ,QAAQ,mBAAmB;AAC5C,IAAIC,mBAAmB,GAAG,cAAcD,QAAQ,CAAC;EAC/CE,aAAaA,CAAA,EAAG;IACd,IAAI,IAAI,CAAC9a,KAAK,CAAC+a,WAAW,EAAE;MAC1B,MAAMC,4BAA4B,GAAG,IAAI,CAACA,4BAA4B,CAACxzB,IAAI,CAAC,IAAI,CAAC;MACjF,IAAI,CAACyzB,wBAAwB,CAAC;QAC5BC,wBAAwB,EAAEF,4BAA4B;QACtDG,mBAAmB,EAAEH,4BAA4B;QACjD;QACAI,gBAAgB,EAAEJ,4BAA4B;QAC9CK,kBAAkB,EAAEL,4BAA4B;QAChDM,cAAc,EAAEN;MAClB,CAAC,CAAC;IACJ;EACF;EACAA,4BAA4BA,CAAA,EAAG;IAC7B,MAAMD,WAAW,GAAG,IAAI,CAAC/a,KAAK,CAAC+a,WAAW;IAC1CA,WAAW,CAACQ,2BAA2B,GAAG,IAAI;IAC9Ct9B,UAAU,CAAC,MAAM;MACf88B,WAAW,CAACS,uBAAuB,CAAC,CAAC;IACvC,CAAC,EAAE,CAAC,CAAC;EACP;EACAC,sBAAsBA,CAAA,EAAG;IACvB,OAAO,IAAI,CAACzb,KAAK,CAAC0b,QAAQ,CAACC,0BAA0B,CAAC,CAAC,CAACC,KAAK,CAAE1G,SAAS,IAAKA,SAAS,CAAC2G,WAAW,CAAC,CAAC,CAACD,KAAK,CAAEhqB,IAAI,IAAKA,IAAI,CAACkqB,gBAAgB,CAAC,CAAC,CAAC,CAAC;EAChJ;EACAA,gBAAgBA,CAAA,EAAG;IACjB,OAAO,IAAI,CAAC9b,KAAK,CAAC+b,WAAW,CAACC,cAAc,CAAC,CAAC,CAACJ,KAAK,CAAEK,GAAG,IAAKA,GAAG,CAACC,aAAa,CAAC,CAAC,IAAID,GAAG,CAACE,eAAe,CAAC,CAAC,CAACP,KAAK,CAAE/hB,QAAQ,IAAK,CAAC,CAACA,QAAQ,CAAC9Z,IAAI,CAAC,CAAC;EAClJ;AACF,CAAC;;AAED;AACA,IAAIq8B,eAAe,GAAG;EACpBC,UAAU,EAAE,KAAK,CAAC;EAClBhvB,0BAA0B,EAAE,KAAK,CAAC;EAClCgoB,QAAQ,EAAE,KAAK;AACjB,CAAC;AACD,IAAIiH,wBAAwB,GAAG;EAC7BC,WAAW,EAAE,KAAK,CAAC;EACnBC,OAAO,EAAE,KAAK,CAAC;EACfC,cAAc,EAAE,KAAK,CAAC;EACtBlgC,SAAS,EAAE,KAAK,CAAC;EACjBmgC,WAAW,EAAE,KAAK,CAAC;EACnB92B,wBAAwB,EAAE,KAAK,CAAC;EAChC,GAAGw2B;AACL,CAAC;AACD,IAAIO,qBAAqB,GAAG,IAAIC,GAAG,CAAC//B,MAAM,CAACC,IAAI,CAACw/B,wBAAwB,CAAC,CAAC;AAC1E,IAAIO,wBAAwB,GAAG,IAAID,GAAG,CAAC//B,MAAM,CAACC,IAAI,CAACs/B,eAAe,CAAC,CAAC;AACpE,IAAIU,aAAa,GAAIj9B,KAAK,IAAK;EAC7B,MAAMk9B,MAAM,GAAGvkC,QAAQ,CAAC,CAAC;EACzB,MAAMuH,IAAI,GAAGvH,QAAQ,CAAC,IAAI,CAAC;EAC3B,MAAMiM,aAAa,GAAGjM,QAAQ,CAAC,IAAI,CAAC;EACpC,MAAMq6B,YAAY,GAAGr6B,QAAQ,CAAC,EAAE,CAAC;EACjC,MAAMwkC,cAAc,GAAGxkC,QAAQ,CAAC,EAAE,CAAC;EACnC,MAAMykC,SAAS,GAAGzkC,QAAQ,CAACqH,KAAK,CAAC;EACjC,MAAMq9B,qBAAqB,GAAG1kC,QAAQ,CAAC,CAAC;EACxC,MAAM2kC,SAAS,GAAG3kC,QAAQ,CAAC,CAAC;EAC5B,MAAM4kC,KAAK,GAAG5kC,QAAQ,CAAC,KAAK,CAAC;EAC7B,MAAM,CAACyB,OAAO,EAAEojC,UAAU,CAAC,GAAG3kC,UAAU,CAAC,KAAK,CAAC,CAAC;EAChD,MAAM,GAAG4kC,kBAAkB,CAAC,GAAG5kC,UAAU,CAAC,CAAC,CAAC;EAC5C,MAAMyI,OAAO,GAAGrJ,aAAa,CAAEsJ,IAAI,IAAK;IACtCrB,IAAI,CAACvE,OAAO,GAAG4F,IAAI;IACnB,IAAI,CAACA,IAAI,EAAE;MACTyxB,YAAY,CAACr3B,OAAO,CAACc,OAAO,CAAEy2B,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC;MACxCF,YAAY,CAACr3B,OAAO,CAACyD,MAAM,GAAG,CAAC;MAC/B;IACF;IACA,MAAMu9B,OAAO,GAAG38B,KAAK,CAAC28B,OAAO,IAAI,EAAE;IACnC,IAAI,CAAC/3B,aAAa,CAACjJ,OAAO,EAAE;MAC1BiJ,aAAa,CAACjJ,OAAO,GAAG,IAAI0R,aAAa,CACvC,MAAMowB,kBAAkB,CAAEx+B,IAAI,IAAKA,IAAI,GAAG,CAAC,CAAC,EAC5Ce,KAAK,CAAC+F,wBAAwB,EAC9B/F,KAAK,CAACwN,0BACR,CAAC;MACDwlB,YAAY,CAACr3B,OAAO,CAACmE,IAAI,CAAC,MAAM;QAC9B8E,aAAa,CAACjJ,OAAO,EAAEgK,OAAO,CAAC,CAAC;QAChCf,aAAa,CAACjJ,OAAO,GAAG,IAAI;MAC9B,CAAC,CAAC;IACJ;IACA,MAAM+hC,aAAa,GAAGzkC,gCAAgC,CACpD+G,KAAK,CAAC08B,WAAW,EACjB18B,KAAK,EACLhD,MAAM,CAACC,IAAI,CAAC+C,KAAK,CAAC,CAAC/D,MAAM,CAAEiB,GAAG,IAAK,CAAC4/B,qBAAqB,CAACj9B,GAAG,CAAC3C,GAAG,CAAC,CACpE,CAAC;IACD,MAAMygC,oBAAoB,GAAGA,CAAA,KAAM;MACjC,IAAIJ,KAAK,CAAC5hC,OAAO,EAAE;QACjB,MAAMiiC,KAAK,GAAGA,CAAA,KAAMP,qBAAqB,CAAC1hC,OAAO,EAAEkiC,kBAAkB,CAAC,CAAC,GAAG,KAAK,CAAC,GAAGV,cAAc,CAACxhC,OAAO,CAACmiC,KAAK,CAAC,CAAC;QACjH,IAAIv/B,EAAE,GAAGq/B,KAAK,CAAC,CAAC;QAChB,OAAOr/B,EAAE,EAAE;UACTA,EAAE,CAAC,CAAC;UACJA,EAAE,GAAGq/B,KAAK,CAAC,CAAC;QACd;MACF;IACF,CAAC;IACD,MAAMG,kBAAkB,GAAG,IAAIC,uBAAuB,CAACL,oBAAoB,CAAC;IAC5EN,qBAAqB,CAAC1hC,OAAO,GAAGoiC,kBAAkB;IAClD,MAAME,YAAY,GAAG,IAAIjD,mBAAmB,CAAC,CAAC;IAC9C,MAAMkD,UAAU,GAAG;MACjBC,qBAAqB,EAAE;QACrBC,oBAAoB,EAAE,IAAIC,8BAA8B,CAACz5B,aAAa,CAACjJ,OAAO,EAAE+hC,aAAa,CAAC;QAC9FO;MACF,CAAC;MACDtB,OAAO;MACPoB,kBAAkB;MAClBO,iBAAiB,EAAE;IACrB,CAAC;IACD,MAAMC,gBAAgB,GAAIC,GAAG,IAAK;MAChChB,UAAU,CAACgB,GAAG,CAAC;MACfA,GAAG,CAACh8B,UAAU,CAACy7B,YAAY,CAAC;MAC5BjL,YAAY,CAACr3B,OAAO,CAACmE,IAAI,CAAC,MAAM;QAC9B0+B,GAAG,CAAC74B,OAAO,CAAC,CAAC;MACf,CAAC,CAAC;MACF64B,GAAG,CAACC,OAAO,CAAC,UAAU,CAAC,CAACC,SAAS,CAC/B;QACE5rB,cAAc,EAAG3U,IAAI,IAAK;UACxB60B,YAAY,CAACr3B,OAAO,CAACmE,IAAI,CAAC3B,IAAI,CAAC;QACjC;MACF,CAAC,EACD,MAAM;QACJ,IAAIqgC,GAAG,CAAC/jC,WAAW,CAAC,CAAC,EAAE;UACrB;QACF;QACA,MAAMkkC,GAAG,GAAGzB,MAAM,CAACvhC,OAAO;QAC1B,IAAIgjC,GAAG,EAAE;UACP3+B,KAAK,CAAC68B,WAAW,GAAG8B,GAAG,CAAC;QAC1B;MACF,CACF,CAAC;IACH,CAAC;IACD,MAAMC,qBAAqB,GAAIC,QAAQ,IAAK;MAC1CA,QAAQ,CAACJ,OAAO,CAAC,UAAU,CAAC,CAACC,SAAS,CACpC;QACE5rB,cAAc,EAAG3U,IAAI,IAAK;UACxB60B,YAAY,CAACr3B,OAAO,CAACmE,IAAI,CAAC3B,IAAI,CAAC;QACjC;MACF,CAAC,EACD,MAAM;QACJg/B,cAAc,CAACxhC,OAAO,CAACc,OAAO,CAAEy2B,CAAC,IAAKA,CAAC,CAAC,CAAC,CAAC;QAC1CiK,cAAc,CAACxhC,OAAO,CAACyD,MAAM,GAAG,CAAC;QACjCm+B,KAAK,CAAC5hC,OAAO,GAAG,IAAI;MACtB,CACF,CAAC;IACH,CAAC;IACD,MAAMmjC,eAAe,GAAG,IAAI/lC,eAAe,CAAC,CAAC;IAC7C2kC,aAAa,CAACqB,MAAM,KAAKrB,aAAa,CAACqB,MAAM,GAAGzB,SAAS,CAAC3hC,OAAO,CAAC;IAClEuhC,MAAM,CAACvhC,OAAO,GAAGmjC,eAAe,CAACE,MAAM,CACrCz9B,IAAI,EACJm8B,aAAa,EACba,gBAAgB,EAChBK,qBAAqB,EACrBV,UACF,CAAC;IACDlL,YAAY,CAACr3B,OAAO,CAACmE,IAAI,CAAC,MAAM;MAC9Bo9B,MAAM,CAACvhC,OAAO,GAAG,KAAK,CAAC;IACzB,CAAC,CAAC;IACF,IAAIuhC,MAAM,CAACvhC,OAAO,EAAE;MAClB2hC,SAAS,CAAC3hC,OAAO,GAAGuhC,MAAM,CAACvhC,OAAO,CAACsjC,SAAS,CAAC,CAAC;IAChD;EACF,CAAC,EAAE,EAAE,CAAC;EACN,MAAM/rB,KAAK,GAAGza,SAAS,CAAC,MAAM;IAC5B,OAAO;MACLogB,MAAM,EAAE,MAAM;MACd,IAAG7Y,KAAK,CAAC48B,cAAc,IAAI,CAAC,CAAC;IAC/B,CAAC;EACH,CAAC,EAAE,CAAC58B,KAAK,CAAC48B,cAAc,CAAC,CAAC;EAC1B,MAAMsC,gBAAgB,GAAGjnC,aAAa,CAAEkG,IAAI,IAAK;IAC/C,IAAIo/B,KAAK,CAAC5hC,OAAO,IAAI,CAAC0hC,qBAAqB,CAAC1hC,OAAO,EAAEkiC,kBAAkB,CAAC,CAAC,EAAE;MACzE1/B,IAAI,CAAC,CAAC;IACR,CAAC,MAAM;MACLg/B,cAAc,CAACxhC,OAAO,CAACmE,IAAI,CAAC3B,IAAI,CAAC;IACnC;EACF,CAAC,EAAE,EAAE,CAAC;EACN9F,WAAW,CAAC,MAAM;IAChB,MAAM8mC,OAAO,GAAGC,0BAA0B,CAAChC,SAAS,CAACzhC,OAAO,EAAEqE,KAAK,CAAC;IACpEo9B,SAAS,CAACzhC,OAAO,GAAGqE,KAAK;IACzBk/B,gBAAgB,CAAC,MAAM;MACrB,IAAIhC,MAAM,CAACvhC,OAAO,EAAE;QAClBnC,gBAAgB,CAAC2lC,OAAO,EAAEjC,MAAM,CAACvhC,OAAO,CAAC;MAC3C;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACqE,KAAK,CAAC,CAAC;EACX,MAAMq/B,UAAU,GAAG,CAACxnC,OAAO,CAACkH,oBAAoB,IAAI7F,cAAc,CAAC8G,KAAK,EAAE,eAAe,CAAC,KAAK,QAAQ,GAAG,QAAQ,GAAG,SAAS;EAC9H,OAAO,eAAgBnI,OAAO,CAACqL,aAAa,CAAC,KAAK,EAAE;IAAEgQ,KAAK;IAAExW,SAAS,EAAEsD,KAAK,CAACtD,SAAS;IAAEpC,GAAG,EAAEgH;EAAQ,CAAC,EAAE,eAAgBzJ,OAAO,CAACqL,aAAa,CAACjJ,iBAAiB,CAACoK,QAAQ,EAAE;IAAE9I,KAAK,EAAE8jC;EAAW,CAAC,EAAEjlC,OAAO,IAAI,CAACA,OAAO,CAACK,WAAW,CAAC,CAAC,GAAG,eAAgB5C,OAAO,CAACqL,aAAa,CAAC43B,gBAAgB,EAAE;IAAE59B,GAAG,EAAE9C,OAAO,CAACwF,UAAU;IAAExF;EAAQ,CAAC,CAAC,GAAG,IAAI,EAAEwK,aAAa,CAACjJ,OAAO,EAAEgS,UAAU,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC;AAC3X,CAAC;AACD,SAASyxB,0BAA0BA,CAAChC,SAAS,EAAEkC,SAAS,EAAE;EACxD,MAAMH,OAAO,GAAG,CAAC,CAAC;EAClBniC,MAAM,CAACC,IAAI,CAACqiC,SAAS,CAAC,CAAC7iC,OAAO,CAAE8iC,OAAO,IAAK;IAC1C,IAAIzC,qBAAqB,CAACj9B,GAAG,CAAC0/B,OAAO,CAAC,EAAE;MACtC,IAAIvC,wBAAwB,CAACn9B,GAAG,CAAC0/B,OAAO,CAAC,EAAE;QACzC7lC,MAAM,CAAC,GAAG,EAAE;UAAE8lC,IAAI,EAAED;QAAQ,CAAC,CAAC;MAChC;MACA;IACF;IACA,MAAME,SAAS,GAAGH,SAAS,CAACC,OAAO,CAAC;IACpC,IAAInC,SAAS,CAACmC,OAAO,CAAC,KAAKE,SAAS,EAAE;MACpCN,OAAO,CAACI,OAAO,CAAC,GAAGE,SAAS;IAC9B;EACF,CAAC,CAAC;EACF,OAAON,OAAO;AAChB;AACA,IAAId,8BAA8B,GAAG,cAAcvlC,oBAAoB,CAAC;EACtEwD,WAAWA,CAACgoB,MAAM,EAAEoY,WAAW,EAAE;IAC/B,KAAK,CAAC,CAAC;IACP,IAAI,CAACpY,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACoY,WAAW,GAAGA,WAAW;EAChC;EACAgD,aAAaA,CAACC,kBAAkB,EAAE96B,aAAa,EAAE;IAC/C,MAAM63B,WAAW,GAAG,IAAI,CAACA,WAAW;IACpC,MAAM1mB,wBAAwB,GAAG9c,cAAc,CAACwjC,WAAW,EAAE,0BAA0B,CAAC;IACxF,IAAI1mB,wBAAwB,EAAE;MAC5B,MAAM4pB,iBAAiB,GAAIC,YAAY,IAAK;QAC1C,QAAQA,YAAY;UAClB,KAAK,QAAQ;YACX,OAAO3mC,cAAc,CAACwjC,WAAW,EAAE,sBAAsB,CAAC,GAAGxxB,6BAA6B,GAAGpB,sBAAsB;UACrH,KAAK,yBAAyB;YAC5B,OAAO5Q,cAAc,CAACwjC,WAAW,EAAE,sBAAsB,CAAC,GAAG7wB,qCAAqC,GAAGD,8BAA8B;UACrI,KAAK,eAAe;YAClB,OAAO7C,oBAAoB;UAC7B,KAAK,2BAA2B;YAC9B,OAAOO,gCAAgC;UACzC,KAAK,yBAAyB;YAC5B,OAAOyC,8BAA8B;UACvC,KAAK,wBAAwB;YAC3B,OAAOW,6BAA6B;UACtC,KAAK,aAAa;YAChB,OAAOC,2BAA2B;UACpC,KAAK,WAAW;YACd,OAAOC,yBAAyB;UAClC,KAAK,UAAU;YACb,OAAOZ,wBAAwB;UACjC,KAAK,cAAc;YACjB,OAAOlD,4BAA4B;UACrC,KAAK,sBAAsB;YACzB,OAAOgD,2BAA2B;QACtC;MACF,CAAC;MACD,MAAMg0B,cAAc,GAAGF,iBAAiB,CAAC/6B,aAAa,CAAC/C,IAAI,CAAC;MAC5D,IAAIg+B,cAAc,EAAE;QAClB,OAAO,IAAIA,cAAc,CAACH,kBAAkB,EAAE,IAAI,CAACrb,MAAM,EAAEzf,aAAa,CAAC;MAC3E;IACF,CAAC,MAAM;MACL,QAAQA,aAAa,CAAC/C,IAAI;QACxB,KAAK,QAAQ;QACb,KAAK,yBAAyB;QAC9B,KAAK,eAAe;QACpB,KAAK,2BAA2B;QAChC,KAAK,yBAAyB;QAC9B,KAAK,wBAAwB;QAC7B,KAAK,aAAa;QAClB,KAAK,WAAW;QAChB,KAAK,UAAU;QACf,KAAK,cAAc;UACjBqL,4BAA4B,CAAC,CAAC;UAC9B;MACJ;IACF;IACA,MAAMrI,uBAAuB,GAAG,CAACD,aAAa,CAACk7B,YAAY,IAAIl7B,aAAa,CAAC/C,IAAI,KAAK,WAAW;IACjG,OAAO,IAAI4C,cAAc,CAACi7B,kBAAkB,EAAE,IAAI,CAACrb,MAAM,EAAEzf,aAAa,EAAEC,uBAAuB,CAAC;EACpG;AACF,CAAC;AACD,IAAIk7B,kBAAkB,GAAGjoC,WAAW,CAAC,CAACiI,KAAK,EAAE1F,GAAG,KAAK;EACnD,MAAM6lB,KAAK,GAAGhoB,YAAY,CAAC4B,YAAY,CAAC;EACxC,MAAM;IAAEkG,QAAQ;IAAE7F,OAAO;IAAEua,GAAG;IAAEsrB;EAAS,CAAC,GAAG9f,KAAK;EAClD,MAAM,CAACtf,UAAU,EAAEC,aAAa,CAAC,GAAGjI,UAAU,CAAC,MAAM,IAAIuD,UAAU,CAAC,CAAC,CAAC;EACtE,MAAM,CAAC8jC,cAAc,EAAEC,iBAAiB,CAAC,GAAGtnC,UAAU,CAAC,MAAM,IAAIuD,UAAU,CAAC,CAAC,CAAC;EAC9E,MAAM,CAACgkC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGxnC,UAAU,CAAC,CAAC;EAC9D,MAAM,CAACynC,aAAa,EAAEC,gBAAgB,CAAC,GAAG1nC,UAAU,CAAC,CAAC;EACtD,MAAM0H,OAAO,GAAG5H,QAAQ,CAAC,CAAC;EAC1B,MAAM6nC,OAAO,GAAG7nC,QAAQ,CAAC,IAAI,CAAC;EAC9B,MAAM8nC,yBAAyB,GAAG9nC,QAAQ,CAAC,CAAC;EAC5C,MAAM+nC,aAAa,GAAGjoC,SAAS,CAC7B,MAAMU,yBAAyB,CAAC6G,KAAK,CAAC2+B,GAAG,CAACM,SAAS,CAAC,CAAC,EAAEmB,iBAAiB,EAAEO,YAAY,IAAI,YAAY,CAAC,EACvG,CAAC3gC,KAAK,CACR,CAAC;EACD,MAAM4gC,YAAY,GAAGnoC,SAAS,CAAC,MAAMoI,UAAU,CAAC9D,QAAQ,CAAC,CAAC,GAAG,iBAAiB,EAAE,CAAC8D,UAAU,CAAC,CAAC;EAC7F,MAAMggC,aAAa,GAAGpoC,SAAS,CAAC,MAAMynC,cAAc,CAACnjC,QAAQ,CAAC,CAAC,GAAG,kBAAkB,EAAE,CAACmjC,cAAc,CAAC,CAAC;EACvG,IAAI5lC,GAAG,EAAE;IACP/B,oBAAoB,CAAC+B,GAAG,EAAE,OAAO;MAC/B+G,OAAOA,CAAA,EAAG;QACR,OAAOd,OAAO,CAAC5E,OAAO,EAAE0F,OAAO,CAAC,CAAC,IAAI,KAAK;MAC5C;IACF,CAAC,CAAC,CAAC;EACL;EACA,IAAIrB,KAAK,CAAC8gC,QAAQ,EAAE;IAClBpnC,MAAM,CAAC,GAAG,CAAC;EACb;EACA,MAAM4H,OAAO,GAAGrJ,aAAa,CAAEsJ,IAAI,IAAK;IACtCi/B,OAAO,CAAC7kC,OAAO,GAAG4F,IAAI;IACtB,IAAI,CAACA,IAAI,IAAInH,OAAO,CAACK,WAAW,CAAC,CAAC,EAAE;MAClC8F,OAAO,CAAC5E,OAAO,GAAGvB,OAAO,CAACa,WAAW,CAACsF,OAAO,CAAC5E,OAAO,CAAC;MACtD8kC,yBAAyB,CAAC9kC,OAAO,GAAG,CAAC;MACrC;IACF;IACA,MAAM6F,SAAS,GAAG;MAChBK,SAAS,EAAEA,CAACC,IAAI,EAAElF,EAAE,KAAKkE,aAAa,CAAE7B,IAAI,IAAKA,IAAI,CAACtC,QAAQ,CAACmF,IAAI,EAAElF,EAAE,CAAC,CAAC;MACzEmkC,mBAAmB,EAAEA,CAACj/B,IAAI,EAAElF,EAAE,KAAKujC,iBAAiB,CAAElhC,IAAI,IAAKA,IAAI,CAACtC,QAAQ,CAACmF,IAAI,EAAElF,EAAE,CAAC,CAAC;MACvFokC,aAAa,EAAGtE,WAAW,IAAK2D,oBAAoB,CAAC3D,WAAW,CAAC;MACjEuE,UAAU,EAAGC,OAAO,IAAKX,gBAAgB,CAACW,OAAO,CAAC;MAClDhmC,MAAM,EAAEA,CAAA,KAAMslC,OAAO,CAAC7kC;IACxB,CAAC;IACD,MAAMoW,IAAI,GAAG9R,QAAQ,CAACsC,iBAAiB,CAAC,wBAAwB,EAAE,IAAI,CAAC;IACvE,IAAI,CAACwP,IAAI,EAAE;MACT;IACF;IACA3X,OAAO,CAACoI,UAAU,CAACuP,IAAI,CAAC;IACxBA,IAAI,CAACtP,IAAI,CAACjB,SAAS,EAAExB,KAAK,CAAC;IAC3BO,OAAO,CAAC5E,OAAO,GAAGoW,IAAI;IACtB,IAAI4C,GAAG,CAACsB,GAAG,CAAC,qBAAqB,CAAC,EAAE;MAClC,MAAMkrB,gBAAgB,GAAGA,CAAA,KAAM;QAC7B,IAAIX,OAAO,CAAC7kC,OAAO,IAAI,IAAI,EAAE;UAC3B;QACF;QACA,MAAMylC,YAAY,GAAGZ,OAAO,CAAC7kC,OAAO,CAACylC,YAAY;QACjD,IAAIA,YAAY,IAAI,IAAI,IAAIA,YAAY,GAAG,CAAC,EAAE;UAC5C,MAAMC,mBAAmB,GAAGA,CAAA,KAAM;YAChCrhC,KAAK,CAACshC,IAAI,CAACC,YAAY,CAACH,YAAY,CAAC;YACrC,IAAIhoC,qBAAqB,CAACub,GAAG,EAAEsrB,QAAQ,CAAC,IAAI5mC,qBAAqB,CAACsb,GAAG,EAAEsrB,QAAQ,CAAC,EAAE;cAChFA,QAAQ,CAACuB,kBAAkB,CAAC,CAAC;YAC/B;UACF,CAAC;UACDpjC,UAAU,CAACijC,mBAAmB,EAAE,CAAC,CAAC;QACpC;MACF,CAAC;MACDZ,yBAAyB,CAAC9kC,OAAO,GAAGpC,eAAe,CAAC4mB,KAAK,EAAE5e,IAAI,EAAE4/B,gBAAgB,CAAC;MAClFA,gBAAgB,CAAC,CAAC;IACpB;EACF,CAAC,EAAE,EAAE,CAAC;EACN,MAAMM,eAAe,GAAGxpC,aAAa,CAAE0mC,GAAG,IAAK;IAC7Cp+B,OAAO,CAAC5E,OAAO,EAAE+lC,wBAAwB,CAAC/C,GAAG,CAAC;EAChD,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,eAAgB9mC,OAAO,CAACqL,aAAa,CAAC,KAAK,EAAE;IAAExG,SAAS,EAAEkkC,YAAY;IAAEtmC,GAAG,EAAEgH;EAAQ,CAAC,EAAE8+B,iBAAiB,IAAI,eAAgBvoC,OAAO,CAACqL,aAAa,CACvJ+5B,aAAa,EACb;IACEvgC,SAAS,EAAEmkC,aAAa;IACxB,GAAGT,iBAAiB;IACpBzD,OAAO,EAAE+D,aAAa;IACtBQ,OAAO,EAAEZ,aAAa;IACtBzD,WAAW,EAAE4E;EACf,CACF,CAAC,CAAC;AACJ,CAAC,CAAC;AACF,IAAIzD,uBAAuB,GAAG,cAAchlC,yBAAyB,CAAC;EACpEsD,WAAWA,CAACqhC,oBAAoB,EAAE;IAChC,KAAK,CAAC,OAAO,CAAC;IACd,IAAI,CAACA,oBAAoB,GAAGA,oBAAoB;IAChD,IAAI,CAACgE,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,eAAe,GAAG,OAAO;IAC9B,IAAI,CAACC,mBAAmB,GAAG;MACzBC,mBAAmB,EAAEv+B,yBAAyB;MAC9Cw+B,kBAAkB,EAAEx+B,yBAAyB;MAC7Cy+B,oBAAoB,EAAEhC;IACxB,CAAC;IACD,IAAI,CAACiC,YAAY,GAAG,CAAC/6B,QAAQ,EAAEg7B,MAAM,KAAK;MACxC,IAAIA,MAAM,KAAK,eAAe,EAAE;QAC9B,OAAOhkC,mBAAmB,CAACgJ,QAAQ,CAAC;MACtC;MACA,OAAOA,QAAQ,CAAC,CAAC;IACnB,CAAC;EACH;EACAi7B,kBAAkBA,CAACrgC,IAAI,EAAE;IACvB,OAAO,IAAI,CAAC+/B,mBAAmB,CAAC//B,IAAI,CAAC;EACvC;EACAsgC,oBAAoBA,CAACxnC,IAAI,EAAE;IACzB,IAAI,CAACA,IAAI,EAAE;MACT,OAAO,KAAK;IACd;IACA,MAAM6C,SAAS,GAAG7C,IAAI,CAAC6C,SAAS;IAChC,MAAM4kC,QAAQ,GAAG5kC,SAAS,IAAI,QAAQ,IAAIA,SAAS;IACnD,OAAO,CAAC4kC,QAAQ;EAClB;EACAC,gBAAgBA,CAAA,EAAG;IACjB,IAAI,CAACX,YAAY,GAAG,IAAI;EAC1B;EACAY,oBAAoBA,CAAA,EAAG;IACrB,IAAI,CAACZ,YAAY,GAAG,KAAK;IACzB,IAAI,CAAChE,oBAAoB,CAAC,CAAC;EAC7B;EACAE,kBAAkBA,CAAA,EAAG;IACnB,OAAO,IAAI,CAAC8D,YAAY;EAC1B;EACAa,iBAAiBA,CAAA,EAAG;IAClB,OAAOxkC,SAAS,CAAC,CAAC;EACpB;AACF,CAAC;;AAED;AACA,IAAIykC,WAAW,GAAG,cAAc7qC,SAAS,CAAC;EACxC0E,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,GAAG6L,SAAS,CAAC;IACnB,IAAI,CAACu6B,YAAY,GAAG,EAAE;IACtB,IAAI,CAAClG,UAAU,GAAImC,GAAG,IAAK;MACzB,IAAI,CAACA,GAAG,GAAGA,GAAG;MACd,IAAI,CAAC+D,YAAY,CAACjmC,OAAO,CAAE03B,QAAQ,IAAKA,QAAQ,CAACwK,GAAG,CAAC,CAAC;IACxD,CAAC;EACH;EACAgE,mBAAmBA,CAACxO,QAAQ,EAAE;IAC5B,IAAI,CAACuO,YAAY,CAAC5iC,IAAI,CAACq0B,QAAQ,CAAC;EAClC;EACAyO,oBAAoBA,CAAA,EAAG;IACrB,IAAI,CAACF,YAAY,CAACtjC,MAAM,GAAG,CAAC;EAC9B;EACAyjC,MAAMA,CAAA,EAAG;IACP,OAAO,eAAgBlrC,OAAO,CAACuL,aAAa,CAAC+5B,aAAa,EAAE;MAAE,GAAG,IAAI,CAACj9B,KAAK;MAAE68B,WAAW,EAAE,IAAI,CAACL;IAAW,CAAC,CAAC;EAC9G;AACF,CAAC;;AAED;AACA,SAAStkC,UAAU,IAAI4qC,YAAY,QAAQ,OAAO;AAClD,SAASC,sBAAsBA,CAACr6B,OAAO,EAAE;EACvC,MAAM;IAAE5E;EAAW,CAAC,GAAGg/B,YAAY,CAACj/B,aAAa,CAAC;EAClDC,UAAU,CAAC4E,OAAO,CAAC;AACrB;AACA,SAASs6B,iBAAiBA,CAAC/a,SAAS,EAAE;EACpC8a,sBAAsB,CAAC9a,SAAS,CAAC;AACnC;AACA,SAASgb,WAAWA,CAAChb,SAAS,EAAE;EAC9B,OAAO8a,sBAAsB,CAAC9a,SAAS,CAAC;AAC1C;AACA,SAASib,aAAaA,CAACjb,SAAS,EAAE;EAChC,OAAO8a,sBAAsB,CAAC9a,SAAS,CAAC;AAC1C;AACA,SAASkb,oBAAoBA,CAAClb,SAAS,EAAE;EACvC,OAAO8a,sBAAsB,CAAC9a,SAAS,CAAC;AAC1C;AACA,SAASmb,qBAAqBA,CAACnb,SAAS,EAAE;EACxC8a,sBAAsB,CAAC9a,SAAS,CAAC;AACnC;AACA,SAASob,eAAeA,CAACpb,SAAS,EAAE;EAClC8a,sBAAsB,CAAC9a,SAAS,CAAC;AACnC;AACA,SACEwa,WAAW,EACX5+B,aAAa,IAAIy/B,sBAAsB,EACvC76B,WAAW,EACXu6B,iBAAiB,EACjBC,WAAW,EACXC,aAAa,EACbC,oBAAoB,EACpBC,qBAAqB,EACrBC,eAAe,EACfl2B,4BAA4B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}